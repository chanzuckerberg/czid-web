{"version":3,"sources":["webpack:///webpack/bootstrap 46f1eef073e0ccadc847","webpack:///./app/assets/src/index.js","webpack:///./app/assets/src/components/index.js","webpack:///./app/assets/src/components/Header.js","webpack:///./app/assets/src/components/login.js","webpack:///./app/assets/src/components/home.js","webpack:///./app/assets/src/components/SortHelper.js","webpack:///./app/assets/src/helpers/strings.js","webpack:///./app/assets/src/components/Samples.js"],"names":["Components","react_component","componentName","props","target","component","render","createElement","document","getElementById","window","Header","Login","Home","Samples","context","userSignedIn","location","pathname","sendMail","bind","userDetails","JSON","parse","e","displayProfileMenu","dropdown","belowOrigin","stopPropagation","path","href","link","gotoPage","admin","signoutEndpoint","email","Component","csrf","handleSubmit","toggleCheckBox","clearError","state","isChecked","success","showFailedLogin","errorMessage","successMessage","preventDefault","isFormInValid","login","setState","that","post","endpoint","user","refs","value","password","remember_me","authenticity_token","then","response","catch","error","checkboxValue","$","prop","renderLogin","SortHelper","sortBy","getFilter","currentSort","sortQuery","name","url","replace","regex","RegExp","results","exec","decodeURIComponent","currentUrl","deleteUrlParam","hasQuery","parameter","queryString","split","length","prefix","encodeURIComponent","pars","i","lastIndexOf","splice","join","numberWithCommas","x","toString","pattern","test","console","log","switchProject","handleSearch","defaultSortBy","columnSorting","handleSearchChange","loadMore","fetchResults","fetchSamples","handleStatusFilterSelect","setUrlLocation","sortSamples","switchColumn","uploadSample","toggleDisplayProjects","toggleDisplayFavProjects","toggleFavorite","pageSize","project","totalNumber","selectedProjectId","fetchParams","filterParams","searchParams","sampleIdsParams","favouriteProjects","favorites","formattedProjectList","formattedFavProjectList","favIds","allSamples","allProjects","sort_by","pagesLoaded","pageEnd","initialFetchedSamples","loading","isRequesting","displayEmpty","columnsShown","allColumns","showLess","showLessFavorites","sortCount","COLUMN_DISPLAY_MAP","total_reads","display_name","type","nonhost_reads","quality_control","tooltip","compression_ratio","pipeline_status","tissue_type","nucleotide_type","host_genome","notes","handleColumnSelectChange","columnHidden","ready","material_select","tooltipIdentifier","delay","html","placement","offset","new_sort","message","ReportFilter","showLoading","hideLoading","className","pos","indexOf","sort_query","substr","applySort","param","urlParams","URLSearchParams","search","get","column_name","position","Object","assign","status","runtime","Number","h","Math","floor","m","s","hDisplay","mDisplay","sDisplay","samples","BLANK_TEXT","map","sample","dbSample","db_sample","derivedOutput","derived_sample_output","runInfo","run_info","uploader","statusClass","job_status_description","applyChunkStatusClass","applyClass","getChunkedStage","rowWithChunkStatus","appendStatusIcon","data_values","pipeline_output","summary_stats","remaining_reads","nonhost_reads_percent","percent_remaining","toFixed","qc_percent","sample_tissue","sample_template","sample_location","host_genome_name","sample_notes","id","created_at","startOf","fromNow","column","column_data","total_runtime","formatRunTime","scroll","scrollTop","height","params","getParams","res","hideLoader","prevState","data","total_count","err","reformatProjectList","fetchProjects","projectId","parseInt","sampleParams","cb","postProcess","hostFiltering","alignment","favStatus","getAttribute","put","checkIfProjecExistInFavorites","favProjects","formattedList","favorited","includes","push","projects","updatedList","removeProjectFromFavorites","addProjectToFavorites","updateProjectsState","updatedFavouriteProjects","filter","removedFavouriteProject","projectIdIndex","updatedProject","key","listType","highlightSelectedFavoriteProject","highlightSelectedProject","fetchProjectDetails","projId","sort","selO","selValues","options","selected","selected_columns","findSelectedColumns","column_map","data_type","column_list","keys","option_name","sortLogic","a","b","nameA","toUpperCase","nameB","slice","addFavIconClass","project_id","download_button","search_box","tableHead","renderEmptyTable","renderPipelineOutput","click","arrowElement","toElement","top","offsetTop","offsetHeight","width","offsetWidth","left","offsetLeft","css","slideToggle","slideUp","prevProps","prevStatus","currentStatus","removeClass","addClass","samplesHeader","hide","initializeTooltip","fetchProjectPageData","scrollDown","initializeProjectList","displayPipelineStatusFilter","initializeColumnSelect","findDOMNode","columnSelector","on","textSize","constrainWidth","show","removeHighlight","history","replaceState","jQuery","renderSidebar","renderTable","text"],"mappings":"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","file":"dist/bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 146);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 46f1eef073e0ccadc847","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'materialize-css';\nimport 'bootstrap-tooltip';\nimport 'font-awesome/scss/font-awesome.scss';\nimport 'materialize-css/dist/css/materialize.css';\nimport * as Components from'./components/';\nimport './loader.scss';\nconst react_component = (componentName, props, target) => {\n  const component = Components[componentName];\n  if (typeof component !== 'undefined') {\n    ReactDOM.render(\n    React.createElement(component, props, null),\n    document.getElementById(target));\n  }\n};\nwindow.react_component = react_component;\n//\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/index.js","// import BulkUploadImport from './BulkUploadImport';\n// import createUser from './createUser';\n// import Forbidden from './forbidden';\nimport Header from './Header';\nimport Login from './login';\nimport Home from './home';\n// import IconComponent from './IconComponent';\n// import PipelineSampleReport from './PipelineSampleReport';\n// import ProjectVisualization from './ProjectVisualization';\n// import ReportFilter from './ReportFilter';\nimport Samples from './Samples';\n// import sampleUpload from './sampleUpload';\n// import SubHeader from './SubHeader';\n\nexport {\n  Header,\n  Login,\n  Home,\n  Samples\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/index.js","import React from 'react';\nimport $ from 'jquery';\nclass Header extends React.Component  {\n  constructor(props, context) {\n    super(props, context);\n    this.userSignedIn = this.props.userSignedIn;\n    this.location = window.location.pathname;\n    this.sendMail = this.sendMail.bind(this);\n    try {\n      this.userDetails = JSON.parse(this.props.userDetails);\n    } catch(e){\n      this.userDetails = null;\n    }\n  }\n\n\tcomponentDidMount() {\n   this.displayProfileMenu();\n  }\n\n  displayProfileMenu() {\n    $('.profile-dropdown').dropdown({\n      belowOrigin: true,\n      stopPropagation: false\n    });\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  sendMail() {\n    var link = \"mailto:regger@chanzuckerberg.com?Subject=Report%20Feedback\"\n    window.location.href = link;\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"page-loading\">\n          <div className=\"btn disabled\">\n            <i className=\"fa fa-spinner fa-spin\"/>\n            <span className='spinner-label'></span>\n          </div>\n        </div>\n        <div className=\"site-header\">\n          {/* Dropdown menu */}\n          <ul id=\"dropdown1\" className=\"dropdown-content\">\n            <li onClick={ this.gotoPage.bind(this, '/samples/new') }><a href=\"#!\">New sample</a></li>\n           { this.userDetails && this.userDetails.admin ? <li onClick={ this.gotoPage.bind(this, '/users/new') }><a href=\"#!\">Create user</a></li> : null }\n            <li onClick={ this.sendMail }><a href=\"#!\">Report Feedback</a></li>\n            <li className=\"divider\"></li>\n            <li><a rel=\"nofollow\" data-method=\"delete\" href={this.props.signoutEndpoint}>Logout</a></li>\n          </ul>\n\n          <div>\n            <div className=\"\">\n              <a href=\"/\" className=\"left brand-details\">\n                <div className=\"brand-short\">\n                    ID.seq\n                </div>\n\n                <div className=\"brand-long\">\n                  Infectious Disease Platform\n                </div>\n              </a>\n\n              <div className={ this.userSignedIn ? \"right hide-on-med-and-down header-right-nav\" : \"right hide-on-med-and-down header-right-nav menu\" }>\n                { this.userSignedIn ? <div className='profile-header-dropdown'><a className=\"dropdown-button profile-dropdown\" data-activates=\"dropdown1\">\n                    { this.userDetails.email } <i className=\"fa fa-angle-down\"></i>\n                    </a></div>:  (this.location === '/users/sign_in' ? null : <div className=\"login\"><span onClick={ this.gotoPage.bind(this, '/users/sign_in') }>Login</span></div>)\n                 }\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\nexport default Header;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Header.js","import React from 'react';\nimport axios from 'axios';\nclass Login extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.csrf = props.csrf\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.toggleCheckBox = this.toggleCheckBox.bind(this);\n    this.clearError = this.clearError.bind(this);\n    this.gotoPage = this.gotoPage.bind(this);\n    this.sendMail = this.sendMail.bind(this);\n    this.state = {\n      isChecked: false,\n      success: false,\n      showFailedLogin: false,\n      errorMessage: '',\n      successMessage: ''\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.clearError()\n    if(!this.isFormInValid()) {\n      this.login()\n    }\n  }\n\n  clearError() {\n    this.setState({\n      showFailedLogin: false,\n      success: false\n    })\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  login() {\n    var that = this\n    axios.post(`${this.props.endpoint}.json`, {\n      user: {\n        email: this.refs.email.value,\n        password: this.refs.password.value,\n        remember_me: this.refs.remember_me.value\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      that.setState({\n        success: true,\n        successMessage: 'User signed in'\n      }, () => {\n        that.gotoPage('/');\n      })\n    })\n    .catch((error) => {\n      that.setState({\n        showFailedLogin: true,\n        errorMessage: 'Invalid Email and Password'\n      })\n    });\n  }\n\n  isFormInValid() {\n    if (this.refs.email.value === '' && this.refs.password.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter email and password'\n      })\n      return true;\n    } else if (this.refs.email.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter email'\n      })\n      return true;\n    } else if (this.refs.password.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter password'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  toggleCheckBox() {\n    var checkboxValue = $('#remember_me').prop('checked')\n    this.setState({\n      isChecked: checkboxValue\n    })\n    this.state.isChecked = !this.state.isChecked;\n  }\n\n  sendMail() {\n    var link = \"mailto:regger@chanzuckerberg.com?Subject=Request%20IDseq%20Access\"\n    window.location.href = link;\n  }\n\n  renderLogin() {\n    return (\n        <div className=\"login-form\">\n          <div className=\"row\">\n            <form ref=\"form\" className=\"new_user\" id=\"new_user\" onSubmit={ this.handleSubmit }>\n              <div className=\"row title\">\n                <p className=\"col s6 signup\">Login</p>\n              </div>\n              <div className=\"mail\"><p>To request access to IDseq, please email us<span onClick={ this.sendMail }> here</span></p></div>\n              { this.state.success ? <div className=\"success-info\" >\n                <i className=\"fa fa-success\"></i>\n                 <span>{this.state.successMessage}</span>\n                </div> : null }\n              { this.state.showFailedLogin ? <div className=\"error-info\" >\n                  <i className=\"fa fa-error\"></i>\n                  <span>{this.state.errorMessage}</span>\n              </div> : null }\n              <div className=\"row content-wrapper\">\n                <div className=\"input-field\">\n                  <i className=\"sample fa fa-envelope\" aria-hidden=\"true\"></i>\n                  <input ref= \"email\" type=\"email\" className=\"\" onFocus={ this.clearError }  />\n                  <label htmlFor=\"user_email\">Email</label>\n                </div>\n                <div className=\"input-field\">\n                  <i className=\"sample fa fa-key\" aria-hidden=\"true\"></i>\n                  <input ref= \"password\" type=\"password\" className=\"\" onFocus={ this.clearError }   />\n                  <label htmlFor=\"user_password\">Password</label>\n                </div>\n                <div className=\"\">\n                  <input ref=\"remember_me\" type=\"checkbox\" name=\"switch\" className=\"filled-in\" id=\"remember_me\" onChange={ this.toggleCheckBox } value={this.state.isChecked ? 1 : 0} />\n                  <label htmlFor=\"remember_me\">Remember me</label>\n                </div>\n              </div>\n              <input className=\"hidden\" type=\"submit\"/>\n              <div onClick={ this.handleSubmit } className=\"center-align login-wrapper\">Submit</div>\n            </form>\n          </div>\n        </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        { this.renderLogin() }\n      </div>\n    )\n  }\n\n}\nexport default Login;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/login.js","import React from 'react';\nimport Samples from './Samples';\nclass Home extends React.Component {\n  render() {\n    return (\n      <div>\n        <Samples {...this.props}/>\n      </div>\n    )\n  }\n}\nexport default Home;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/home.js","/**\n * @class SortHelper\n * @desc a helper class to handle sorting on tables\n*/\nclass SortHelper {\n\n  /**\n    @method currentSort\n    @desc this gets the current sort from the url\n    @return {Object} an object literal\n  */\n  static currentSort() {\n    const sortBy = SortHelper.getFilter('sort_by');\n    let currentSort = {};\n    if (sortBy) {\n      currentSort = {\n        sortQuery: `sort_by=${sortBy}`\n      };\n    }\n    return currentSort;\n  }\n\n  /**\n    @method getFilter\n    @param {String} name\n    @desc this search the url parameter for the value of the specified get key\n    @return {String} when it finds the value or null when it doesn't\n  */\n  static getFilter(name) {\n    const url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`);\n    const results = regex.exec(url);\n    if (!results) {\n      return null;\n    }\n    if (!results[2]) {\n      return null;\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  }\n\n  /**\n    @method applySort\n    @param {String} sortQuery\n    @desc this method refreshes the entire page with the new query string parameters\n  */\n  static applySort(sortQuery) {\n    const currentUrl = window.location.href;\n    const url = SortHelper.deleteUrlParam(currentUrl, 'sort_by');\n    if (SortHelper.hasQuery(url)) {\n      window.location = `${url}&${sortQuery}`;\n    } else {\n      window.location = `${url}?${sortQuery}`;\n    }\n  }\n\n  /**\n   * @method deleteUrlParam\n   * @param {String} url\n   * @param {String} parameter\n   * @desc this delete a query parameter from a url\n   * @return {String} the modified url\n  */\n  static deleteUrlParam(url, parameter) {\n    const queryString = url.split('?');\n    if (queryString.length >= 2) {\n      const prefix = `${encodeURIComponent(parameter)}=`;\n      const pars = queryString[1].split(/[&;]/g);\n      let i;\n      for (i = pars.length; i--; i > 0) {\n        if (pars[i].lastIndexOf(prefix, 0) !== -1) {\n          pars.splice(i, 1);\n        }\n      }\n      url = `${queryString[0]}${pars.length > 0 ? `?${pars.join('&')}` : ''}`;\n    }\n    return url;\n  }\n\n  /**\n   * @method hasQuery\n   * @param {String} url\n   * @desc check if the url contain any get query\n   * @return {Boolean} true if the urls has any query modifier\n  */\n  static hasQuery(url) {\n    return (url.split('?').length >= 2);\n  }\n}\n\nexport default SortHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/SortHelper.js","function numberWithCommas(x) {\n\tif (!x) {\n\t\treturn x;\n\t}\n  x = x.toString();\n  var pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(x))\n      x = x.replace(pattern, \"$1,$2\");\n  return x;\n}\nexport default numberWithCommas;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/helpers/strings.js","import React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport SortHelper from './SortHelper';\nimport numberWithCommas from '../helpers/strings';\n\nclass Samples extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    console.log('Props', props);\n    this.switchProject = this.switchProject.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.csrf = props.csrf;\n    this.defaultSortBy = 'newest';\n    const currentSort = SortHelper.currentSort();\n    this.columnSorting = this.columnSorting.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.fetchResults = this.fetchResults.bind(this);\n    this.fetchSamples = this.fetchSamples.bind(this);\n    this.handleStatusFilterSelect = this.handleStatusFilterSelect.bind(this);\n    this.setUrlLocation = this.setUrlLocation.bind(this);\n    this.sortSamples = this.sortSamples.bind(this);\n    this.switchColumn = this.switchColumn.bind(this);\n    this.uploadSample = this.uploadSample.bind(this);\n    this.toggleDisplayProjects = this.toggleDisplayProjects.bind(this);\n    this.toggleDisplayFavProjects = this.toggleDisplayFavProjects.bind(this);\n    this.toggleFavorite = this.toggleFavorite.bind(this);\n    this.pageSize = props.pageSize || 30\n    this.state = {\n      project: null,\n      totalNumber: null,\n      selectedProjectId: this.fetchParams('project_id') || null,\n      filterParams: this.fetchParams('filter') || '',\n      searchParams: this.fetchParams('search') || '',\n      sampleIdsParams: this.fetchParams('ids') || [],\n      favouriteProjects: JSON.parse(props.favorites) || [],\n      formattedProjectList: [],\n      formattedFavProjectList: [],\n      favIds: [],\n      allSamples: [],\n      allProjects: [],\n      sort_by: this.fetchParams('sort_by') || 'id,desc',\n      pagesLoaded: 0,\n      pageEnd: false,\n      initialFetchedSamples: [],\n      loading: false,\n      isRequesting: false,\n      displayEmpty: false,\n      columnsShown: [\"total_reads\",\n        \"nonhost_reads\",\n        \"quality_control\",\n        \"compression_ratio\",\n        'host_genome',\n        'location',\n        'pipeline_status'],\n      allColumns: [\n        \"total_reads\",\n        \"nonhost_reads\",\n        \"quality_control\",\n        \"compression_ratio\",\n        'host_genome',\n        'location',\n        'pipeline_status',\n        'notes',\n        'tissue_type',\n        'nucleotide_type'\n      ],\n      showLess: true,\n      showLessFavorites: true\n    };\n    this.sortCount = 0;\n\n    this.COLUMN_DISPLAY_MAP = { total_reads: { display_name: \"Total reads\", type: \"pipeline_data\" },\n      nonhost_reads: { display_name: \"Non-host reads\", type: \"pipeline_data\" },\n      quality_control: { display_name: \"Passed QC\", tooltip: \"Passed quality control\", type: \"pipeline_data\" },\n      compression_ratio: { display_name: \"DCR\", tooltip: \"Duplicate compression ratio\", type: \"pipeline_data\" },\n      pipeline_status: { display_name: \"Status\", type: \"pipeline_data\" },\n      tissue_type: { display_name: \"Tissue type\", type: \"metadata\" },\n      nucleotide_type: { display_name: \"Nucleotide type\", type: \"metadata\" },\n      location: { display_name: \"Location\", type: \"metadata\" },\n      host_genome: { display_name: \"Host\", type: \"metadata\" },\n      notes: { display_name: \"Notes\", type: \"metadata\" } };\n    this.handleColumnSelectChange = this.handleColumnSelectChange.bind(this);\n    this.columnHidden = this.columnHidden.bind(this);\n    $(document).ready(function() {\n      $('select').material_select();\n    });\n  }\n\n  static showLoading(message) {\n    $('.page-loading .spinner-label').text(message);\n    $('.page-loading').css('display', 'flex');\n  }\n\n  static hideLoader() {\n    $('.page-loading').css('display', 'none');\n  }\n\n  initializeTooltip() {\n    // only updating the tooltip offset when the component is loaded\n    $(() => {\n      const tooltipIdentifier = $(\"[rel='tooltip']\");\n      tooltipIdentifier.tooltip({\n        delay: 0,\n        html: true,\n        placement: 'top',\n        offset: '0px 50px'\n      });\n    });\n  }\n\n  sortSamples() {\n    this.sortCount += 1;\n    let new_sort, message = '';\n    if(this.sortCount === 3) {\n      this.sortCount = 0;\n      new_sort = 'id,desc';\n      message = 'Sorting samples by date created...';\n    } else {\n      new_sort = (this.state.sort_by === 'name,asc') ? 'name,desc' :  'name,asc';\n      message = (new_sort === 'name,asc') ? 'Sorting samples by name (A-Z)...' : 'Sorting samples by name (Z-A)...';\n    }\n    this.setState({ sort_by: new_sort, pagesLoaded: 0, pageEnd: false }, () => {\n      this.setUrlLocation();\n      ReportFilter.showLoading(message);\n      this.fetchResults(() => {\n        ReportFilter.hideLoading();\n      });\n    });\n  }\n\n  columnSorting(e) {\n    const className = e.target.className;\n    const pos = className.indexOf('sort_by');\n    const sort_query = className.substr(pos).split(' ')[0];\n    this.setState({ sort_query });\n    SortHelper.applySort(sort_query);\n  }\n\n  fetchParams(param) {\n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(param)\n  }\n\n\n  handleSearchChange(e) {\n    if (e.target.value !== '') {\n      this.setState({ searchParams: e.target.value });\n    } else {\n      this.setState({\n        searchParams: '',\n        pageEnd: false,\n        pagesLoaded: 0\n      }, () => {\n        this.setUrlLocation();\n        this.fetchResults();\n      });\n    }\n  }\n\n  switchColumn(column_name, position) {\n    const columnsShown = Object.assign([], this.state.columnsShown);\n    columnsShown[position] = column_name;\n    this.setState({ columnsShown });\n  }\n\n  appendStatusIcon(status) {\n    switch(status) {\n      case 'WAITING':\n        return <i className=\"waiting fa fa-arrow-up\" aria-hidden=\"true\"></i>;\n        break;\n      case 'INPROGRESS':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'POST PROCESSING':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'HOST FILTERING':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'ALIGNMENT':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'FAILED':\n        return <i className=\"failed fa fa-times\" aria-hidden=\"true\"></i>;\n        break;\n      case 'COMPLETE':\n        return <i className=\"complete fa fa-check\" aria-hidden=\"true\"></i>;\n        break;\n      default:\n        return <i className=\"waiting fa fa-arrow-up\" aria-hidden=\"true\"></i>;\n    }\n  }\n\n  formatRunTime(runtime) {\n    runtime = Number(runtime);\n    const h = Math.floor(runtime / 3600);\n    const m = Math.floor(runtime % 3600 / 60);\n    const s = Math.floor(runtime % 3600 % 60);\n\n    const hDisplay = h > 0 ? h + (h === 1 ? \" hour, \" : \" hours, \") : \"\";\n    const mDisplay = m > 0 ? m + (m === 1 ? \" minute, \" : \" minutes, \") : \"\";\n    const sDisplay = s > 0 ? s + (s === 1 ? \" second\" : \" seconds\") : \"\";\n    return hDisplay + mDisplay + sDisplay;\n  }\n\n  renderPipelineOutput(samples) {\n    let BLANK_TEXT = <span className=\"blank\">NA</span>;\n    return samples.map((sample, i) => {\n      let dbSample = sample.db_sample;\n      let derivedOutput = sample.derived_sample_output;\n      let runInfo = sample.run_info;\n      let uploader = sample.uploader.name;\n      let statusClass = !runInfo.job_status_description ? this.applyChunkStatusClass(runInfo) : this.applyClass(runInfo.job_status_description)\n      let status = !runInfo.job_status_description ? this.getChunkedStage(runInfo) : runInfo.job_status_description;\n      const rowWithChunkStatus = (\n        <div className={`${statusClass} status`}>\n          {this.appendStatusIcon(status)}\n          <span>{status}</span>\n        </div>\n      );\n      const data_values = { total_reads: !derivedOutput.pipeline_output ? BLANK_TEXT : numberWithCommas(derivedOutput.pipeline_output.total_reads),\n        nonhost_reads: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.remaining_reads) ? BLANK_TEXT : numberWithCommas(derivedOutput.summary_stats.remaining_reads),\n        nonhost_reads_percent: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.percent_remaining) ? '' : <span className=\"percent\"> {`(${derivedOutput.summary_stats.percent_remaining.toFixed(2)}%)`} </span>,\n        quality_control: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.qc_percent) ? BLANK_TEXT : `${derivedOutput.summary_stats.qc_percent.toFixed(2)}%`,\n        compression_ratio: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.compression_ratio) ? BLANK_TEXT : derivedOutput.summary_stats.compression_ratio.toFixed(2),\n        tissue_type: dbSample && dbSample.sample_tissue ? dbSample.sample_tissue : BLANK_TEXT,\n        nucleotide_type: dbSample && dbSample.sample_template ? dbSample.sample_template : BLANK_TEXT,\n        location: dbSample && dbSample.sample_location ? dbSample.sample_location : BLANK_TEXT,\n        host_genome: derivedOutput && derivedOutput.host_genome_name ? derivedOutput.host_genome_name : BLANK_TEXT,\n        notes: dbSample && dbSample.sample_notes ? dbSample.sample_notes : BLANK_TEXT };\n\n      return (\n        <a className='col s12 no-padding sample-feed' key={i} href={`/samples/${dbSample.id}`}>\n          <div>\n            <div className='samples-card white'>\n              <div className='flex-container'>\n                <ul className='flex-items'>\n                  <li className='sample-name-info'>\n                    <div className='card-label top-label'>\n                      {/*<span className='project-name'>*/}\n                      {/*Mosquito*/}\n                      {/*</span>*/}\n                      <span className='upload-date'>\n                        Uploaded {moment(dbSample.created_at).startOf('second').fromNow()}\n                      </span>\n                    </div>\n                    <div className='card-label center-label sample-name'>\n                      {dbSample.name}\n                    </div>\n                    <div className='card-label author bottom-label author'>\n                      { !uploader || uploader === '' ? '' : <span>Uploaded by: {uploader}</span>}\n                    </div>\n                  </li>\n                  {\n                    this.state.columnsShown.map((column, pos) => {\n                      let column_data = '';\n                      if (column === 'pipeline_status') {\n                        column_data = (\n                          <li  key={pos}>\n                            <div className='card-label top-label'>\n                              { rowWithChunkStatus }\n                            </div>\n                            <div className='card-label center-label'>\n                              { runInfo.total_runtime ?\n                                <span className=\"time\">\n                                  <i className=\"fa fa-clock-o\" aria-hidden=\"true\"/>\n                                  <span className='duration-label'>\n                                    { this.formatRunTime(runInfo.total_runtime) }\n                                    </span>\n                                </span> : null\n                              }\n                            </div>\n                          </li>\n                        )\n                      } else if(column === 'nonhost_reads') {\n                        column_data = (<li key={pos}>\n                          <div className='card-label center center-label'>\n                            {data_values[column]} {data_values[\"nonhost_reads_percent\"]}\n                          </div>\n                        </li>)\n                      } else {\n                        column_data = (<li key={pos}>\n                          <div className='card-label center center-label'>\n                            {data_values[column]}\n                          </div>\n                        </li>)\n                      }\n                      return column_data;\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n          </div>\n        </a>\n      )\n    })\n  }\n\n  //Load more samples on scroll\n  scrollDown() {\n    var that = this;\n    $(window).scroll(function() {\n      if ($(window).scrollTop() > $(document).height() - $(window).height() - 6000) {\n        { !that.state.isRequesting && !that.state.pageEnd ? that.loadMore() : null }\n        return false;\n      }\n    });\n  }\n\n  //fetch first set of samples\n  fetchSamples() {\n    Samples.showLoading('Fetching samples...');\n    const params = this.getParams();\n    axios.get(`/samples?${params}`).then((res) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        initialFetchedSamples: res.data.samples,\n        allSamples: res.data.samples,\n        displayEmpty: false,\n        pagesLoaded: prevState.pagesLoaded+1,\n        totalNumber: res.data.total_count,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }));\n      if (!this.state.allSamples.length) {\n        this.setState({ displayEmpty: true });\n      }\n    }).catch((err) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        allSamples: [],\n        displayEmpty: true,\n        pagesLoaded: 0,\n        pageEnd: prevState.pageEnd\n      }))\n    })\n  }\n\n  //fetch all Projects\n  fetchProjects() {\n    axios.get(`/projects.json`).then((res) => {\n      this.setState({\n        allProjects: res.data,\n        loading: false,\n      }, () => {\n        console.log('Samples state',this.state);\n        this.reformatProjectList(this.state.favouriteProjects, this.state.allProjects);\n      })\n    }).catch((err) => {\n      this.setState({\n        allProjects: [],\n        loading: false,\n      })\n    })\n  }\n\n  //fetch data used by projects page\n  fetchProjectPageData() {\n    this.fetchProjects();\n    this.fetchSamples();\n  }\n\n  //load more paginated samples\n  loadMore() {\n    const params = this.getParams();\n    this.setState({ isRequesting: true })\n    axios.get(`/samples?${params}`).then((res) => {\n      this.setState((prevState) => ({\n        isRequesting: false,\n        allSamples: [...prevState.allSamples, ...res.data.samples],\n        pagesLoaded: prevState.pagesLoaded+1,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }))\n    }).catch((err) => {\n      this.setState((prevState) => ({\n        isRequesting: false,\n        allSamples: [...prevState.allSamples],\n        pagesLoaded: prevState.pagesLoaded,\n        pageEnd: prevState.pageEnd\n      }))\n    })\n  }\n\n  //fetch project, filter and search params\n  getParams() {\n    let params = `filter=${this.state.filterParams}&page=${this.state.pagesLoaded+1}&search=${this.state.searchParams}&sort_by=${this.state.sort_by}`;\n    let projectId = parseInt(this.state.selectedProjectId);\n\n    if(projectId) {\n      params += `&project_id=${projectId}`\n    }\n    if(this.state.sampleIdsParams.length) {\n      let sampleParams = this.state.sampleIdsParams;\n      params += `&ids=${sampleParams}`\n    }\n    return params;\n  }\n\n  //fetch results from filtering, search or switching projects\n  fetchResults(cb) {\n    Samples.showLoading('Fetching samples...');\n    const params = this.getParams();\n    axios.get(`/samples?${params}`).then((res) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        initialFetchedSamples: res.data.samples,\n        allSamples: res.data.samples,\n        displayEmpty: false,\n        totalNumber: res.data.total_count,\n        pagesLoaded: prevState.pagesLoaded+1,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }));\n      if (!this.state.allSamples.length) {\n        this.setState({ displayEmpty: true });\n      }\n      if(typeof cb === 'function') {\n        cb();\n      }\n    }).catch((err) => {\n      this.setState({\n        initialFetchedSamples: [],\n        allSamples: [],\n        displayEmpty: true,\n      });\n      if(typeof cb === 'function') {\n        cb();\n      }\n    })\n  }\n\n  applyClass(status) {\n    if(status === 'COMPLETE') {\n      return 'complete';\n    } else if (status === 'WAITING') {\n      return 'waiting';\n    } else if (status === 'INPROGRESS') {\n      return 'uploading';\n    } else if (status === 'FAILED') {\n      return 'failed';\n    }\n  }\n\n  applyChunkStatusClass(runInfo) {\n    let postProcess = runInfo['Post Processing']\n    let hostFiltering = runInfo['Host Filtering']\n    let alignment = runInfo['GSNAPL/RAPSEARCH alignment']\n    if (postProcess) {\n      return postProcess === 'LOADED' ? 'complete' : 'uploading';\n    } else if(alignment) {\n      return alignment === 'FAILED' ? 'failed' : 'uploading';\n    } else if(hostFiltering) {\n      return hostFiltering === 'FAILED' ? 'failed' : 'uploading';\n    }\n  }\n\n  toggleFavorite(e) {\n    let favStatus = e.target.getAttribute('data-fav');\n    let projectId = e.target.getAttribute('data-id');\n    Samples.showLoading(`${favStatus == 'true' ? 'Removing from' : 'Adding to' } favorites...`)\n    axios\n      .put(`/projects/${projectId}/${favStatus == 'true' ? 'remove_favorite' : 'add_favorite'}?`, {\n        authenticity_token: this.csrf\n      })\n      .then((res) => {\n        Samples.hideLoader();\n        this.checkIfProjecExistInFavorites(projectId, this.state.formattedProjectList);\n      }).catch((err) => {\n        Samples.hideLoader();\n    })\n  }\n\n  reformatProjectList(favorites, allProjects) {\n    let favProjects = [];\n    let favIds = favorites.map(e => e.id);\n    let formattedList = allProjects.map(e => {\n      let project = e;\n\n      if (!project.favorited) {\n        project.favorited = favIds.includes(project.id);\n\n        if (project.favorited) {\n          favProjects.push(project);\n        }\n      }\n\n      return project;\n    });\n\n    this.setState({\n      formattedProjectList: formattedList,\n      formattedFavProjectList: favProjects,\n      favIds: favIds\n    });\n\n    return formattedList;\n  }\n\n  // update\n  updateProjectsState(id, projects) {\n    let updatedList = projects.map(project => {\n      if (project.id == id) {\n        project.favorited = !project.favorited\n      }\n\n      return project;\n    });\n\n    this.setState({ formattedProjectList: updatedList });\n\n    return updatedList;\n  }\n\n  // check existence of projects in favorites projects list\n  // if true then remove else add\n  checkIfProjecExistInFavorites(id, projects) {\n    if (this.state.favIds.includes(parseInt(id))) {\n      this.removeProjectFromFavorites(id);\n    } else {\n      this.addProjectToFavorites(id, projects);\n    }\n    this.updateProjectsState(id, projects);\n  }\n\n\n  // remove Projects from favorites list\n  removeProjectFromFavorites(id) {\n    let updatedFavouriteProjects = this.state.formattedFavProjectList.filter(project => project.id != id);\n    let removedFavouriteProject = this.state.formattedFavProjectList.filter(project => project.id == id);\n\n    let favIds = this.state.favIds;\n    let projectIdIndex = favIds.indexOf(removedFavouriteProject[0].id);\n\n    if (projectIdIndex > -1) {\n      favIds.splice(projectIdIndex, 1);\n      this.setState({\n        formattedFavProjectList: updatedFavouriteProjects,\n          favIds\n      });\n    }\n  }\n\n\n  // add Projects to favorites list\n  addProjectToFavorites(id, projects) {\n    let updatedProject = projects.filter(project => project.id == id);\n\n    this.setState({\n        formattedFavProjectList: [...this.state.formattedFavProjectList, ...updatedProject],\n        favIds: [...this.state.favIds, updatedProject[0].id]\n    });\n  }\n\n  getChunkedStage(runInfo) {\n    let postProcess = runInfo['Post Processing']\n    let hostFiltering = runInfo['Host Filtering']\n    let alignment = runInfo['GSNAPL/RAPSEARCH alignment']\n    if (postProcess === 'FAILED' || alignment === 'FAILED' || hostFiltering === 'FAILED') {\n      return 'FAILED';\n    } else if (postProcess) {\n      if (postProcess === 'LOADED')\n        return 'COMPLETE';\n      else\n        return  'POST PROCESSING';\n    } else if (alignment) {\n      return 'ALIGNMENT';\n    } else if (hostFiltering) {\n      return 'HOST FILTERING';\n    }  else {\n      return 'WAITING';\n    }\n  }\n\n  //handle search when query is passed\n  handleSearch(e) {\n    if (e.target.value !== '' && e.key === 'Enter') {\n      Samples.showLoading(`Searching for samples that match ${e.target.value}...`)\n      this.setState({\n        pagesLoaded: 0,\n        pageEnd: false,\n        searchParams: e.target.value\n      }, () => {\n        Samples.hideLoader();\n        this.setUrlLocation();\n        this.fetchResults();\n      });\n    }\n  }\n\n  //Select or switch Project\n  switchProject(e) {\n    let id = e.target.getAttribute('data-id');\n    let listType = e.target.getAttribute('data-type');\n    if (listType == 'fav') {\n      this.highlightSelectedFavoriteProject(id)\n    } else {\n      this.highlightSelectedProject(id);\n    }\n    this.setState({\n      selectedProjectId: id,\n      pageEnd: false\n    }, () => {\n      Samples.hideLoader();\n      this.setUrlLocation();\n      this.fetchProjectDetails(id);\n    });\n  }\n\n  fetchProjectDetails(projId) {\n    if (!projId) {\n      this.setState({\n        selectedProjectId: null,\n        project: null,\n        pagesLoaded: 0,\n        pageEnd: false,\n      });\n      this.fetchSamples();\n    } else {\n      projId = parseInt(projId);\n      axios.get(`projects/${projId}.json`).then((res) => {\n        this.setState({\n          pagesLoaded: 0,\n          project: res.data\n        });\n        this.fetchResults();\n      }).catch((err) => {\n        this.setState({ project: null})\n      })\n    }\n  }\n\n  viewSample(id) {\n    location.href = `/samples/${id}`;\n  }\n\n  uploadSample() {\n    location.href = '/samples/new'\n  }\n\n  getActiveSort(className) {\n    if(className) {\n      const sort = SortHelper.getFilter('sort_by');\n      if (sort === className) {\n        return 'active';\n      } else if (className === this.defaultSortBy && !sort) {\n        return 'active';\n      }\n    }\n  }\n\n  toggleDisplayProjects() {\n    this.setState((prevState) => ({ showLess: !prevState.showLess }))\n  }\n\n  toggleDisplayFavProjects() {\n    this.setState((prevState) => ({ showLessFavorites: !prevState.showLessFavorites }))\n  }\n\n  renderEmptyTable() {\n    return (\n      <div className=\"center-align\"><i className='fa fa-frown-o'> No result found</i></div>\n    )\n  }\n\n  findSelectedColumns(selO) {\n    var selValues = [];\n    for (i=0; i < selO.length; i++) {\n      column_name = selO.options[i].value;\n      if (selO.options[i].selected && column_name !== \"\") {\n        selValues.push(column_name);\n      }\n    }\n    return selValues;\n  }\n\n  handleColumnSelectChange(e) {\n    selected_columns = this.findSelectedColumns(e.target);\n    this.setState({columnsShown: selected_columns});\n  }\n\n  columnHidden(column) {\n    return !this.state.columnsShown.includes(column)\n  }\n\n  display_column_options(column_map, data_type) {\n    column_list = Object.keys(column_map)\n    return column_list.map((option_name, i) => {\n      if (column_map[option_name].type === data_type) {\n        return (\n          <option key={option_name} id={option_name} value={option_name}>\n            {column_map[option_name].display_name}\n          </option>\n        )\n      }\n    })\n  }\n\n\n  addFavIconClass(project) {\n    return (\n      <i data-status=\"favorite\" data-fav={project.favorited} data-id={project.id} onClick={this.toggleFavorite} className={!project.favorited ? \"favorite fa fa-star-o\":  \"favorite fa fa-star\"}></i>\n    )\n  }\n\n  renderSidebar() {\n    const sortLogic = (a, b) => {\n      var nameA = a.name.toUpperCase(); // ignore upper and lowercase\n      var nameB = b.name.toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      // names must be equal\n      return 0;\n    };\n    return (\n      <div className=\"project-wrapper\">\n        <div className=\"row\">\n          <div className=\"samples\">\n            <p>All Samples</p>\n            <span onClick={this.uploadSample}><i className=\"fa fa-lg fa-plus-circle\" aria-hidden=\"true\"></i></span>\n          </div>\n          <div className=\"row fav-row\">\n            <span className=\"title\">Favorite Projects</span>\n            <hr/>\n            <div className=\"fav-projects-wrapper\">\n              {!this.state.formattedFavProjectList.length ? <div className=\"none\">None</div>: this.state.showLessFavorites ? this.state.formattedFavProjectList.sort(sortLogic).slice(0,4).map((project, i) => {\n                return (\n                  <div className=\"fav-item\" data-id={project.id}  key={i}><div onClick={this.switchProject} data-type=\"fav\" data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n                )\n              }):\n              this.state.formattedFavProjectList.sort(sortLogic).map((project, i) => {\n                return (\n                  <div className=\"fav-item\" data-id={project.id}  key={i}><div onClick={this.switchProject} data-type=\"fav\" data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n                )\n              }) }\n              { this.state.formattedFavProjectList.length > 4 ? <div className=\"more\" onClick={this.toggleDisplayFavProjects}>{this.state.showLessFavorites ? 'Show More...' : 'Show Less...'}</div> : ''}\n            </div>\n          </div>\n          <div className=\"projects\">\n            <span onClick={this.switchProject} className=\"title\">All Projects</span>\n            <hr/>\n            <div className=\"projects-wrapper\">\n              { !this.state.formattedProjectList.length ? \"None\" : this.state.showLess ? this.state.formattedProjectList.sort(sortLogic).slice(0,7).map((project, i) => {\n                  return (\n                      <div className=\"project-item\" data-id={project.id}  key={i}><div onClick={this.switchProject} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n                  )\n                }) :\n                this.state.formattedProjectList.sort(sortLogic).map((project, i) => {\n                return (\n                  <div className=\"project-item\" data-id={project.id} key={i}><div onClick={this.switchProject} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n                )\n              }) }\n              { this.state.formattedProjectList.length ? <div className=\"more\" onClick={this.toggleDisplayProjects}>{this.state.showLess ? 'Show More...' : 'Show Less...'}</div> : ''}\n             </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderTable(samples) {\n    let project_id = this.state.selectedProjectId ? this.state.selectedProjectId : 'all'\n    let download_button = (\n      <a href={`/projects/${project_id}/csv`} className=\"download-project center\">\n        <i className=\"fa fa-cloud-download\"/>\n        <span>Download table</span>\n      </a>\n    );\n    const search_box = (\n      <div className=\"row search-box\">\n        <div className='col s10 no-padding'>\n          <div className='white'>\n            <span className=\"icon\">\n              <i className=\"fa fa-search\" aria-hidden=\"true\"/>\n            </span>\n            <input id=\"search\" value={this.state.searchParams} onChange={this.handleSearchChange}  type=\"search\" onKeyDown={this.handleSearch} className=\"search\" placeholder='Search for sample'/>\n          </div>\n        </div>\n        <div className='col s2 download-table'>\n          <div className='white'>\n            { download_button }\n          </div>\n        </div>\n      </div>\n    );\n    const tableHead = (\n      <div className='col s12 sample-feed no-padding samples-table-head'>\n        <div className='samples-card white'>\n          <div className='flex-container'>\n            <ul className='flex-items'>\n              <li className='sample-name-info'>\n                <div className='card-label column-title center-label sample-name'>\n                  <div className='sort-able' onClick={this.sortSamples}>\n                    <span>Name</span><i className={`fa ${(this.state.sort_by === 'name,desc')\n                    ? 'fa fa-sort-alpha-desc' : 'fa fa-sort-alpha-asc'}\n                  ${(this.state.sort_by === 'name,desc' || this.state.sort_by === 'name,asc') ? 'active': 'hidden'}`}/>\n                  </div>\n                </div>\n              </li>\n              { this.state.columnsShown.map((column_name, pos) => {\n                return (\n                  <li key={`shown-${pos}`}>\n                    <div className='card-label column-title center-label sample-name center menu-dropdown' rel='tooltip'\n                      data-activates={`column-dropdown-${pos}`} data-placement='bottom'\n                      data-original-title={ this.COLUMN_DISPLAY_MAP[column_name].tooltip }>\n                      {this.COLUMN_DISPLAY_MAP[column_name].display_name } <i className=\"fa fa-caret-down\"/>\n                    </div>\n\n                      <ul className='dropdown-content column-dropdown' id={`column-dropdown-${pos}`}>\n                        { column_name === 'pipeline_status' ?\n                          <div className='dropdown-status-filtering'>\n                            <li>\n                              <a className=\"title\">\n                                <b>Filter status</b>\n                              </a>\n                            </li>\n                            <li className=\"filter-item\" data-status=\"WAITING\" onClick={ this.handleStatusFilterSelect } ><a data-status=\"WAITING\" className=\"filter-item waiting\">Waiting</a><i data-status=\"WAITING\" className=\"filter fa fa-check hidden\"></i></li>\n                            <li className=\"filter-item\" data-status=\"UPLOADING\" onClick={ this.handleStatusFilterSelect }><a data-status=\"UPLOADING\" className=\"filter-item uploading\">In Progress</a><i data-status=\"UPLOADING\"  className=\"filter fa fa-check hidden\"></i></li>\n                            <li className=\"filter-item\" data-status=\"CHECKED\" onClick={ this.handleStatusFilterSelect }><a data-status=\"CHECKED\" className=\"filter-item complete\">Complete</a><i data-status=\"CHECKED\" className=\"filter fa fa-check hidden\"></i></li>\n                            <li className=\"filter-item\" onClick={ this.handleStatusFilterSelect } data-status=\"FAILED\" ><a data-status=\"FAILED\" className=\"filter-item failed\">Failed</a><i data-status=\"FAILED\" className=\"filter fa fa-check hidden\"></i></li>\n                            <li className=\"filter-item\" data-status=\"ALL\" onClick={ this.handleStatusFilterSelect }><a data-status=\"ALL\" className=\"filter-item all\">All</a><i data-status=\"ALL\" className=\"filter all fa fa-check hidden\"></i></li>\n                            <li className=\"divider\"/>\n                          </div> : ''}\n                        <li>\n                          <a className=\"title\">\n                            <b>Switch column</b>\n                          </a>\n                        </li>\n                        {this.state.allColumns.map((name, i) => {\n                          return (\n                            (this.state.columnsShown.includes(name)) ?\n                              <li key={`all-${i}`} className={`disabled column_name ${column_name === name ? 'current': ''}`}>\n                                { this.COLUMN_DISPLAY_MAP[name].display_name }\n                                {(column_name === name) ?\n                                  <i className=\"fa fa-check right\"/> : null}\n                              </li>\n                              : <li key={`all-${i}`} className='selectable column_name' onClick={() => this.switchColumn(name, pos)}>\n                                { this.COLUMN_DISPLAY_MAP[name].display_name }\n                              </li>\n                          )\n                        })\n                        }\n                      </ul>\n                    </li>\n                  )\n                })\n                }\n              </ul>\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n      <div className=\"row content-wrapper\">\n        <div className=\"sample-container col s12\">\n          { search_box }\n          <div className=\"sample-table-container row\">\n            { tableHead }\n            { !samples.length && this.state.displayEmpty ? this.renderEmptyTable() : this.renderPipelineOutput(samples)  }\n          </div>\n        </div>\n        { !this.state.pageEnd && this.state.allSamples.length > 14 ? <div className=\"scroll\">\n        <i className='fa fa-spinner fa-spin fa-3x'></i>\n        </div> : \"\" }\n      </div>\n    )\n  }\n  initializeProjectList() {\n    $('.project-toggle').click((e) => {\n      e.stopPropagation();\n      const arrowElement = $(e.toElement)[0];\n      const top = arrowElement.offsetTop;\n      const height = arrowElement.offsetHeight;\n      const width = arrowElement.offsetWidth;\n      const left = arrowElement.offsetLeft;\n      $('.dropdown-bubble').css({ top: `${(top + height) + 20}px`, left: `${(left - width) - 5}px`});\n      $('.dropdown-bubble').slideToggle(200);\n    });\n    $(document).click(() => { $('.dropdown-bubble').slideUp(200); });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevStatus = prevState.filterParams;\n    const currentStatus = this.state.filterParams;\n    if(prevStatus !== currentStatus) {\n      $(`i[data-status=\"${prevStatus}\"]`).removeClass('active');\n    } else {\n      $(`i[data-status=\"${currentStatus}\"]`).addClass('active');\n    }\n  }\n\n  componentDidMount() {\n    $(() => {\n      const samplesHeader = $('.sample-table-container');\n      $(window).scroll(() => {\n        if ($(window).scrollTop() > samplesHeader.offset().top) {\n          samplesHeader.addClass('shadow');\n        } else {\n          samplesHeader.removeClass('shadow');\n        }\n      });\n      $('.filter').hide();\n      $('body').addClass('background-cover');\n    });\n\n    this.initializeTooltip();\n    this.fetchProjectPageData();\n    this.state.selectedProjectId ? this.fetchProjectDetails(this.state.selectedProjectId) : null;\n    this.scrollDown();\n    this.initializeProjectList();\n    this.displayPipelineStatusFilter();\n    this.initializeColumnSelect();\n\n  }\n\n  initializeColumnSelect() {\n    $(document).ready(function() {\n      $('select').material_select();\n    });\n    $(ReactDOM.findDOMNode(this.refs.columnSelector)).on('change',this.handleColumnSelectChange.bind(this));\n  }\n\n  // initialize filter dropdown\n  displayPipelineStatusFilter() {\n    const textSize = 14;\n    $('.status-dropdown, .menu-dropdown').dropdown({\n      belowOrigin: true,\n      stopPropagation: false,\n      constrainWidth: true\n    });\n    $(\".dropdown-content>li>a\").css(\"font-size\", textSize)\n  }\n\n  displayCheckMarks(filter) {\n    $('.filter').hide();\n    $(`.filter[data-status=\"${filter}\"]`).show();\n  }\n\n  highlightSelectedProject(id) {\n    this.removeHighlight();\n    $(`.project-item[data-id=\"${id}\"]`).addClass('highlight');\n  }\n\n  removeHighlight() {\n    $('.fav-item').removeClass('highlight')\n    $('.project-item').removeClass('highlight')\n  }\n\n  highlightSelectedFavoriteProject(id) {\n    this.removeHighlight();\n    $(`.fav-item[data-id=\"${id}\"]`).addClass('highlight');\n  }\n\n  //handle filtering when a filter is selected from list\n  handleStatusFilterSelect(e) {\n    let status = e.target.getAttribute('data-status');\n    this.setState({\n      pagesLoaded: 0,\n      pageEnd: false,\n      filterParams: status\n    }, () => {\n      this.setUrlLocation();\n      this.fetchResults();\n    });\n  }\n\n  //set Url based on requests\n  setUrlLocation() {\n    let projectId = parseInt(this.state.selectedProjectId);\n    const params = {\n      project_id: projectId ? projectId : '',\n      filter: this.state.filterParams,\n      search: this.state.searchParams,\n      sort_by: this.state.sort_by\n    };\n    window.history.replaceState(null, null, `?${jQuery.param(params)}`)\n  }\n\n  render() {\n    return (\n      <div>\n          <div className=\"row content-body\">\n            <div className=\"col s2 sidebar\">\n              {this.renderSidebar()}\n            </div>\n             <div className=\"col s10\">\n              {this.renderTable(this.state.allSamples)}\n            </div>\n          </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Samples;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Samples.js"],"sourceRoot":""}