{"version":3,"sources":["webpack:///webpack/bootstrap 89722b86eaa66b4d34a4","webpack:///./app/assets/src/components/Samples.jsx","webpack:///./app/assets/src/components/SortHelper.jsx","webpack:///./app/assets/src/components/ProjectSelection.jsx","webpack:///./app/assets/src/components/PipelineSampleReads.jsx","webpack:///./app/assets/src/components/PipelineSampleReport.jsx","webpack:///./app/assets/src/index.js","webpack:///./app/assets/src/helpers/strings.js","webpack:///./app/assets/src/components \\.(js|jsx)$","webpack:///./app/assets/src/components/BulkUploadImport.jsx","webpack:///./app/assets/src/components/ReportFilter.jsx","webpack:///./app/assets/src/components/CreateUser.jsx","webpack:///./app/assets/src/components/Forbidden.jsx","webpack:///./app/assets/src/components/Header.jsx","webpack:///./app/assets/src/components/SubHeader.jsx","webpack:///./app/assets/src/components/Home.jsx","webpack:///./app/assets/src/components/Login.jsx","webpack:///./app/assets/src/components/ProjectVisualization.jsx","webpack:///./app/assets/src/components/SampleUpload.jsx","webpack:///./app/assets/src/components/IconComponent.js"],"names":["Samples","props","context","handleSearch","bind","csrf","favoriteProjects","favorites","allProjects","projects","defaultSortBy","currentSort","columnSorting","handleSearchChange","loadMore","fetchResults","fetchSamples","handleStatusFilterSelect","handleTissueFilterSelect","setUrlLocation","sortSamples","switchColumn","handleProjectSelection","pageSize","tissue_types","fetchTissueTypes","state","project","totalNumber","projectId","selectedProjectId","fetchParams","filterParams","searchParams","tissueParams","sampleIdsParams","allSamples","sort_by","pagesLoaded","pageEnd","initialFetchedSamples","loading","isRequesting","displayEmpty","project_id_download_in_progress","columnsShown","allColumns","sortCount","COLUMN_DISPLAY_MAP","total_reads","display_name","type","nonhost_reads","quality_control","tooltip","compression_ratio","pipeline_status","tissue_type","nucleotide_type","location","host_genome","notes","handleColumnSelectChange","columnHidden","startReportGeneration","checkReportDownload","displayReportProgress","document","ready","material_select","tooltipIdentifier","delay","html","placement","offset","res","data","status_display","css","setTimeout","get","then","setState","download_status","href","new_sort","message","showLoading","hideLoading","e","className","target","pos","indexOf","sort_query","substr","split","applySort","param","urlParams","URLSearchParams","window","search","value","column_name","position","Object","assign","status","runtime","Number","h","Math","floor","m","s","hDisplay","mDisplay","sDisplay","samples","BLANK_TEXT","map","sample","i","dbSample","db_sample","derivedOutput","derived_sample_output","runInfo","run_info","uploader","name","statusClass","job_status_description","applyChunkStatusClass","applyClass","getChunkedStage","rowWithChunkStatus","appendStatusIcon","data_values","pipeline_run","summary_stats","remaining_reads","nonhost_reads_percent","percent_remaining","toFixed","qc_percent","sample_tissue","sample_template","sample_location","host_genome_name","sample_notes","id","created_at","startOf","fromNow","column","column_data","total_runtime","formatRunTime","that","scroll","scrollTop","height","params","getParams","hideLoader","prevState","total_count","length","catch","err","parseInt","sampleParams","cb","postProcess","hostFiltering","alignment","key","projId","_satellite","track","sort","getFilter","showLess","selO","selValues","options","selected","push","selected_columns","findSelectedColumns","includes","column_map","data_type","column_list","keys","option_name","favorited","toggleFavorite","project_id","search_field_width","search_field","table_download_button","reports_download_button_contents","reports_download_button","search_box","projInfo","filterTissueDropDown","tissue","filterStatus","tableHead","renderEmptyTable","renderPipelineOutput","prevProps","prevStatus","currentStatus","removeClass","addClass","samplesHeader","top","hide","initializeTooltip","fetchProjectPageData","fetchProjectDetails","scrollDown","displayPipelineStatusFilter","initializeColumnSelect","findDOMNode","refs","columnSelector","on","textSize","dropdown","belowOrigin","stopPropagation","constrainWidth","filter","show","getAttribute","preventDefault","history","replaceState","project_section","renderTable","text","Component","SortHelper","sortBy","sortQuery","url","replace","regex","RegExp","results","exec","decodeURIComponent","currentUrl","deleteUrlParam","hasQuery","parameter","queryString","prefix","encodeURIComponent","pars","lastIndexOf","splice","join","ProjectSelection","toggleDisplayProjects","toggleDisplayFavProjects","handleProjectClick","handleAllProjectorSamplesClick","uploadSample","formattedProjectList","formattedFavProjectList","favIds","showLessFavorites","reformatProjectList","favStatus","put","authenticity_token","checkIfProjecExistInFavorites","favProjects","formattedList","updatedList","removeProjectFromFavorites","addProjectToFavorites","updateProjectsState","updatedFavouriteProjects","removedFavouriteProject","projectIdIndex","updatedProject","listType","highlightSelectedFavoriteProject","highlightSelectedProject","selectProject","removeHighlight","removeHighlightedText","highlightAllSamplesorAllProject","tagAttribute","sortLogic","a","b","nameA","toUpperCase","nameB","fav_section","slice","addFavIconClass","all_projects_section","renderProjectSection","PipelineSampleReads","allBackgrounds","all_backgrounds","rerunPath","rerun_path","sampleInfo","projectInfo","sample_map","project_sample_ids_names","reportPresent","reportTime","allCategories","reportDetails","reportPageParams","jobStatistics","gotoReport","sampleId","pipelineStatus","sample_status","pipelineRun","rerunPipeline","rerun","failureText","TYPE_PROMPT","NUCLEOTIDE_TYPES","DROPDOWN_OPTIONS","DROPDOWN_METADATA_FIELDS","handleDropdownChange","label","field","dropdown_options","display_value","option_value","trim","tabs","setTab","finalized","response","error","listenNoteChanges","initializeSelectTag","element","parent","prevValue","prev","post","slideUp","currentText","focusin","innerText","focusout","newText","d_report","pipelineInProgress","download_section","unmapped_reads","last_processed_at","sample_output_folder_url","sample_dropdown","sample_id","render_metadata_textfield","render_metadata_dropdown","sample_input_folder_url","section","tab","localStorage","getItem","setItem","PipelineSampleReport","report_ts","all_categories","report_details","report_page_params","max_rows_to_render","max_rows","default_sort_by","sort_params","filter_thresholds","cached_cats","taxonomy_details","search_keys_in_sample","lineage_map","genus_map","rows_passing_filters","rows_total","thresholded_taxons","selected_taxons","new_filter_thresholds","JSON","parse","NT_aggregatescore","excluded_categories","search_taxon_id","applySearchFilter","applyThresholdFilters","anyFilterSet","resetAllFilters","sortResults","sortCompareFunction","setSortParams","flash","taxonPassThresholdFilter","expandOrCollapseGenus","expandTable","collapseTable","downloadFastaUrl","handleThresholdEnter","fetchReportData","fetchSearchList","listenThresholdChanges","search_list","cached_background_id","taxon","genus_taxid","tax_id","set","val","searchTaxonId","excludedCategories","input_taxons","genus_taxon","matched_taxons","concat","match_keys","toString","category_name","uncat_taxon","filtered_children","el","getElementById","offsetHeight","hover","selectTooltip","leftOffset","isNaN","console","log","toLowerCase","sortParams","primary","ptype","pmetric","secondary","stype","smetric","genus_a","genus_b","genus_a_p_val","parseFloat","genus_a_s_val","a_p_val","a_s_val","genus_b_p_val","genus_b_s_val","b_p_val","b_s_val","tax_level","primary_sort","secondary_sort","selecte_taxons","threshold_name","stringify","filter_key","threshold","key_parts","candidate_taxons","play_animation","event","keyCode","overrides","new_params","protocol","host","pathname","metric_token","setFilterThreshold","taxId","ncbiLink","open","taxLevel","taxInfo","gotoNCBI","taxon_fasta_flag","category","category_lowercase","tax_info","foo","displayTags","fake_or_real","right_arrow_initial_visibility","down_arrow_initial_visibility","plus_or_minus","species_count","category_to_adjective","x","emphasize","num_decimals","is_blank","y","desired_sort_direction","arrow_direction","desired_sort","current_sort","visible_type","visible_metric","tooltip_message","style","textAlign","cursor","report_column_threshold","thresholdInputColumn","render_sort_arrow","initial_visibility","attributes","class","nodeValue","attr","toggleClass","parts","sort_column","t0","Date","now","filter_stats","disable_filter","report_filter","filter_row_stats","background_model","sample_info","applyExcludedCategories","enableFilters","download_button","result","render_column_header","row_class","render_name","render_number","NT","aggregatescore","zscore","rpm","r","percentidentity","neglogevalue","percentconcordant","NR","t1","foundComponents","contextKeys","forEach","default","react_component","componentName","matchedComponent","render","createElement","numberWithCommas","pattern","test","BulkUploadImport","hostGenomes","host_genomes","hostName","hostId","handleImportSubmit","handleUploadSubmit","handleProjectSubmit","clearError","handleProjectChange","handleProjectChangeForSample","handleHostChange","handleHostChangeForSample","handleBulkPathChange","selectSample","toggleNewProjectInput","adminGenomes","g","userDetails","loggedin_user","submitting","invalid","errorMessage","imported","success","successMessage","selectedBulkPath","selectedSampleIndices","createdSampleIds","allChecked","disableProjectSelect","errors","serverErrors","projectSelect","hostSelect","initializeSelectAll","slideToggle","sampleList","index","checked","click","checkedStatus","not","prop","each","stop","animate","isUploadFormInvalid","bulkUploadSubmit","isImportFormInvalid","bulkUploadImport","path","isProjectInvalid","addProject","new_project","newProjectList","host_genome_id","bulk_path","idx","sample_ids","gotoPage","str","regexPrefix","match","filePathValid","errorsLength","selectedIndex","samplesId","selectedSampleElement","hostGenomeId","resolveGenomeIcon","failedStatus","serverError","formattedError","Array","displayError","__html","j","admin","back","handleUpload","renderBulkUploadSubmitForm","renderBulkUploadImportForm","ReportFilter","backgroundModels","searchSelectedTaxon","handleBackgroundModelChange","searchKey","searchId","backgroundName","backgroundParams","search_items","newProps","background","refreshPage","background_id","innerHeight","subHeader","headerHeight","newHeight","ridx","item","align_right","category_filter","genus_search","placeholder","highlighted","backgroundColor","CreateUser","user","selectedUser","handleCreate","handleUpdate","handleEmailChange","handleNameChange","handlePasswordChange","handlePConfirmChange","toggleCheckBox","email","password","password_confirmation","adminStatus","isAdmin","showFailed","pConfirm","adminstatus","isCreateFormInvalid","createUser","isUpdateFormValid","updateUser","role","headers","patch","submitFunc","funcName","renderUserForm","ForbiddenPage","Header","userSignedIn","sendMail","signOut","displayProfileMenu","signoutEndpoint","method","withCredentials","signInEndpoint","link","SubHeader","children","propTypes","defaultProps","Home","Login","handleSubmit","isChecked","showFailedLogin","isFormInValid","login","endpoint","remember_me","checkboxValue","renderLogin","ProjectVisualization","projectName","project_name","csvRecords","csv_records","totalRecords","SampleUpload","handleQueueChange","handleMemoryChange","handleResultChange","selectedSample","updateSampleName","selectedHostGenomeName","selectedHostGenomeId","hostGenome","resultPath","s3_preload_result_path","jobQueue","job_queue","memory","sample_memory","inputFiles","firstInput","source","secondInput","selectedName","selectedHostGenome","selectedProject","selectedPId","selectedResultPath","selectedJobQueue","selectedMemory","sampleName","omit_subsampling_checked","isFormInvalid","createSample","disabled","isUpdateFormInvalid","updateSample","input_files_attributes","source_type","first_file_source","second_file_source","subsample","regexSuffix","base","String","substring","firstFileSourceValue","secondFileSourceValue","preloadPath","memorySize","errorLength","sampleField","sample_name","baseName","fastqLabel","readLabel","renderUpdateForm","renderSampleForm","genomeName","color","imgPath","mosquito","human","bacteria","IconComponent"],"mappings":"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","file":"dist/bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 159);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 89722b86eaa66b4d34a4","import React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport $ from 'jquery';\nimport Tipsy from 'react-tipsy';\nimport SortHelper from './SortHelper';\nimport numberWithCommas from '../helpers/strings';\nimport ProjectSelection from './ProjectSelection';\nimport ReportFilter from './ReportFilter';\nimport PipelineSampleReads from './PipelineSampleReads';\n\nclass Samples extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.csrf = props.csrf;\n    this.favoriteProjects = props.favorites || [];\n    this.allProjects = props.projects || [];\n    this.defaultSortBy = 'newest';\n    const currentSort = SortHelper.currentSort();\n    this.columnSorting = this.columnSorting.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.fetchResults = this.fetchResults.bind(this);\n    this.fetchSamples = this.fetchSamples.bind(this);\n    this.handleStatusFilterSelect = this.handleStatusFilterSelect.bind(this);\n    this.handleTissueFilterSelect = this.handleTissueFilterSelect.bind(this);\n    this.setUrlLocation = this.setUrlLocation.bind(this);\n    this.sortSamples = this.sortSamples.bind(this);\n    this.switchColumn = this.switchColumn.bind(this);\n    this.handleProjectSelection = this.handleProjectSelection.bind(this);\n    this.pageSize = props.pageSize || 30;\n    this.tissue_types = PipelineSampleReads.fetchTissueTypes();\n    this.state = {\n      project: null,\n      totalNumber: null,\n      projectId: null,\n      selectedProjectId: this.fetchParams('project_id') || null,\n      filterParams: this.fetchParams('filter') || '',\n      searchParams: this.fetchParams('search') || '',\n      tissueParams: this.fetchParams('tissue') || '',\n      sampleIdsParams: this.fetchParams('ids') || [],\n      allSamples: [],\n      sort_by: this.fetchParams('sort_by') || 'id,desc',\n      pagesLoaded: 0,\n      pageEnd: false,\n      initialFetchedSamples: [],\n      loading: false,\n      isRequesting: false,\n      displayEmpty: false,\n      project_id_download_in_progress: null,\n      columnsShown: [\"total_reads\",\n        \"nonhost_reads\",\n        \"quality_control\",\n        \"compression_ratio\",\n        'host_genome',\n        'location',\n        'pipeline_status'],\n      allColumns: [\n        \"total_reads\",\n        \"nonhost_reads\",\n        \"quality_control\",\n        \"compression_ratio\",\n        'host_genome',\n        'location',\n        'pipeline_status',\n        'notes',\n        'tissue_type',\n        'nucleotide_type'\n      ]\n    };\n    this.sortCount = 0;\n\n    this.COLUMN_DISPLAY_MAP = { total_reads: { display_name: \"Total reads\", type: \"pipeline_data\" },\n      nonhost_reads: { display_name: \"Non-host reads\", type: \"pipeline_data\" },\n      quality_control: { display_name: \"Passed QC\", tooltip: \"Passed quality control\", type: \"pipeline_data\" },\n      compression_ratio: { display_name: \"DCR\", tooltip: \"Duplicate compression ratio\", type: \"pipeline_data\" },\n      pipeline_status: { display_name: \"Status\", type: \"pipeline_data\" },\n      tissue_type: { display_name: \"Tissue type\", type: \"metadata\" },\n      nucleotide_type: { display_name: \"Nucleotide type\", type: \"metadata\" },\n      location: { display_name: \"Location\", type: \"metadata\" },\n      host_genome: { display_name: \"Host\", type: \"metadata\" },\n      notes: { display_name: \"Notes\", type: \"metadata\" } };\n    this.handleColumnSelectChange = this.handleColumnSelectChange.bind(this);\n    this.columnHidden = this.columnHidden.bind(this);\n    this.startReportGeneration = this.startReportGeneration.bind(this);\n    this.checkReportDownload = this.checkReportDownload.bind(this);\n    this.displayReportProgress = this.displayReportProgress.bind(this);\n\n    $(document).ready(function() {\n      $('select').material_select();\n    });\n  }\n\n  static showLoading(message) {\n    $('.page-loading .spinner-label').text(message);\n    $('.page-loading').css('display', 'flex');\n  }\n\n  static hideLoader() {\n    $('.page-loading').css('display', 'none');\n  }\n\n  initializeTooltip() {\n    // only updating the tooltip offset when the component is loaded\n    $(() => {\n      const tooltipIdentifier = $(\"[rel='tooltip']\");\n      tooltipIdentifier.tooltip({\n        delay: 0,\n        html: true,\n        placement: 'top',\n        offset: '0px 50px'\n      });\n    });\n  }\n\n  displayReportProgress(res) {\n      $('.download-progress')\n      .html(`${res.data.status_display}`)\n      .css('display', 'block')\n      setTimeout(() => {\n        this.checkReportDownload()\n      }, 2000)\n  }\n\n  startReportGeneration() {\n    axios.get(`/projects/${this.state.selectedProjectId}/make_project_reports_csv`).then((res) => {\n      this.setState({\n        project_id_download_in_progress: this.state.selectedProjectId\n      });\n      this.displayReportProgress(res) \n    });\n  }\n\n  checkReportDownload() {\n    axios.get(`/projects/${this.state.project_id_download_in_progress}/project_reports_csv_status`).then((res) => {\n      let download_status = res.data.status_display\n      if (download_status === 'complete') {\n        location.href = `/projects/${this.state.project_id_download_in_progress}/send_project_reports_csv`\n        this.setState({\n          project_id_download_in_progress: null\n        });\n      } else {\n        this.displayReportProgress(res)\n      }\n    })\n  }\n\n  sortSamples() {\n    this.sortCount += 1;\n    let new_sort, message = '';\n    if(this.sortCount === 3) {\n      this.sortCount = 0;\n      new_sort = 'id,desc';\n      message = 'Sorting samples by date created...';\n    } else {\n      new_sort = (this.state.sort_by === 'name,asc') ? 'name,desc' :  'name,asc';\n      message = (new_sort === 'name,asc') ? 'Sorting samples by name (A-Z)...' : 'Sorting samples by name (Z-A)...';\n    }\n    this.setState({ sort_by: new_sort, pagesLoaded: 0, pageEnd: false }, () => {\n      this.setUrlLocation();\n      ReportFilter.showLoading(message);\n      this.fetchResults(() => {\n        ReportFilter.hideLoading();\n      });\n    });\n  }\n\n  columnSorting(e) {\n    const className = e.target.className;\n    const pos = className.indexOf('sort_by');\n    const sort_query = className.substr(pos).split(' ')[0];\n    this.setState({ sort_query });\n    SortHelper.applySort(sort_query);\n  }\n\n  fetchParams(param) {\n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(param)\n  }\n\n\n  handleSearchChange(e) {\n    if (e.target.value !== '') {\n      this.setState({ searchParams: e.target.value });\n    } else {\n      this.setState({\n        searchParams: '',\n        pageEnd: false,\n        pagesLoaded: 0\n      }, () => {\n        this.setUrlLocation();\n        this.fetchResults();\n      });\n    }\n  }\n\n  switchColumn(column_name, position) {\n    const columnsShown = Object.assign([], this.state.columnsShown);\n    columnsShown[position] = column_name;\n    this.setState({ columnsShown });\n  }\n\n  appendStatusIcon(status) {\n    switch(status) {\n      case 'WAITING':\n        return <i className=\"waiting fa fa-arrow-up\" aria-hidden=\"true\"></i>;\n        break;\n      case 'INPROGRESS':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'POST PROCESSING':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'HOST FILTERING':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'ALIGNMENT':\n        return <i className=\"uploading fa fa-repeat\" aria-hidden=\"true\"></i>;\n        break;\n      case 'FAILED':\n        return <i className=\"failed fa fa-times\" aria-hidden=\"true\"></i>;\n        break;\n      case 'COMPLETE':\n        return <i className=\"complete fa fa-check\" aria-hidden=\"true\"></i>;\n        break;\n      default:\n        return <i className=\"waiting fa fa-arrow-up\" aria-hidden=\"true\"></i>;\n    }\n  }\n\n  formatRunTime(runtime) {\n    runtime = Number(runtime);\n    const h = Math.floor(runtime / 3600);\n    const m = Math.floor(runtime % 3600 / 60);\n    const s = Math.floor(runtime % 3600 % 60);\n\n    const hDisplay = h > 0 ? h + (h === 1 ? \" hour, \" : \" hours, \") : \"\";\n    const mDisplay = m > 0 ? m + (m === 1 ? \" minute, \" : \" minutes, \") : \"\";\n    const sDisplay = s > 0 ? s + (s === 1 ? \" second\" : \" seconds\") : \"\";\n    return hDisplay + mDisplay + sDisplay;\n  }\n\n  renderPipelineOutput(samples) {\n    let BLANK_TEXT = <span className=\"blank\">NA</span>;\n    return samples.map((sample, i) => {\n      let dbSample = sample.db_sample;\n      let derivedOutput = sample.derived_sample_output;\n      let runInfo = sample.run_info;\n      let uploader = sample.uploader.name;\n      let statusClass = !runInfo.job_status_description ? this.applyChunkStatusClass(runInfo) : this.applyClass(runInfo.job_status_description)\n      let status = !runInfo.job_status_description ? this.getChunkedStage(runInfo) : runInfo.job_status_description;\n      const rowWithChunkStatus = (\n        <div className={`${statusClass} status`}>\n          {this.appendStatusIcon(status)}\n          <span>{status}</span>\n        </div>\n      );\n      const data_values = { total_reads: !derivedOutput.pipeline_run ? BLANK_TEXT : numberWithCommas(derivedOutput.pipeline_run.total_reads),\n        nonhost_reads: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.remaining_reads) ? BLANK_TEXT : numberWithCommas(derivedOutput.summary_stats.remaining_reads),\n        nonhost_reads_percent: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.percent_remaining) ? '' : <span className=\"percent\"> {`(${derivedOutput.summary_stats.percent_remaining.toFixed(2)}%)`} </span>,\n        quality_control: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.qc_percent) ? BLANK_TEXT : `${derivedOutput.summary_stats.qc_percent.toFixed(2)}%`,\n        compression_ratio: (!derivedOutput.summary_stats || !derivedOutput.summary_stats.compression_ratio) ? BLANK_TEXT : derivedOutput.summary_stats.compression_ratio.toFixed(2),\n        tissue_type: dbSample && dbSample.sample_tissue ? dbSample.sample_tissue : BLANK_TEXT,\n        nucleotide_type: dbSample && dbSample.sample_template ? dbSample.sample_template : BLANK_TEXT,\n        location: dbSample && dbSample.sample_location ? dbSample.sample_location : BLANK_TEXT,\n        host_genome: derivedOutput && derivedOutput.host_genome_name ? derivedOutput.host_genome_name : BLANK_TEXT,\n        notes: dbSample && dbSample.sample_notes ? dbSample.sample_notes : BLANK_TEXT };\n\n      return (\n        <a className='col s12 no-padding sample-feed' key={i} href={`/samples/${dbSample.id}`}>\n          <div>\n            <div className='samples-card white'>\n              <div className='flex-container'>\n                <ul className='flex-items'>\n                  <li className='sample-name-info'>\n                    <div className='card-label top-label'>\n                      {/*<span className='project-name'>*/}\n                      {/*Mosquito*/}\n                      {/*</span>*/}\n                      <span className='upload-date'>\n                        Uploaded {moment(dbSample.created_at).startOf('second').fromNow()}\n                      </span>\n                    </div>\n                    <div className='card-label center-label sample-name'>\n                      {dbSample.name}\n                    </div>\n                    <div className='card-label author bottom-label author'>\n                      { !uploader || uploader === '' ? '' : <span>Uploaded by: {uploader}</span>}\n                    </div>\n                  </li>\n                  {\n                    this.state.columnsShown.map((column, pos) => {\n                      let column_data = '';\n                      if (column === 'pipeline_status') {\n                        column_data = (\n                          <li  key={pos}>\n                            <div className='card-label top-label'>\n                              { rowWithChunkStatus }\n                            </div>\n                            <div className='card-label center-label'>\n                              { runInfo.total_runtime ?\n                                <span className=\"time\">\n                                  <i className=\"fa fa-clock-o\" aria-hidden=\"true\"/>\n                                  <span className='duration-label'>\n                                    { this.formatRunTime(runInfo.total_runtime) }\n                                    </span>\n                                </span> : null\n                              }\n                            </div>\n                          </li>\n                        )\n                      } else if(column === 'nonhost_reads') {\n                        column_data = (<li key={pos}>\n                          <div className='card-label center center-label data-label'>\n                            {data_values[column]} {data_values[\"nonhost_reads_percent\"]}\n                          </div>\n                        </li>)\n                      } else {\n                        column_data = (<li key={pos}>\n                          <div className='card-label center center-label data-label'>\n                            {data_values[column]}\n                          </div>\n                        </li>)\n                      }\n                      return column_data;\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n          </div>\n        </a>\n      )\n    })\n  }\n\n  //Load more samples on scroll\n  scrollDown() {\n    var that = this;\n    $(window).scroll(function() {\n      if ($(window).scrollTop() > $(document).height() - $(window).height() - 6000) {\n        { !that.state.isRequesting && !that.state.pageEnd ? that.loadMore() : null }\n        return false;\n      }\n    });\n  }\n\n  //fetch first set of samples\n  fetchSamples() {\n    Samples.showLoading('Fetching samples...');\n    const params = this.getParams();\n    axios.get(`/samples?${params}`).then((res) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        initialFetchedSamples: res.data.samples,\n        allSamples: res.data.samples,\n        displayEmpty: false,\n        pagesLoaded: prevState.pagesLoaded+1,\n        totalNumber: res.data.total_count,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }));\n      if (!this.state.allSamples.length) {\n        this.setState({ displayEmpty: true });\n      }\n    }).catch((err) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        allSamples: [],\n        displayEmpty: true,\n        pagesLoaded: 0,\n        pageEnd: prevState.pageEnd\n      }))\n    })\n  }\n\n  //fetch data used by projects page\n  fetchProjectPageData() {\n    this.fetchSamples();\n  }\n\n  //load more paginated samples\n  loadMore() {\n    const params = this.getParams();\n    this.setState({ isRequesting: true })\n    axios.get(`/samples?${params}`).then((res) => {\n      this.setState((prevState) => ({\n        isRequesting: false,\n        allSamples: [...prevState.allSamples, ...res.data.samples],\n        pagesLoaded: prevState.pagesLoaded+1,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }))\n    }).catch((err) => {\n      this.setState((prevState) => ({\n        isRequesting: false,\n        allSamples: [...prevState.allSamples],\n        pagesLoaded: prevState.pagesLoaded,\n        pageEnd: prevState.pageEnd\n      }))\n    })\n  }\n\n  //fetch project, filter and search params\n  getParams() {\n    let params = `filter=${this.state.filterParams}&tissue=${this.state.tissueParams}&page=${this.state.pagesLoaded+1}&search=${this.state.searchParams}&sort_by=${this.state.sort_by}`;\n    let projectId = parseInt(this.state.selectedProjectId);\n\n    if(projectId) {\n      params += `&project_id=${projectId}`\n    }\n    if(this.state.sampleIdsParams.length) {\n      let sampleParams = this.state.sampleIdsParams;\n      params += `&ids=${sampleParams}`\n    }\n    return params;\n  }\n\n  //fetch results from filtering, search or switching projects\n  fetchResults(cb) {\n    Samples.showLoading('Fetching samples...');\n    const params = this.getParams();\n    axios.get(`/samples?${params}`).then((res) => {\n      Samples.hideLoader();\n      this.setState((prevState) => ({\n        initialFetchedSamples: res.data.samples,\n        allSamples: res.data.samples,\n        displayEmpty: false,\n        totalNumber: res.data.total_count,\n        pagesLoaded: prevState.pagesLoaded+1,\n        pageEnd: res.data.samples.length >= this.pageSize ? false : true,\n      }));\n      if (!this.state.allSamples.length) {\n        this.setState({ displayEmpty: true });\n      }\n      if(typeof cb === 'function') {\n        cb();\n      }\n    }).catch((err) => {\n      this.setState({\n        initialFetchedSamples: [],\n        allSamples: [],\n        displayEmpty: true,\n      });\n      if(typeof cb === 'function') {\n        cb();\n      }\n    })\n  }\n\n  applyClass(status) {\n    if(status === 'COMPLETE') {\n      return 'complete';\n    } else if (status === 'WAITING') {\n      return 'waiting';\n    } else if (status === 'INPROGRESS') {\n      return 'uploading';\n    } else if (status === 'FAILED') {\n      return 'failed';\n    }\n  }\n\n  applyChunkStatusClass(runInfo) {\n    let postProcess = runInfo['Post Processing']\n    let hostFiltering = runInfo['Host Filtering']\n    let alignment = runInfo['GSNAPL/RAPSEARCH alignment']\n    if (postProcess) {\n      return postProcess === 'LOADED' ? 'complete' : 'uploading';\n    } else if(alignment) {\n      return alignment === 'FAILED' ? 'failed' : 'uploading';\n    } else if(hostFiltering) {\n      return hostFiltering === 'FAILED' ? 'failed' : 'uploading';\n    }\n  }\n\n  getChunkedStage(runInfo) {\n    let postProcess = runInfo['Post Processing']\n    let hostFiltering = runInfo['Host Filtering']\n    let alignment = runInfo['GSNAPL/RAPSEARCH alignment']\n    if (postProcess === 'FAILED' || alignment === 'FAILED' || hostFiltering === 'FAILED') {\n      return 'FAILED';\n    } else if (postProcess) {\n      if (postProcess === 'LOADED')\n        return 'COMPLETE';\n      else\n        return  'POST PROCESSING';\n    } else if (alignment) {\n      return 'ALIGNMENT';\n    } else if (hostFiltering) {\n      return 'HOST FILTERING';\n    }  else {\n      return 'WAITING';\n    }\n  }\n\n  //handle search when query is passed\n  handleSearch(e) {\n    if (e.target.value !== '' && e.key === 'Enter') {\n      Samples.showLoading(`Searching for samples that match ${e.target.value}...`)\n      this.setState({\n        pagesLoaded: 0,\n        pageEnd: false,\n        searchParams: e.target.value\n      }, () => {\n        Samples.hideLoader();\n        this.setUrlLocation();\n        this.fetchResults();\n      });\n    }\n  }\n\n  fetchProjectDetails(projId) {\n    if (!projId) {\n      this.setState({\n        selectedProjectId: null,\n        project: null,\n        pagesLoaded: 0,\n        pageEnd: false,\n      });\n      this.fetchSamples();\n    } else {\n      projId = parseInt(projId);\n      axios.get(`projects/${projId}.json`).then((res) => {\n        this.setState({\n          pagesLoaded: 0,\n          project: res.data\n        });\n        this.fetchResults();\n      }).catch((err) => {\n        this.setState({ project: null })\n      })\n    }\n  }\n\n  viewSample(id) {\n    _satellite.track('viewsample')\n    location.href = `/samples/${id}`;\n  }\n\n  getActiveSort(className) {\n    if(className) {\n      const sort = SortHelper.getFilter('sort_by');\n      if (sort === className) {\n        return 'active';\n      } else if (className === this.defaultSortBy && !sort) {\n        return 'active';\n      }\n    }\n  }\n\n  toggleDisplayProjects() {\n    this.setState((prevState) => ({ showLess: !prevState.showLess }))\n  }\n\n  renderEmptyTable() {\n    return (\n      <div className=\"center-align\"><i className='fa fa-frown-o'> No result found</i></div>\n    )\n  }\n\n  findSelectedColumns(selO) {\n    const selValues = [];\n    for (let i=0; i < selO.length; i++) {\n      const column_name = selO.options[i].value;\n      if (selO.options[i].selected && column_name !== \"\") {\n        selValues.push(column_name);\n      }\n    }\n    return selValues;\n  }\n\n  handleColumnSelectChange(e) {\n    const selected_columns = this.findSelectedColumns(e.target);\n    this.setState({columnsShown: selected_columns});\n  }\n\n  columnHidden(column) {\n    return !this.state.columnsShown.includes(column)\n  }\n\n  display_column_options(column_map, data_type) {\n    const column_list = Object.keys(column_map)\n    return column_list.map((option_name, i) => {\n      if (column_map[option_name].type === data_type) {\n        return (\n          <option key={option_name} id={option_name} value={option_name}>\n            {column_map[option_name].display_name}\n          </option>\n        )\n      }\n    })\n  }\n\n\n  addFavIconClass(project) {\n    return (\n      <i data-status=\"favorite\" data-fav={project.favorited} data-id={project.id} onClick={this.toggleFavorite} className={!project.favorited ? \"favorite fa fa-star-o\":  \"favorite fa fa-star\"}></i>\n    )\n  }\n\n  downloadTable(id) {\n    _satellite.track('downloadtable');\n    location.href = `/projects/${id}/csv`;\n  }\n\n  renderTable(samples) {\n    let project_id = this.state.selectedProjectId ? this.state.selectedProjectId : 'all'\n    let search_field_width = (project_id === 'all') ? 'col s10' : 'col s8'\n    let search_field = (\n      <div className={search_field_width + ' no-padding'}>\n        <div className='white'>\n          <span className=\"icon\">\n            <i className=\"fa fa-search\" aria-hidden=\"true\"/>\n          </span>\n          <input id=\"search\" value={this.state.searchParams} onChange={this.handleSearchChange}  type=\"search\" onKeyDown={this.handleSearch} className=\"search\" placeholder='Search for sample'/>\n        </div>\n      </div>\n    );\n    let table_download_button = (\n      <div className='col s2 download-table'>\n        <div className='white'>\n          <a href={`/projects/${project_id}/csv`} className=\"download-project center\">\n            <i className=\"fa fa-cloud-download\"/>\n            <span>Download table</span>\n          </a>\n        </div>\n      </div>\n    );\n    const reports_download_button_contents = this.state.project_id_download_in_progress ?\n                                         <span className='download-progress'/>\n                                         : <a onClick={this.startReportGeneration} className=\"download-project center\">\n                                             <i className=\"fa fa-cloud-download\"/>\n                                             <span>Download reports</span>\n                                           </a>\n    const reports_download_button = (\n      <div className='col s2 download-table'>\n        <div className='white'>\n          { reports_download_button_contents }\n        </div>\n      </div>\n    );\n    const search_box = (\n      <div className=\"row search-box\">\n        { search_field }\n        { table_download_button }\n        { project_id === 'all' ? null : reports_download_button }\n      </div>\n    );\n\n    const projInfo = (\n      <div className=\"wrapper\">\n        <div className={(!this.state.project) ? \"proj-title all-proj\" : \"proj-title\"}>{ (!this.state.project) ? <div>All projects</div> : this.state.project.name }</div>\n        <p>{ this.state.allSamples.length === 0 ? 'No sample found' : ( this.state.allSamples.length === 1 ? '1 sample found' : `${this.state.allSamples.length} out of ${this.state.totalNumber} samples found`) }</p>\n      </div>\n    );\n\n   const filterTissueDropDown = (\n        <div className='dropdown-status-filtering'>\n        <li>\n          <a className=\"title\">\n            <b>Filter tissue</b>\n          </a>\n        </li>\n        { this.tissue_types.map((tissue, i) => {\n          <div>{tissue}nknjn</div>\n          return (\n            <li key={i} className=\"filter-item\" data-status={tissue} onClick={ this.handleTissueFilterSelect } ><a data-status={tissue} className=\"filter-item\">{tissue}</a><i className=\"filter fa fa-check hidden\"></i></li>\n          )\n        }) }\n        <li className=\"divider\"/>\n      </div>\n   )\n\n   const filterStatus = (\n        <div className='dropdown-status-filtering'>\n          <li>\n            <a className=\"title\">\n              <b>Filter status</b>\n            </a>\n          </li>\n          <li className=\"filter-item\" data-status=\"WAITING\" onClick={ this.handleStatusFilterSelect } ><a data-status=\"WAITING\" className=\"filter-item waiting\">Waiting</a><i data-status=\"WAITING\" className=\"filter fa fa-check hidden\"></i></li>\n          <li className=\"filter-item\" data-status=\"UPLOADING\" onClick={ this.handleStatusFilterSelect }><a data-status=\"UPLOADING\" className=\"filter-item uploading\">In Progress</a><i data-status=\"UPLOADING\"  className=\"filter fa fa-check hidden\"></i></li>\n          <li className=\"filter-item\" data-status=\"CHECKED\" onClick={ this.handleStatusFilterSelect }><a data-status=\"CHECKED\" className=\"filter-item complete\">Complete</a><i data-status=\"CHECKED\" className=\"filter fa fa-check hidden\"></i></li>\n          <li className=\"filter-item\" onClick={ this.handleStatusFilterSelect } data-status=\"FAILED\" ><a data-status=\"FAILED\" className=\"filter-item failed\">Failed</a><i data-status=\"FAILED\" className=\"filter fa fa-check hidden\"></i></li>\n          <li className=\"filter-item\" data-status=\"ALL\" onClick={ this.handleStatusFilterSelect }><a data-status=\"ALL\" className=\"filter-item all\">All</a><i data-status=\"ALL\" className=\"filter all fa fa-check hidden\"></i></li>\n          <li className=\"divider\"/>\n        </div>\n   )\n\n    const tableHead = (\n      <div className='col s12 sample-feed-head no-padding samples-table-head'>\n        <div className='samples-card white'>\n          <div className='flex-container'>\n            <ul className='flex-items'>\n              <li className='sample-name-info'>\n                <div className='card-label column-title center-label sample-name'>\n                  <div className='sort-able' onClick={this.sortSamples}>\n                    <span>Name</span><i className={`fa ${(this.state.sort_by === 'name,desc')\n                    ? 'fa fa-sort-alpha-desc' : 'fa fa-sort-alpha-asc'}\n                  ${(this.state.sort_by === 'name,desc' || this.state.sort_by === 'name,asc') ? 'active': 'hidden'}`}/>\n                  </div>\n                </div>\n              </li>\n              { this.state.columnsShown.map((column_name, pos) => {\n                return (\n                  <li key={`shown-${pos}`}>\n                    {\n                      this.COLUMN_DISPLAY_MAP[column_name].tooltip ?\n                      <Tipsy position='bottom'\n                        content={this.COLUMN_DISPLAY_MAP[column_name].tooltip}>\n                        <div className='card-label column-title center-label sample-name center menu-dropdown'\n                          data-activates={`column-dropdown-${pos}`}>\n                          {this.COLUMN_DISPLAY_MAP[column_name].display_name } <i className=\"fa fa-caret-down\"/>\n                        </div>\n                      </Tipsy>\n                      :\n                      <div className='card-label column-title center-label sample-name center menu-dropdown'\n                        data-activates={`column-dropdown-${pos}`}>\n                        {this.COLUMN_DISPLAY_MAP[column_name].display_name } <i className=\"fa fa-caret-down\"/>\n                      </div>\n                    }\n                    <ul className='dropdown-content column-dropdown' id={`column-dropdown-${pos}`}>\n                        { column_name === 'pipeline_status' ?\n                          <div>{filterStatus}</div> : ( column_name === 'tissue_type' ? <div>{filterTissueDropDown}</div> : \"\")\n                        }\n                        <li>\n                          <a className=\"title\">\n                            <b>Switch column</b>\n                          </a>\n                        </li>\n                        {this.state.allColumns.map((name, i) => {\n                          return (\n                            (this.state.columnsShown.includes(name)) ?\n                              <li key={`all-${i}`} className={`disabled column_name ${column_name === name ? 'current': ''}`}>\n                                { this.COLUMN_DISPLAY_MAP[name].display_name }\n                                {(column_name === name) ?\n                                  <i className=\"fa fa-check right\"/> : null}\n                              </li>\n                              : <li key={`all-${i}`} className='selectable column_name' onClick={() => this.switchColumn(name, pos)}>\n                                { this.COLUMN_DISPLAY_MAP[name].display_name }\n                              </li>\n                          )\n                        })\n                        }\n                      </ul>\n                    </li>\n                  )\n                })\n                }\n              </ul>\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n      <div className=\"row content-wrapper\">\n        <div className=\"project-info col s12\">\n          { projInfo }\n        </div>\n\n        <div className=\"sample-container col s12\">\n          { search_box }\n          <div className=\"sample-table-container row\">\n            { tableHead }\n            { !samples.length && this.state.displayEmpty ? this.renderEmptyTable() : this.renderPipelineOutput(samples)  }\n          </div>\n        </div>\n        { !this.state.pageEnd && this.state.allSamples.length > 14 ? <div className=\"scroll\">\n        <i className='fa fa-spinner fa-spin fa-3x'></i>\n        </div> : \"\" }\n      </div>\n    )\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevStatus = prevState.filterParams;\n    const currentStatus = this.state.filterParams;\n    if(prevStatus !== currentStatus) {\n      $(`i[data-status=\"${prevStatus}\"]`).removeClass('active');\n    } else {\n      $(`i[data-status=\"${currentStatus}\"]`).addClass('active');\n    }\n  }\n\n  componentDidMount() {\n    $(() => {\n      const samplesHeader = $('.sample-table-container');\n      $(window).scroll(() => {\n        if ($(window).scrollTop() > samplesHeader.offset().top) {\n          samplesHeader.addClass('shadow');\n        } else {\n          samplesHeader.removeClass('shadow');\n        }\n      });\n      $('.filter').hide();\n      $('body').addClass('background-cover');\n    });\n    this.initializeTooltip();\n    this.fetchProjectPageData();\n    this.state.selectedProjectId ? this.fetchProjectDetails(this.state.selectedProjectId) : null;\n    this.scrollDown();\n    // this.initializeProjectList();\n    this.displayPipelineStatusFilter();\n    this.initializeColumnSelect();\n  }\n\n  initializeColumnSelect() {\n    $(document).ready(function() {\n      $('select').material_select();\n    });\n    $(ReactDOM.findDOMNode(this.refs.columnSelector)).on('change',this.handleColumnSelectChange.bind(this));\n  }\n\n  // initialize filter dropdown\n  displayPipelineStatusFilter() {\n    const textSize = 14;\n    $('.status-dropdown, .menu-dropdown').dropdown({\n      belowOrigin: true,\n      stopPropagation: false,\n      constrainWidth: true\n    });\n    $(\".dropdown-content>li>a\").css(\"font-size\", textSize)\n  }\n\n  displayCheckMarks(filter) {\n    $('.filter').hide();\n    $(`.filter[data-status=\"${filter}\"]`).show();\n  }\n\n  //handle filtering when a filter is selected from list\n  handleStatusFilterSelect(e) {\n    let status = e.target.getAttribute('data-status');\n    this.setState({\n      pagesLoaded: 0,\n      pageEnd: false,\n      filterParams: status\n    }, () => {\n      this.setUrlLocation();\n      this.fetchResults();\n    });\n  }\n\n  handleTissueFilterSelect(e) {\n    e.preventDefault();\n    let status = e.target.getAttribute('data-status');\n    this.setState({\n      pagesLoaded: 0,\n      pageEnd: false,\n      tissueParams: status\n    }, () => {\n      this.setUrlLocation();\n      this.fetchResults();\n    });\n  }\n\n  //set Url based on requests\n  setUrlLocation() {\n    let projectId = parseInt(this.state.selectedProjectId);\n    const params = {\n      project_id: projectId ? projectId : null,\n      filter: this.state.filterParams,\n      tissue: this.state.tissueParams,\n      search: this.state.searchParams,\n      sort_by: this.state.sort_by\n    };\n    window.history.replaceState(null, null, `?${$.param(params)}`)\n  }\n\n  handleProjectSelection(id) {\n    this.setState({\n      selectedProjectId: id,\n      pagesLoaded: 0,\n      pageEnd: false\n    }, () => {\n      this.setUrlLocation();\n      this.fetchProjectDetails(id);\n    });\n  }\n\n  render() {\n    const project_section =\n      <ProjectSelection\n        favoriteProjects = { this.favoriteProjects }\n        allProjects = { this.allProjects }\n        csrf = { this.csrf }\n        selectProject = { this.handleProjectSelection }\n      />;\n\n    return (\n      <div>\n          <div className=\"row content-body\">\n            <div className=\"col s2 sidebar\">\n              { project_section }\n            </div>\n             <div className=\"col s10\">\n              { this.renderTable(this.state.allSamples) }\n            </div>\n          </div>\n      </div>\n    )\n  }\n\n}\nexport default Samples;\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Samples.jsx","/**\n * @class SortHelper\n * @desc a helper class to handle sorting on tables\n*/\nclass SortHelper {\n  /**\n    @method currentSort\n    @desc this gets the current sort from the url\n    @return {Object} an object literal\n  */\n  static currentSort() {\n    const sortBy = SortHelper.getFilter('sort_by');\n    let currentSort = {};\n    if (sortBy) {\n      currentSort = {\n        sortQuery: `sort_by=${sortBy}`\n      };\n    }\n    return currentSort;\n  }\n\n  /**\n    @method getFilter\n    @param {String} name\n    @desc this search the url parameter for the value of the specified get key\n    @return {String} when it finds the value or null when it doesn't\n  */\n  static getFilter(name) {\n    const url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`);\n    const results = regex.exec(url);\n    if (!results) {\n      return null;\n    }\n    if (!results[2]) {\n      return null;\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  }\n\n  /**\n    @method applySort\n    @param {String} sortQuery\n    @desc this method refreshes the entire page with the new query string parameters\n  */\n  static applySort(sortQuery) {\n    const currentUrl = window.location.href;\n    const url = SortHelper.deleteUrlParam(currentUrl, 'sort_by');\n    if (SortHelper.hasQuery(url)) {\n      window.location = `${url}&${sortQuery}`;\n    } else {\n      window.location = `${url}?${sortQuery}`;\n    }\n  }\n\n  /**\n   * @method deleteUrlParam\n   * @param {String} url\n   * @param {String} parameter\n   * @desc this delete a query parameter from a url\n   * @return {String} the modified url\n  */\n  static deleteUrlParam(url, parameter) {\n    const queryString = url.split('?');\n    if (queryString.length >= 2) {\n      const prefix = `${encodeURIComponent(parameter)}=`;\n      const pars = queryString[1].split(/[&;]/g);\n      let i;\n      for (i = pars.length; i--; i > 0) {\n        if (pars[i].lastIndexOf(prefix, 0) !== -1) {\n          pars.splice(i, 1);\n        }\n      }\n      url = `${queryString[0]}${pars.length > 0 ? `?${pars.join('&')}` : ''}`;\n    }\n    return url;\n  }\n\n  /**\n   * @method hasQuery\n   * @param {String} url\n   * @desc check if the url contain any get query\n   * @return {Boolean} true if the urls has any query modifier\n  */\n  static hasQuery(url) {\n    return (url.split('?').length >= 2);\n  }\n}\nexport default SortHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/SortHelper.jsx","import React from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Samples from './Samples';\n\n/**\n @class ProjectSelection\n @desc Creates react component to handle filtering in the page\n */\n\n class ProjectSelection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.csrf = props.csrf;\n    this.favoriteProjects = props.favoriteProjects;\n    this.allProjects = props.allProjects;\n    this.toggleDisplayProjects = this.toggleDisplayProjects.bind(this);\n    this.toggleDisplayFavProjects = this.toggleDisplayFavProjects.bind(this);\n    this.toggleFavorite = this.toggleFavorite.bind(this);\n    this.handleProjectClick = this.handleProjectClick.bind(this);\n    this.handleAllProjectorSamplesClick\n    this.uploadSample = this.uploadSample.bind(this);\n\n    this.state = {\n      formattedProjectList: [],\n      formattedFavProjectList: [],\n      favIds: [],\n      showLess: true,\n      showLessFavorites: true,\n      selectedProjectId: this.fetchParams('project_id') || null,\n    };\n  }\n\n  componentDidMount() {\n    this.reformatProjectList(this.favoriteProjects, this.allProjects)\n  }\n\n  fetchParams(param) {\n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(param)\n  }\n\n  toggleDisplayProjects() {\n    this.setState((prevState) => ({ showLess: !prevState.showLess }))\n  }\n\n\n  uploadSample() {\n    location.href = '/samples/new'\n  }\n\n  toggleDisplayFavProjects() {\n    this.setState((prevState) => ({ showLessFavorites: !prevState.showLessFavorites }))\n  }\n\n  toggleFavorite(e) {\n    let favStatus = e.target.getAttribute('data-fav');\n    let projectId = e.target.getAttribute('data-id');\n    favStatus == 'true' ?  _satellite.track('unfavorite') : _satellite.track('favorite');\n    Samples.showLoading(`${favStatus == 'true' ? 'Removing from' : 'Adding to' } favorites...`)\n    axios\n      .put(`/projects/${projectId}/${favStatus == 'true' ? 'remove_favorite' : 'add_favorite' }?`, {\n        authenticity_token: this.csrf\n      })\n      .then((res) => {\n        Samples.hideLoader();\n        this.checkIfProjecExistInFavorites(projectId, this.state.formattedProjectList);\n      }).catch((err) => {\n        Samples.hideLoader();\n    })\n  }\n\n  reformatProjectList(favorites, allProjects) {\n    let favProjects = [];\n    let favIds = [];\n    if(favorites.length) {\n      favIds = favorites.map(e => e.id);\n    }\n    let formattedList = allProjects.map(e => {\n      let project = e;\n\n      if (!project.favorited) {\n        project.favorited = favIds.includes(project.id);\n\n        if (project.favorited) {\n          favProjects.push(project);\n        }\n      }\n\n      return project;\n    });\n\n    this.setState({\n      formattedProjectList: formattedList,\n      formattedFavProjectList: favProjects,\n      favIds: favIds\n    });\n\n    return formattedList;\n  }\n\n  // update\n  updateProjectsState(id, projects) {\n    let updatedList = projects.map(project => {\n      if (project.id == id) {\n        project.favorited = !project.favorited\n      }\n\n      return project;\n    });\n\n    this.setState({ formattedProjectList: updatedList });\n\n    return updatedList;\n  }\n\n  // check existence of projects in favorites projects list\n  // if true then remove else add\n  checkIfProjecExistInFavorites(id, projects) {\n    if (this.state.favIds.includes(parseInt(id))) {\n      this.removeProjectFromFavorites(id);\n    } else {\n      this.addProjectToFavorites(id, projects);\n    }\n    this.updateProjectsState(id, projects);\n  }\n\n\n  // remove Projects from favorites list\n  removeProjectFromFavorites(id) {\n    let updatedFavouriteProjects = this.state.formattedFavProjectList.filter(project => project.id != id);\n    let removedFavouriteProject = this.state.formattedFavProjectList.filter(project => project.id == id);\n\n    let favIds = this.state.favIds;\n    let projectIdIndex = favIds.indexOf(removedFavouriteProject[0].id);\n\n    if (projectIdIndex > -1) {\n      favIds.splice(projectIdIndex, 1);\n      this.setState({\n        formattedFavProjectList: updatedFavouriteProjects,\n        favIds\n      });\n    }\n  }\n\n  // add Projects to favorites list\n  addProjectToFavorites(id, projects) {\n    let updatedProject = projects.filter(project => project.id == id);\n\n    this.setState({\n        formattedFavProjectList: [...this.state.formattedFavProjectList, ...updatedProject],\n        favIds: [...this.state.favIds, updatedProject[0].id]\n    });\n  }\n\n\n  handleProjectClick(e) {\n    let id = e.target.getAttribute('data-id');\n    let listType = e.target.getAttribute('data-type');\n    if (listType == 'fav') {\n      this.highlightSelectedFavoriteProject(id)\n    } else {\n      this.highlightSelectedProject(e, id);\n    }\n    this.props.selectProject(id);\n  }\n\n  highlightSelectedProject(e, id) {\n    this.removeHighlight();\n    this.removeHighlightedText();\n    id ? $(`.project-item[data-id=\"${id}\"]`).addClass('highlight') : this.highlightAllSamplesorAllProject(e)\n  }\n\n  highlightAllSamplesorAllProject(e) {\n    this.removeHighlightedText();\n    let tagAttribute =  e.target.getAttribute('data-title')\n    if (tagAttribute === \"allsamples\") {\n      $('.samples-title').addClass('highlight-text')\n    } else {\n      $('.projects-title').addClass('highlight-text')\n    }\n  }\n\n  removeHighlightedText() {\n    $('.samples-title').removeClass('highlight-text')\n    $('.projects-title').removeClass('highlight-text')\n  }\n\n\n  removeHighlight() {\n    $('.fav-item').removeClass('highlight')\n    $('.project-item').removeClass('highlight')\n  }\n\n  highlightSelectedFavoriteProject(id) {\n    this.removeHighlight();\n    this.removeHighlightedText();\n    $(`.fav-item[data-id=\"${id}\"]`).addClass('highlight');\n  }\n\n\n  addFavIconClass(project) {\n    return (\n      <i data-status=\"favorite\" data-fav={project.favorited} data-id={project.id} onClick={this.toggleFavorite} className={!project.favorited ? \"favorite fa fa-star-o\":  \"favorite fa fa-star\"}></i>\n    )\n  }\n\n  renderProjectSection() {\n    const sortLogic = (a, b) => {\n      var nameA = a.name.toUpperCase(); // ignore upper and lowercase\n      var nameB = b.name.toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      // names must be equal\n      return 0;\n    };\n\n    const fav_section = (\n      <div className=\"row fav-row\">\n        <span className=\"title\">Favorite Projects</span>\n        <hr/>\n        <div className=\"fav-projects-wrapper\">\n          {!this.state.formattedFavProjectList.length ? <div className=\"none\">None</div>: this.state.showLessFavorites ? this.state.formattedFavProjectList.sort(sortLogic).slice(0,4).map((project, i) => {\n            return (\n              <div className=\"fav-item\" data-id={project.id}  key={i}><div onClick={this.handleProjectClick} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n            )\n          }):\n          this.state.formattedFavProjectList.sort(sortLogic).map((project, i) => {\n            return (\n              <div className=\"fav-item\" data-id={project.id}  key={i}><div onClick={this.handleProjectClick} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n            )\n          }) }\n          { this.state.formattedFavProjectList.length > 4 ? <div className=\"more\" onClick={this.toggleDisplayFavProjects}>{this.state.showLessFavorites ? 'Show More...' : 'Show Less...'}</div> : ''}\n        </div>\n      </div>\n    )\n\n    const all_projects_section = (\n      <div className=\"projects\">\n        <span onClick={this.handleProjectClick} data-title=\"allprojects\" className=\"title projects-title\">All Projects</span>\n        <hr/>\n        <div className=\"projects-wrapper\">\n          { !this.state.formattedProjectList.length ? \"None\" : this.state.showLess ? this.state.formattedProjectList.sort(sortLogic).slice(0,7).map((project, i) => {\n              return (\n                  <div className=\"project-item\" data-id={project.id}  key={i}><div onClick={this.handleProjectClick} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n              )\n            }) :\n            this.state.formattedProjectList.sort(sortLogic).map((project, i) => {\n            return (\n              <div className=\"project-item\" data-id={project.id} key={i}><div onClick={this.handleProjectClick} data-id={project.id}><span data-id={project.id}>{project.name}</span></div>{this.addFavIconClass(project)}</div>\n            )\n          }) }\n          { this.state.formattedProjectList.length > 7 ? <div className=\"more\" onClick={this.toggleDisplayProjects}>{this.state.showLess ? 'Show More...' : 'Show Less...'}</div> : ''}\n        </div>\n      </div>\n    )\n    return (\n      <div className=\"project-wrapper\">\n        <div className=\"row\">\n          <div className=\"samples\">\n            <p data-title=\"allsamples\" className=\"samples-title\" onClick={this.handleProjectClick}>All Samples</p>\n            <span onClick={this.uploadSample}><i className=\"fa fa-lg fa-plus-circle\" aria-hidden=\"true\"></i></span>\n          </div>\n          { fav_section }\n          { all_projects_section }\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        { this.renderProjectSection() }\n      </div>\n    )\n  }\n }\n export default ProjectSelection;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/ProjectSelection.jsx","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport numberWithCommas from '../helpers/strings';\nimport SubHeader from './SubHeader';\nimport PipelineSampleReport from './PipelineSampleReport';\n\nclass PipelineSampleReads extends React.Component {\n  constructor(props) {\n    super(props);\n    this.csrf = props.csrf;\n    this.allBackgrounds = props.all_backgrounds;\n    this.rerunPath = props.rerun_path;\n    this.sampleInfo = props.sampleInfo;\n    this.projectInfo = props.projectInfo;\n    this.sample_map = props.project_sample_ids_names;\n\n    this.reportPresent =  props.reportPresent;\n    this.reportTime = props.reportTime;\n    this.allCategories  = props.allCategories;\n    this.reportDetails  = props.reportDetails;\n    this.reportPageParams  = props.reportPageParams;\n\n    this.jobStatistics = props.jobStatistics;\n    this.summary_stats = props.summary_stats;\n    this.gotoReport = this.gotoReport.bind(this);\n    this.sampleId = this.sampleInfo.id;\n    this.host_genome = props.host_genome;\n    this.pipelineStatus = props.sample_status;\n    this.pipelineRun = props.pipelineRun;\n    this.rerunPipeline = this.rerunPipeline.bind(this);\n    this.state = {\n      rerun: false,\n      failureText: 'Sample run failed'\n    };\n    this.TYPE_PROMPT = \"Type here...\";\n    this.NUCLEOTIDE_TYPES = ['-',\"DNA\", \"RNA\"];\n    this.DROPDOWN_OPTIONS = { sample_tissue: PipelineSampleReads.fetchTissueTypes(),\n                              sample_template: this.NUCLEOTIDE_TYPES };\n    this.DROPDOWN_METADATA_FIELDS = Object.keys(this.DROPDOWN_OPTIONS);\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n\n  }\n\n  componentDidMount() {\n    $('.dropdown-button').dropdown({\n      belowOrigin: true\n    });\n  }\n\n  render_metadata_dropdown(label, field) {\n    let dropdown_options = this.DROPDOWN_OPTIONS[field];\n    let display_value = this.sampleInfo[field] ? this.sampleInfo[field] : '-';\n    return (\n      <div className='row detail-row no-padding'>\n        <div className='col s5 label'>\n          {label}\n        </div>\n        <div className='col s7 no-padding'>\n          <div className=\"sample-notes\">\n            <div className='details-value custom-select-dropdown select-dropdown' data-activates={field}>\n              <div className='hack'>\n                { display_value }\n              </div>\n              <i className=\"fa fa-chevron-down right\"/>\n            </div>\n\n            <ul id={field} className='dropdown-content details-dropdown'>\n              {\n                dropdown_options.map((option_value, i) => {\n                  return <li onClick={(e) => {this.handleDropdownChange(field, i, e)}} ref={field}\n                    key={i}>{option_value}</li>\n                })\n              }\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render_metadata_textfield(label, field) {\n    let display_value = this.sampleInfo[field] && this.sampleInfo[field].trim() !== \"\" ? this.sampleInfo[field] : this.TYPE_PROMPT;\n    return (\n      <div className='row detail-row'>\n        <div className='col s6 no-padding'>\n          {label}\n        </div>\n        <div className='col s6 no-padding'>\n          <div className=\"details-value sample-notes\">\n            <pre suppressContentEditableWarning={true} contentEditable={true} id={field}>\n              {display_value}\n            </pre>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  gotoReport() {\n    $('ul.tabs').tabs('select_tab', 'reports');\n    PipelineSampleReads.setTab('pipeline_display','reports');\n  }\n\n  pipelineInProgress() {\n    if (this.pipelineRun === null) {\n      return true;\n    } else if (this.pipelineRun.finalized === 1) {\n      return false;\n    }\n    return true;\n  }\n\n  rerunPipeline() {\n    this.setState({\n      rerun: true\n    })\n    axios.put(`${this.rerunPath}.json`, {\n      authenticity_token: this.csrf\n    }).then((response) => {\n    // this should set status to UPLOADING/IN PROGRESS after rerun\n    }).catch((error) => {\n      this.setState({\n        rerun: false,\n        failureText: 'Failed to re-run Pipeline'\n      })\n    })\n  }\n\n  static getActive(section, tab) {\n    return (window.localStorage.getItem(section) === tab) ? 'active' : '';\n  }\n\n  static setTab(section, tab) {\n    window.localStorage.setItem(section, tab);\n  }\n\n  static fetchTissueTypes() {\n    let tissue_types =  ['-',\"Bronchoalveolar lavage\", \"Cerebrospinal fluid\",\n    \"Nasopharyngeal swab\", \"Plasma\", \"Serum\", \"Solid tissue\",\n    \"Stool\", \"Synovial fluid\", \"Whole blood\"];\n    return tissue_types;\n  }\n\n  componentDidMount() {\n    $('ul.tabs').tabs();\n    this.listenNoteChanges();\n    this.initializeSelectTag();\n    $('.custom-select-dropdown').dropdown({\n      belowOrigin: true\n    });\n    for (var i = 0; i < this.DROPDOWN_METADATA_FIELDS.length; i++) {\n      let field = this.DROPDOWN_METADATA_FIELDS[i];\n      $(ReactDOM.findDOMNode(this.refs[field])).on('change',this.handleDropdownChange);\n    }\n  }\n\n  initializeSelectTag() {\n    $('select').material_select();\n  }\n\n  handleDropdownChange(field, position, element) {\n    const parent = $(element.target).parent();\n    const value = this.DROPDOWN_OPTIONS[field][position];\n    const prevValue = parent.prev().text().trim();\n    if (prevValue !== value) {\n      parent.prev().html(\n        `<div class='hack'>\n        ${value}\n       </div>\n       <i class=\"fa fa-chevron-down right\"/>`\n      );\n      axios.post('/samples/' + this.sampleInfo.id + '/save_metadata.json', {\n        field: field, value: value\n      })\n        .then((response) => {\n          if (response.data.status === 'success') {\n            $('.note-saved-success')\n              .html(`<i class='fa fa-check-circle'></i> ${response.data.message}`)\n              .css('display', 'inline-block')\n              .delay(1000)\n              .slideUp(200);\n          } else {\n            $('.note-save-failed')\n              .html(`<i class='fa fa-frown-o'></i> ${response.data.message}`)\n              .css('display', 'inline-block')\n              .delay(1000)\n              .slideUp(200);\n          }\n        }).catch((error) => {\n        $('.note-save-failed')\n          .html(`<i class='fa fa-frown-o'></i> Something went wrong!`)\n          .css('display', 'inline-block')\n          .delay(1000)\n          .slideUp(200);\n      });\n    }\n\n  }\n\n  listenNoteChanges() {\n    let currentText = '';\n    $('.sample-notes').focusin((e) => {\n      currentText = e.target.innerText.trim();\n      if (currentText === this.TYPE_PROMPT) {\n        e.target.innerText = '';\n      }\n    });\n\n    $('.sample-notes').focusout((e) => {\n      const newText = e.target.innerText.trim();\n      const field = e.target.id;\n      if (newText !== currentText) {\n        axios.post('/samples/' + this.sampleInfo.id + '/save_metadata.json', {\n          field: field,\n          value: newText\n        })\n        .then((response) => {\n          if (response.data.status === 'success') {\n            $('.note-saved-success')\n            .html(`<i class='fa fa-check-circle'></i> ${response.data.message}`)\n            .css('display', 'inline-block')\n            .delay(1000)\n            .slideUp(200);\n          } else {\n            $('.note-save-failed')\n            .html(`<i class='fa fa-frown-o'></i> ${response.data.message}`)\n            .css('display', 'inline-block')\n            .delay(1000)\n            .slideUp(200);\n          }\n        }).catch((error) => {\n          $('.note-save-failed')\n          .html(`<i class='fa fa-frown-o'></i> Something went wrong!`)\n          .css('display', 'inline-block')\n          .delay(1000)\n          .slideUp(200);\n        });\n      };\n      if (newText.trim() === '') {\n        e.target.innerText = this.TYPE_PROMPT;\n      }\n    });\n  }\n\n  render() {\n    let d_report = null;\n    if(this.reportPresent) {\n      d_report = <PipelineSampleReport\n        sample_id = {this.sampleId}\n        report_ts = {this.reportTime}\n        all_categories = {this.allCategories}\n        all_backgrounds = {this.allBackgrounds}\n        report_details = {this.reportDetails}\n        report_page_params = {this.reportPageParams}\n      />;\n    } else {\n      d_report = <div className=\"center-align text-grey text-lighten-2 no-report\">{ this.pipelineInProgress() ? <div>Sample Waiting ...<p><i className='fa fa-spinner fa-spin fa-3x'></i></p></div> :\n        <div>\n          <h6 className=\"failed\"><i className=\"fa fa-frown-o\"></i>  {this.state.failureText}  </h6>\n          <p>\n           { !this.state.rerun ? <a onClick={ this.rerunPipeline }className=\"custom-button small\"><i className=\"fa fa-repeat left\"></i>RERUN PIPELINE</a>\n            : null }\n            </p>\n        </div> }\n      </div>\n    }\n\n    let pipeline_run = null;\n    let download_section = null;\n    const BLANK_TEXT = 'unknown';\n    if (this.pipelineRun && this.pipelineRun.total_reads) {\n      pipeline_run = (\n        <div className=\"data\">\n          <div className=\"row\">\n            <div className=\"col s6\">\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Total reads\n                </div>\n                <div className='details-value col s6 no-padding'>\n                  { numberWithCommas(this.pipelineRun.total_reads) }\n                </div>\n              </div>\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Non-host reads\n                </div>\n                <div className={`details-value col s6 no-padding ${!this.summary_stats.remaining_reads ? BLANK_TEXT : ''}`}>\n                  {!this.summary_stats.remaining_reads ?\n                    BLANK_TEXT :\n                    numberWithCommas(this.summary_stats.remaining_reads)\n                  }\n                  { !this.summary_stats.percent_remaining ? '' :\n                    ` (${this.summary_stats.percent_remaining.toFixed(2)}%)`\n                  }\n                </div>\n              </div>\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Unmapped reads\n                </div>\n                <div className={`details-value col s6 no-padding ${!this.summary_stats.unmapped_reads ? BLANK_TEXT : ''}`}>\n                  { !this.summary_stats.unmapped_reads ? BLANK_TEXT :\n                    numberWithCommas(this.summary_stats.unmapped_reads)\n                  }\n                </div>\n              </div>\n            </div>\n            <div className=\"col s6\">\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Passed quality control\n                </div>\n                <div className={`details-value col s6 no-padding ${!this.summary_stats.qc_percent ? BLANK_TEXT : ''}`}>\n                  {\n                    !this.summary_stats.qc_percent ? BLANK_TEXT :\n                      `${this.summary_stats.qc_percent.toFixed(2)}%`\n                  }\n                </div>\n              </div>\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Compression ratio\n                </div>\n                <div className={`details-value col s6 no-padding ${!this.summary_stats.compression_ratio ? BLANK_TEXT : ''}`}>\n                  {\n                    !this.summary_stats.compression_ratio ? BLANK_TEXT\n                      : this.summary_stats.compression_ratio.toFixed(2)\n                  }\n                </div>\n              </div>\n              <div className='row detail-row'>\n                <div className='col s6 no-padding'>\n                  Date processed\n                </div>\n                <div className={`details-value col s6 no-padding ${!this.summary_stats.last_processed_at ? BLANK_TEXT : ''}`}>\n                  {!this.summary_stats.last_processed_at ? BLANK_TEXT :\n                    moment(this.summary_stats.last_processed_at).startOf('second').fromNow()\n                  }\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    );\n\n    download_section = (\n      <div>\n        <a className=\"custom-button\" href= { `/samples/${this.sampleInfo.id}/nonhost_fasta` }>\n          <i className=\"fa fa-cloud-download\"></i>\n          Download Non-Host Reads\n        </a>\n        <a className=\"custom-button\" href= { `/samples/${this.sampleInfo.id}/unidentified_fasta` }>\n          <i className=\"fa fa-cloud-download\"></i>\n          Download Unmapped Reads\n        </a>\n        <a className=\"custom-button\" href= { this.sampleInfo.sample_output_folder_url }>\n          <i className=\"fa fa-folder-open\"/>\n          Navigate to Results Folder\n        </a>\n      </div>\n    );\n\n    } else {\n      pipeline_run = (\n        <div className=\"center\">\n          There is no pipeline output for this sample\n        </div>\n      );\n    }\n    let sample_dropdown = '';\n    if (this.sample_map && Object.keys(this.sample_map).length > 1) {\n      sample_dropdown = (\n        <div className='dropdown-button sample-select-dropdown' data-activates='sample-list'>\n          { this.sampleInfo.name }<i className=\"fa fa-chevron-down right\"/>\n\n          <ul id='sample-list' className='dropdown-content sample-dropdown-content'>\n           { Object.keys(this.sample_map).map((sample_id, i) => {\n               return (\n                 <li key={i}>\n                   <a href={`/samples/${sample_id}`}>\n                     { this.sample_map[sample_id] }\n                   </a>\n                 </li>\n               )})\n           }\n          </ul>\n        </div>\n      )\n    } else {\n    sample_dropdown = <span>{ this.sampleInfo.name }</span>\n    }\n\n\n    return (\n      <div>\n        <SubHeader>\n          <div className=\"sub-header\">\n            <div className=\"title\">\n              PIPELINE\n            </div>\n\n            <div className=\"sub-title\">\n              <a href={`/?project_id=${this.projectInfo.id}`}> {this.projectInfo.name} </a> > { sample_dropdown }\n            </div>\n\n            <div className=\"sub-header-navigation\">\n              <div className=\"nav-content\">\n                <ul className=\"tabs tabs-transparent\">\n                  <li className=\"tab\">\n                    <a href=\"#details\" className=''>Details</a>\n                  </li>\n                  <li className=\"tab\">\n                    <a href=\"#reports\" className='active'>Report</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </SubHeader>\n        <div id=\"details\" className=\"tab-screen col s12\">\n          <div className='center'>\n            <span className='note-action-feedback note-saved-success'>\n            </span>\n            <span className='note-action-feedback note-save-failed'>\n            </span>\n          </div>\n\n          <div className=\"container tab-screen-content\">\n            <div className=\"row\">\n              <div className=\"col s9\">\n\n                <div className=\"row\">\n                  <div className=\"col s12\">\n                    <div className=\"content-title\">\n                      Sample Details\n                    </div>\n                    <div className=\"data\">\n                      <div className=\"row\">\n                        <div className=\"col s6\">\n                          <div className='row detail-row'>\n                            <div className='col s6 no-padding'>\n                              Host\n                            </div>\n                            <div className={`details-value col s6 no-padding\n                            ${!this.host_genome ? BLANK_TEXT : ''}`}>\n                              {!this.host_genome ? BLANK_TEXT : this.host_genome.name}\n                            </div>\n                          </div>\n\n                          <div className='row detail-row'>\n                            <div className='col s6 no-padding'>\n                              Upload date\n                            </div>\n                            <div className='details-value col s6 no-padding'>\n                              { moment(this.sampleInfo.created_at).startOf('second').fromNow() }\n                            </div>\n                          </div>\n                          {this.render_metadata_textfield(\"Location\", \"sample_location\", 0)}\n                        </div>\n                        <div className=\"col s6\">\n                          {this.render_metadata_dropdown(\"Tissue type\", \"sample_tissue\")}\n                          {this.render_metadata_dropdown(\"Nucleotide type\", \"sample_template\")}\n                          <div className='row detail-row no-padding'>\n                            <div className='col s5 label'>\n                              Patient ID\n                            </div>\n                            <div className='col s7 '>\n                              <div className=\"details-value label sample-notes\">\n                                <pre suppressContentEditableWarning={true} contentEditable={true} id='sample_host'>\n                                  {this.sampleInfo['sample_host'] && this.sampleInfo['sample_host'].trim() !== \"\" ?\n                                    this.sampleInfo['sample_host'] : this.TYPE_PROMPT\n                                  }\n                                </pre>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col s12\">\n                          <div className='details-title note'>\n                            Notes\n                          </div>\n                          <div className=\"sample-notes note\">\n                            <pre className='details-value' suppressContentEditableWarning={true} contentEditable={true} id='sample_notes'>\n                              {this.sampleInfo['sample_notes'] && this.sampleInfo['sample_notes'].trim() !== \"\" ? this.sampleInfo['sample_notes'] : this.TYPE_PROMPT}\n                            </pre>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col s12\">\n                    <div className=\"content-title\">\n                      PIPELINE OUTPUT\n                    </div>\n                    { pipeline_run }\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col s3 download-area\">\n                <div className='download-title'>\n                  Downloads Reads\n                </div>\n                <a className=\"custom-button\" href={ this.sampleInfo.sample_input_folder_url }>\n                  <i className=\"fa fa-folder-open\"/>\n                  Go To Source Data\n                </a>\n                { download_section }\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id=\"reports\" className=\"reports-screen tab-screen col s12\">\n          { d_report }\n        </div>\n      </div>\n    )\n  }\n}\nexport default PipelineSampleReads;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/PipelineSampleReads.jsx","import React from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport $ from 'jquery';\nimport Tipsy from 'react-tipsy';\nimport Samples from './Samples';\nimport ReportFilter from './ReportFilter';\nimport numberWithCommas from '../helpers/strings';\n\nclass PipelineSampleReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.report_ts = props.report_ts;\n    this.sample_id = props.sample_id;\n\n    this.all_categories = props.all_categories;\n    this.report_details = props.report_details;\n    this.report_page_params = props.report_page_params;\n    this.all_backgrounds = props.all_backgrounds;\n    this.max_rows_to_render = props.max_rows || 2000;\n    this.default_sort_by = this.report_page_params.sort_by.replace('highest_', '');\n    this.sort_params = {};\n    const filter_thresholds = Cookies.get('filter_thresholds');\n    const cached_cats = Cookies.get('excluded_categories');\n\n    this.state = {\n      taxonomy_details: [],\n      search_keys_in_sample: [],\n      lineage_map: {},\n      genus_map: {},\n      rows_passing_filters: 0,\n      rows_total: 0,\n      thresholded_taxons: [],\n      selected_taxons: [],\n\n      sort_by: this.default_sort_by,\n      new_filter_thresholds: (filter_thresholds) ? JSON.parse(filter_thresholds) : { NT_aggregatescore: 0.0 },\n      /*\n        NT_zscore: 0.0,\n        NT_rpm: 0.0,\n        NT_r: 0.0,\n        NT_percentidentity: 0.0,\n        NT_neglogevalue: 0.0,\n        NT_percentconcordant: 0.0,\n        NR_zscore: 0.0,\n        NR_rpm: 0.0,\n        NR_r: 0.0,\n        NR_percentidentity: 0.0,\n        NR_neglogevalue: 0.0,\n        NR_percentconcordant: 0.0,\n      }\n      */\n      excluded_categories: (cached_cats) ? JSON.parse(cached_cats) : [],\n      search_taxon_id: 0,\n      loading: true\n    };\n\n    this.applySearchFilter = this.applySearchFilter.bind(this);\n    this.applyThresholdFilters = this.applyThresholdFilters.bind(this);\n    this.anyFilterSet = this.anyFilterSet.bind(this);\n    this.resetAllFilters = this.resetAllFilters.bind(this);\n    this.sortResults = this.sortResults.bind(this);\n    this.sortCompareFunction = this.sortCompareFunction.bind(this);\n    this.setSortParams = this.setSortParams.bind(this);\n    this.flash = this.flash.bind(this);\n\n    this.taxonPassThresholdFilter = this.taxonPassThresholdFilter.bind(this);\n    this.expandOrCollapseGenus = this.expandOrCollapseGenus.bind(this);\n    this.expandTable = this.expandTable.bind(this);\n    this.collapseTable = this.collapseTable.bind(this);\n    this.downloadFastaUrl = this.downloadFastaUrl.bind(this);\n\n    this.handleThresholdEnter = this.handleThresholdEnter.bind(this);\n    this.initializeTooltip();\n  }\n\n  componentWillMount() {\n    this.fetchReportData();\n    this.fetchSearchList();\n  }\n\n  componentDidMount() {\n    this.listenThresholdChanges();\n  }\n\n  fetchSearchList() {\n    axios.get(`/samples/${this.sample_id}/search_list?report_ts=${this.report_ts}`).then((res) => {\n      const search_list = res.data.search_list;\n      search_list.splice(0, 0, ['All', 0]);\n      this.setState({\n        lineage_map: res.data.lineage_map,\n        search_keys_in_sample: search_list\n      });\n    });\n  }\n\n  fetchReportData() {\n    Samples.showLoading('Loading results...');\n    let params = `?${window.location.search.replace('?', '')}&report_ts=${this.report_ts}`;\n    const cached_background_id = Cookies.get('background_id');\n    if (cached_background_id) {\n      params = params.indexOf('background_id=')\n      < 0 ? `${params}&background_id=${cached_background_id}` : params;\n    }\n    axios.get(`/samples/${this.sample_id}/report_info${params}`).then((res) => {\n      Samples.hideLoader();\n      const genus_map = {};\n      for (let i = 0; i < res.data.taxonomy_details[2].length; i++) {\n        const taxon = res.data.taxonomy_details[2][i];\n        if (taxon.genus_taxid == taxon.tax_id) {\n          genus_map[taxon.genus_taxid] = taxon;\n        }\n      }\n\n      this.setState({\n        rows_passing_filters: res.data.taxonomy_details[0],\n        rows_total: res.data.taxonomy_details[1],\n        taxonomy_details: res.data.taxonomy_details[2],\n        genus_map\n      });\n      this.applyThresholdFilters(res.data.taxonomy_details[2], false);\n    });\n  }\n\n  anyFilterSet() {\n    if (this.state.search_taxon_id > 0 || this.state.excluded_categories.length > 0 || Object.keys(this.state.new_filter_thresholds).length > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  resetAllFilters() {\n    this.setState({\n      new_filter_thresholds: { },\n      excluded_categories: [],\n      search_taxon_id: 0,\n      thresholded_taxons: this.state.taxonomy_details,\n      selected_taxons: this.state.taxonomy_details,\n      rows_passing_filters: this.state.taxonomy_details.length\n    });\n    Cookies.set('filter_thresholds', '{}');\n    Cookies.set('excluded_categories', '[]');\n    $('.metric-thresholds').val('');\n    this.flash();\n  }\n\n  applySearchFilter(searchTaxonId, excludedCategories, input_taxons) {\n    let selected_taxons = [];\n    const thresholded_taxons = input_taxons || this.state.thresholded_taxons;\n    if (searchTaxonId > 0) {\n      // ignore all the thresholds\n      let genus_taxon = {};\n      let matched_taxons = [];\n      for (let i = 0; i < this.state.taxonomy_details.length; i++) {\n        const taxon = this.state.taxonomy_details[i];\n        if (taxon.genus_taxid == taxon.tax_id) {\n          if (matched_taxons.length > 0) {\n            selected_taxons.push(genus_taxon);\n            selected_taxons = selected_taxons.concat(matched_taxons);\n          }\n          genus_taxon = taxon;\n          matched_taxons = [];\n        } else {\n          // species\n          const match_keys = this.state.lineage_map[taxon.tax_id.toString()];\n          if (match_keys && match_keys.indexOf(searchTaxonId) > -1) {\n            matched_taxons.push(taxon);\n          }\n        }\n      }\n      if (matched_taxons.length > 0) {\n        selected_taxons.push(genus_taxon);\n        selected_taxons = selected_taxons.concat(matched_taxons);\n      }\n    } else if (excludedCategories.length > 0) {\n      for (var i = 0; i < thresholded_taxons.length; i++) {\n        let taxon = thresholded_taxons[i];\n        if (excludedCategories.indexOf(taxon.category_name) < 0) {\n          // not in the excluded categories\n          selected_taxons.push(taxon);\n        } else if (taxon.category_name == 'Uncategorized' && parseInt(taxon.tax_id) == -200) {\n          // the 'All taxa without genus classification' taxon\n          const uncat_taxon = taxon;\n          const filtered_children = [];\n          i++;\n          taxon = thresholded_taxons[i];\n          while (taxon && taxon.genus_taxid == -200) {\n            if (excludedCategories.indexOf(taxon.category_name) < 0) {\n              filtered_children.push(taxon);\n            }\n            i++;\n            taxon = thresholded_taxons[i];\n          }\n          if (filtered_children.length > 0) {\n            selected_taxons.push(uncat_taxon);\n            selected_taxons = selected_taxons.concat(filtered_children);\n          }\n          i--;\n        }\n      }\n    } else {\n      selected_taxons = thresholded_taxons;\n    }\n\n    // console.log(excludedCategories)\n    this.setState({\n      loading: false,\n      excluded_categories: excludedCategories,\n      search_taxon_id: searchTaxonId,\n      thresholded_taxons,\n      selected_taxons,\n      rows_passing_filters: selected_taxons.length\n    });\n  }\n\n  flash() {\n    $('.filter-message').removeClass('flash');\n    const el = document.getElementById('filter-message');\n    if (el) {\n      el.offsetHeight; /* trigger reflow */\n    }\n    $('.filter-message').addClass('flash');\n  }\n\n  initializeTooltip() {\n    // only updating the tooltip offset when the component is loaded\n    $(() => {\n      const tooltipIdentifier = $(\"[rel='tooltip']\");\n      tooltipIdentifier.tooltip({\n        delay: 0,\n        html: true,\n        placement: 'top',\n        offset: '0px 50px'\n      });\n      $('.sort-controls').hover(() => {\n        const selectTooltip = $('.tooltip');\n        const leftOffset = parseInt(selectTooltip.css('left'));\n        if (!isNaN(leftOffset)) {\n          selectTooltip.css('left', leftOffset - 15);\n        }\n      });\n    });\n  }\n\n  // applySort needs to be bound at time of use, not in constructor above\n  // TODO(yf): fix this\n  applySort(sort_by) {\n    console.log(sort_by);\n    if (sort_by.toLowerCase() != this.state.sort_by) {\n      this.state.sort_by = sort_by.toLowerCase();\n      this.sortResults();\n    }\n  }\n\n  sortCompareFunction(a, b) {\n    const [ptype, pmetric] = this.sortParams.primary;\n    const [stype, smetric] = this.sortParams.secondary;\n    const genus_a = this.state.genus_map[a.genus_taxid];\n    const genus_b = this.state.genus_map[b.genus_taxid];\n\n    const genus_a_p_val = parseFloat(genus_a[ptype][pmetric]);\n    const genus_a_s_val = parseFloat(genus_a[stype][smetric]);\n    const a_p_val = parseFloat(a[ptype][pmetric]);\n    const a_s_val = parseFloat(a[stype][smetric]);\n\n    const genus_b_p_val = parseFloat(genus_b[ptype][pmetric]);\n    const genus_b_s_val = parseFloat(genus_b[stype][smetric]);\n    const b_p_val = parseFloat(b[ptype][pmetric]);\n    const b_s_val = parseFloat(b[stype][smetric]);\n    // compared at genus level descending and then species level descending\n    //\n    //\n    if (a.genus_taxid == b.genus_taxid) {\n      // same genus\n      if (a.tax_level > b.tax_level) {\n        return -1;\n      } else if (a.tax_level < b.tax_level) {\n        return 1;\n      }\n      if (a_p_val > b_p_val) {\n        return -1;\n      } else if (a_p_val < b_p_val) {\n        return 1;\n      }\n      if (a_s_val > b_s_val) {\n        return -1;\n      } else if (a_s_val < b_s_val) {\n        return 1;\n      }\n      return 0;\n    }\n    if (genus_a_p_val > genus_b_p_val) {\n      return -1;\n    } else if (genus_a_p_val < genus_b_p_val) {\n      return 1;\n    }\n    if (genus_a_s_val > genus_b_s_val) {\n      return -1;\n    } else if (genus_a_s_val < genus_b_s_val) {\n      return 1;\n    }\n    if (a.genus_taxid < b.genus_taxid) {\n      return -1;\n    } else if (a.genus_taxid > b.genus_taxid) {\n      return 1;\n    }\n  }\n\n  setSortParams() {\n    const primary_sort = this.state.sort_by.split('_');\n    primary_sort[0] = primary_sort[0].toUpperCase();\n    const secondary_sort = this.default_sort_by.split('_');\n    secondary_sort[0] = secondary_sort[0].toUpperCase();\n    this.sortParams = {\n      primary: primary_sort,\n      secondary: secondary_sort\n    };\n  }\n\n  sortResults() {\n    this.setSortParams();\n    let selected_taxons = this.state.selected_taxons;\n    selected_taxons = selected_taxons.sort(this.sortCompareFunction);\n    this.setState({\n      selecte_taxons: selected_taxons\n    });\n    this.state.thresholded_taxons = this.state.thresholded_taxons.sort(this.sortCompareFunction);\n    this.state.taxonomy_details = this.state.taxonomy_details.sort(this.sortCompareFunction);\n  }\n\n  setFilterThreshold(e) {\n    const threshold_name = e.target.id;\n    const val = parseFloat(e.target.value.trim());\n    if (isNaN(val)) {\n      delete this.state.new_filter_thresholds[threshold_name];\n    } else {\n      this.state.new_filter_thresholds[threshold_name] = val;\n    }\n    Cookies.set('filter_thresholds', JSON.stringify(this.state.new_filter_thresholds));\n  }\n\n  taxonPassThresholdFilter(taxon) {\n    // console.log(taxon)\n    if (Object.keys(taxon).length <= 0) {\n      return false;\n    }\n    for (const filter_key in this.state.new_filter_thresholds) {\n      const threshold = this.state.new_filter_thresholds[filter_key];\n      const key_parts = filter_key.split('_');\n      const val = (taxon[key_parts[0]] || {})[key_parts[1]];\n      if (val < threshold) {\n        // console.log([val, threshold, filter_key])\n        return false;\n      }\n    }\n    return true;\n  }\n\n  applyThresholdFilters(candidate_taxons, play_animation = true) {\n    let thresholded_taxons = [];\n    let genus_taxon = {};\n    let matched_taxons = [];\n    for (let i = 0; i < candidate_taxons.length; i++) {\n      const taxon = candidate_taxons[i];\n      if (taxon.genus_taxid == taxon.tax_id) {\n        // genus\n        if (matched_taxons.length > 0) {\n          thresholded_taxons.push(genus_taxon);\n          thresholded_taxons = thresholded_taxons.concat(matched_taxons);\n        } else if (this.taxonPassThresholdFilter(genus_taxon)) {\n          thresholded_taxons.push(genus_taxon);\n        }\n        genus_taxon = taxon;\n        matched_taxons = [];\n      } else {\n        // species\n        if (this.taxonPassThresholdFilter(taxon)) {\n          matched_taxons.push(taxon);\n        }\n      }\n    }\n\n    if (matched_taxons.length > 0) {\n      thresholded_taxons.push(genus_taxon);\n      thresholded_taxons = thresholded_taxons.concat(matched_taxons);\n    } else if (this.taxonPassThresholdFilter(genus_taxon)) {\n      thresholded_taxons.push(genus_taxon);\n    }\n\n    this.applySearchFilter(0, this.state.excluded_categories, thresholded_taxons);\n\n    if (play_animation) {\n      this.flash();\n    }\n  }\n\n  handleThresholdEnter(event) {\n    if (event.keyCode == 13) {\n      this.applyThresholdFilters(this.state.taxonomy_details);\n    }\n  }\n\n  listenThresholdChanges() {\n    $('.metric-thresholds').focusout((e) => {\n      this.applyThresholdFilters(this.state.taxonomy_details);\n    });\n  }\n\n  // Remove this after fix sorting\n  refreshPage(overrides) {\n    const new_params = Object.assign({}, this.report_page_params, overrides);\n    window.location = `${location.protocol}//${location.host}${location.pathname}?${$.param(new_params)}`;\n  }\n\n  thresholdInputColumn(metric_token) {\n    return (\n      <input\n        className=\"browser-default metric-thresholds\"\n        onChange={this.setFilterThreshold.bind(this)}\n        onKeyDown={this.handleThresholdEnter}\n        name=\"group2\"\n        defaultValue={this.state.new_filter_thresholds[metric_token]}\n        id={metric_token}\n        type=\"number\"\n      />\n    );\n  }\n\n\n  // path to NCBI\n  gotoNCBI(e) {\n    const taxId = e.target.getAttribute('data-tax-id');\n    const ncbiLink = `https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id=${taxId}`;\n    window.open(ncbiLink, '_blank');\n  }\n\n  // download Fasta\n  downloadFastaUrl(e) {\n    const taxLevel = e.target.getAttribute('data-tax-level');\n    const taxId = e.target.getAttribute('data-tax-id');\n    location.href = `/samples/${this.sample_id}/fasta/${taxLevel}/${taxId}/NT_or_NR`;\n  }\n\n  displayTags(taxInfo, reportDetails) {\n    return (\n      <span className=\"link-tag\">\n        { taxInfo.tax_id > 0 ? <i data-tax-id={taxInfo.tax_id} onClick={this.gotoNCBI} className=\"fa fa-link cloud\" aria-hidden=\"true\" /> : null }\n        { reportDetails.taxon_fasta_flag ? <i\n          data-tax-level={taxInfo.tax_level}\n          data-tax-id={taxInfo.tax_id}\n          onClick={this.downloadFastaUrl}\n          className=\"fa fa-download cloud\"\n          aria-hidden=\"true\"\n        /> : null }\n      </span>\n    );\n  }\n\n  category_to_adjective(category) {\n    const category_lowercase = category.toLowerCase();\n    switch (category_lowercase) {\n      case 'bacteria':\n        return 'bacterial';\n      case 'archaea':\n        return 'archaeal';\n      case 'eukaryota':\n        return 'eukaryotic';\n      case 'viruses':\n        return 'viral';\n      case 'viroids':\n        return 'viroidal';\n      case 'uncategorized':\n        return 'uncategorized';\n    }\n    return category_lowercase;\n  }\n\n  render_name(tax_info, report_details) {\n    let foo = <i>{tax_info.name}</i>;\n    if (tax_info.tax_id > 0) {\n      if (report_details.taxon_fasta_flag) {\n        foo = <span className=\"link\"><a>{tax_info.name}</a></span>;\n      } else {\n        foo = <span>{tax_info.name}</span>;\n      }\n    }\n    if (tax_info.tax_level == 1) {\n      // indent species rows\n      foo = (<div className=\"hover-wrapper\">\n        <div className=\"species-name\">{foo}\n          { this.displayTags(tax_info, report_details) }\n        </div>\n             </div>);\n    } else {\n      // emphasize genus, soften category and species count\n      const category_name = tax_info.tax_id == -200 ? '' : tax_info.category_name;\n      const fake_or_real = tax_info.genus_taxid < 0 ? 'fake-genus' : 'real-genus';\n      const right_arrow_initial_visibility = '';\n      const down_arrow_initial_visibility = 'hidden';\n      const plus_or_minus = (<span>\n        <span className={`report-arrow-down report-arrow ${tax_info.tax_id} ${fake_or_real} ${down_arrow_initial_visibility}`}>\n          <i className={`fa fa-angle-down ${tax_info.tax_id}`} onClick={this.expandOrCollapseGenus} />\n        </span>\n        <span className={`report-arrow-right report-arrow ${tax_info.tax_id} ${fake_or_real} ${right_arrow_initial_visibility}`}>\n          <i className={`fa fa-angle-right ${tax_info.tax_id}`} onClick={this.expandOrCollapseGenus} />\n        </span>\n      </span>);\n       foo = (<div className=\"hover-wrapper\">\n        <div className=\"genus-name\"> {plus_or_minus} {foo}</div>\n        <i className=\"count-info\">({tax_info.species_count} {this.category_to_adjective(category_name)} species)</i>\n        { this.displayTags(tax_info, report_details) }\n             </div>);\n    }\n    return foo;\n  }\n\n  render_number(x, emphasize, num_decimals) {\n    const is_blank = (x == 0) || (x == -100);\n    let y = Number(x);\n    y = y.toFixed(num_decimals);\n    y = numberWithCommas(y);\n    if (emphasize) {\n      y = <b>{y}</b>;\n    }\n    const className = is_blank ? 'report-number-blank' : 'report-number';\n    return (<td className={className}>{y}</td>);\n  }\n\n  render_sort_arrow(column, desired_sort_direction, arrow_direction) {\n    const desired_sort = column.toLowerCase();\n    let className = `fa fa-caret-${arrow_direction}`;\n    const current_sort = this.state.sort_by;\n    if (current_sort == desired_sort) {\n      className = `active ${className}`;\n    }\n    return (\n      <i\n        onClick={this.applySort.bind(this, column)}\n        className={className}\n        key={desired_sort}\n      />\n    );\n  }\n\n  render_column_header(visible_type, visible_metric, column_name, tooltip_message) {\n    const style = { textAlign: 'left', cursor: 'pointer' };\n    const report_column_threshold = this.thresholdInputColumn(column_name);\n    return (\n      <th style={style}>\n        <Tipsy content={tooltip_message} placement=\"top\">\n          <div className='sort-controls center left'>\n            {this.render_sort_arrow(column_name, 'highest', 'down')}\n            {`${visible_type} `}\n            {visible_metric}\n          </div>\n        </Tipsy>\n        <Tipsy content='Threshold' placement=\"bottom\">\n          { report_column_threshold }\n        </Tipsy>\n      </th>\n    );\n  }\n\n  row_class(tax_info) {\n    if (tax_info.tax_level == 2) {\n      if (tax_info.tax_id < 0) {\n        return `report-row-genus ${tax_info.genus_taxid} fake-genus`;\n      }\n      return `report-row-genus ${tax_info.genus_taxid} real-genus`;\n    }\n    const initial_visibility = 'hidden';\n    if (tax_info.genus_taxid < 0) {\n      return `report-row-species ${tax_info.genus_taxid} fake-genus ${initial_visibility}`;\n    }\n    return `report-row-species ${tax_info.genus_taxid} real-genus ${initial_visibility}`;\n  }\n\n  expandOrCollapseGenus(e) {\n    // className as set in render_name() is like 'fa fa-angle-right ${taxId}'\n    const className = e.target.attributes.class.nodeValue;\n    const attr = className.split(' ');\n    const taxId = attr[2];\n    $(`.report-row-species.${taxId}`).toggleClass('hidden');\n    $(`.report-arrow.${taxId}`).toggleClass('hidden');\n  }\n\n  expandTable(e) {\n    // expand all real genera\n    $('.report-row-species.real-genus').removeClass('hidden');\n    $('.report-arrow-down.real-genus').removeClass('hidden');\n    $('.report-arrow-right.real-genus').addClass('hidden');\n    $('.table-arrow').toggleClass('hidden');\n  }\n\n  collapseTable(e) {\n    // collapse all genera (real or negative)\n    $('.report-row-species').addClass('hidden');\n    $('.report-arrow-down').addClass('hidden');\n    $('.report-arrow-right').removeClass('hidden');\n    $('.table-arrow').toggleClass('hidden');\n  }\n\n  // Download report in csv\n  downloadReport(id) {\n    _satellite.track('downloadreport')\n    location.href = `/reports/${id}/csv`\n  }\n\n  render() {\n    const parts = this.report_page_params.sort_by.split('_');\n    const sort_column = `${parts[1]}_${parts[2]}`;\n    const t0 = Date.now();\n\n    const filter_stats = `${this.state.rows_passing_filters} rows passing filters, out of ${this.state.rows_total} total rows.`;\n    const disable_filter = this.anyFilterSet() ? (<span className=\"disable\" onClick={e => this.refs.report_filter.resetAllFilters()}><b> Disable all filters</b></span>) : null;\n    const filter_row_stats = this.state.loading ? null : (\n      <div id=\"filter-message\" className=\"filter-message\">\n        <span className=\"count\">\n          {filter_stats} {disable_filter}\n        </span>\n      </div>\n    );\n    const report_filter =\n      (<ReportFilter\n        ref=\"report_filter\"\n        all_categories={this.all_categories}\n        all_backgrounds={this.all_backgrounds}\n        search_keys_in_sample={this.state.search_keys_in_sample}\n        background_model={this.report_details.background_model}\n        report_title={this.report_details.sample_info.name}\n        report_page_params={this.report_page_params}\n        applyExcludedCategories={this.applyExcludedCategories}\n        applySearchFilter={this.applySearchFilter}\n        flash={this.flash}\n        filter_row_stats={filter_row_stats}\n        enableFilters={this.enableFilters}\n        resetAllFilters={this.resetAllFilters}\n      />);\n    const download_button = (\n      <a href={`/samples/${this.sample_id}/report_csv?background_id=${this.report_details.background_model.id}`} className=\"download-report right\">\n        <div className=\"fa fa-cloud-download\" />\n        <div>Download report</div>\n      </a>\n    );\n    const right_arrow_initial_visibility = '';\n    const result = (\n      <div>\n        <div id=\"reports\" className=\"reports-screen tab-screen col s12\">\n          <div className=\"tab-screen-content\">\n            <div className=\"row reports-container\">\n              <div className=\"col s2 reports-sidebar\">\n                {report_filter}\n              </div>\n              <div className=\"col s10 reports-section\">\n                <div className=\"reports-count\">\n                  { download_button }\n                  { filter_row_stats }\n                </div>\n                <div className=\"reports-main\">\n                  <table id=\"report-table\" className=\"bordered report-table\">\n                    <thead>\n                      <tr>\n                        <th>\n                          <span className={`table-arrow ${right_arrow_initial_visibility}`}>\n                            <i className=\"fa fa-angle-right\" onClick={this.expandTable} />\n                          </span>\n                          <span className=\"table-arrow hidden\">\n                            <i className=\"fa fa-angle-down\" onClick={this.collapseTable} />\n                          </span>\n                        Taxonomy\n                        </th>\n                        {this.render_column_header('', 'Score', 'NT_aggregatescore', 'Aggregate score') }\n                        {this.render_column_header('NT', 'Z', 'NT_zscore', 'Z-score relative to background model for alignments to NCBI NT') }\n                        {this.render_column_header('NT', 'rPM', 'NT_rpm', 'Number of reads aligning to the taxon in the NCBI NT database per million total input reads')}\n                        {this.render_column_header('NT', 'r', 'NT_r', 'Number of reads aligning to the taxon in the NCBI NT database')}\n                        {this.render_column_header('NT', '%id', 'NT_percentidentity', 'Average percent-identity of alignments to NCBI NT')}\n                        {this.render_column_header('NT', 'log(1/E)', 'NT_neglogevalue', 'Average log-10-transformed expect value for alignments to NCBI NT')}\n                        {this.render_column_header('NT', '%conc', 'NT_percentconcordant', 'Percentage of aligned reads belonging to a concordantly mappped pair (NCBI NT)')}\n                        {this.render_column_header('NR', 'Z', 'NR_zscore', 'Z-score relative to background model for alignments to NCBI NR') }\n                        {this.render_column_header('NR', 'rPM', 'NR_rpm', 'Number of reads aligning to the taxon in the NCBI NR database per million total input reads')}\n                        {this.render_column_header('NR', 'r', 'NR_r', 'Number of reads aligning to the taxon in the NCBI NR database')}\n                        {this.render_column_header('NR', '%id', 'NR_percentidentity', 'Average percent-identity of alignments to NCBI NR')}\n                        {this.render_column_header('NR', 'log(1/E)', 'NR_neglogevalue', 'Average log-10-transformed expect value for alignments to NCBI NR')}\n                        {this.render_column_header('NR', '%conc', 'NR_percentconcordant', 'Percentage of aligned reads belonging to a concordantly mappped pair (NCBI NR)')}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      { this.state.selected_taxons.slice(0, this.max_rows_to_render).map((tax_info, i) => (\n                        <tr key={tax_info.tax_id} className={this.row_class(tax_info)}>\n                          <td>\n                            { this.render_name(tax_info, this.report_details) }\n                          </td>\n                          { this.render_number(tax_info.NT.aggregatescore, sort_column == 'nt_aggregatescore', 0) }\n                          { this.render_number(tax_info.NT.zscore, sort_column == 'nt_zscore', 1) }\n                          { this.render_number(tax_info.NT.rpm, sort_column == 'nt_rpm', 1) }\n                          { this.render_number(tax_info.NT.r, sort_column == 'nt_r', 0) }\n                          { this.render_number(tax_info.NT.percentidentity, sort_column == 'nt_percentidentity', 1) }\n                          { this.render_number(tax_info.NT.neglogevalue, sort_column == 'nt_neglogevalue', 0) }\n                          { this.render_number(tax_info.NT.percentconcordant, sort_column == 'nt_percentconcordant', 1) }\n                          { this.render_number(tax_info.NR.zscore, sort_column == 'nr_zscore', 1) }\n                          { this.render_number(tax_info.NR.rpm, sort_column == 'nr_rpm', 1) }\n                          { this.render_number(tax_info.NR.r, sort_column == 'nr_r', 0) }\n                          { this.render_number(tax_info.NR.percentidentity, sort_column == 'nr_percentidentity', 1) }\n                          { this.render_number(tax_info.NR.neglogevalue, sort_column == 'nr_neglogevalue', 0) }\n                          { this.render_number(tax_info.NR.percentconcordant, sort_column == 'nr_percentconcordant', 1) }\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n    const t1 = Date.now();\n    // console.log(`Table render took ${t1 - t0} milliseconds.`);\n    return result;\n  }\n}\nexport default PipelineSampleReport;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/PipelineSampleReport.jsx","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'materialize-css';\nimport 'materialize-css/dist/css/materialize.css';\nimport 'react-tipsy/dist/react-tipsy.css';\nimport 'font-awesome/scss/font-awesome.scss';\nimport './loader.scss';\nconst context = require.context('./components', true, /\\.(js|jsx)$/);\nconst foundComponents = {};\nconst contextKeys = context.keys();\ncontextKeys.forEach((key) => {\n  let a = null;\n  if (typeof context(key) === 'function') {\n    a = context(key);\n  } else if (typeof context(key) === 'object') {\n    a = context(key).default;\n  }\n  if (a && a.name) {\n    foundComponents[a.name] = a;\n  }\n});\n/* eslint camelcase: 0 */ // Turn off camelcase rule\nconst react_component = (componentName, props, target) => {\n  const matchedComponent = foundComponents[componentName];\n  if (matchedComponent) {\n    ReactDOM.render(\n      React.createElement(matchedComponent, props, null),\n      document.getElementById(target)\n    );\n  }\n};\n\nwindow.react_component = react_component;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/index.js","/**\n  @function numberWithCommas\n  @param {Number} x\n  @return {String} comma separated numbers\n*/\nfunction numberWithCommas(x) {\n  if (!x) {\n    return x;\n  }\n  x = x.toString();\n  const pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(x)) {\n    x = x.replace(pattern, '$1,$2');\n  }\n  return x;\n}\n\nexport default numberWithCommas;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/helpers/strings.js","var map = {\n\t\"./BulkUploadImport.jsx\": 178,\n\t\"./CreateUser.jsx\": 197,\n\t\"./Forbidden.jsx\": 198,\n\t\"./Header.jsx\": 199,\n\t\"./Home.jsx\": 200,\n\t\"./IconComponent.js\": 34,\n\t\"./Login.jsx\": 209,\n\t\"./PipelineSampleReads.jsx\": 157,\n\t\"./PipelineSampleReport.jsx\": 158,\n\t\"./ProjectSelection.jsx\": 155,\n\t\"./ProjectVisualization.jsx\": 210,\n\t\"./ReportFilter.jsx\": 18,\n\t\"./SampleUpload.jsx\": 33,\n\t\"./Samples.jsx\": 13,\n\t\"./SortHelper.jsx\": 154,\n\t\"./SubHeader.jsx\": 20\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 177;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/assets/src/components \\.(js|jsx)$\n// module id = 177\n// module chunks = 0","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Tipsy from 'react-tipsy';\nimport SampleUpload from './SampleUpload';\n\nclass BulkUploadImport extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.hostGenomes = props.host_genomes || [];\n    this.hostName = this.hostGenomes.length ? this.hostGenomes[0].name : '';\n    this.hostId = this.hostGenomes.length ? this.hostGenomes[0].id : null;\n    this.handleImportSubmit = this.handleImportSubmit.bind(this);\n    this.handleUploadSubmit = this.handleUploadSubmit.bind(this);\n    this.csrf = props.csrf;\n    this.handleProjectSubmit = this.handleProjectSubmit.bind(this);\n    this.clearError = this.clearError.bind(this);\n    this.handleProjectChange = this.handleProjectChange.bind(this);\n    this.handleProjectChangeForSample = this.handleProjectChangeForSample.bind(this);\n    this.handleHostChange = this.handleHostChange.bind(this);\n    this.handleHostChangeForSample = this.handleHostChangeForSample.bind(this);\n    this.handleBulkPathChange = this.handleBulkPathChange.bind(this);\n    this.selectSample = this.selectSample.bind(this);\n    this.toggleNewProjectInput = this.toggleNewProjectInput.bind(this);\n    this.adminGenomes = this.hostGenomes.map((g) => {\n      return g.name.toLowerCase().indexOf('test') >= 0 ? g.name : '';\n    });\n    this.userDetails = props.loggedin_user;\n    this.state = {\n      submitting: false,\n      allProjects: props.projects || [],\n      hostGenomes: this.hostGenomes || [],\n      invalid: false,\n      errorMessage: '',\n      imported: false,\n      success: false,\n      successMessage: '',\n      hostName: this.hostName,\n      hostId: this.hostId,\n      project: 'Select a Project',\n      projectId: null,\n      selectedBulkPath: '',\n      samples: [],\n      selectedSampleIndices: [],\n      createdSampleIds: [],\n      allChecked: false,\n      disableProjectSelect: false,\n      errors: {},\n      serverErrors: null\n    };\n  }\n  componentDidUpdate() {\n    $('.custom-select-dropdown').dropdown({\n      belowOrigin: true\n    });\n  }\n\n  componentDidMount() {\n    $('body').addClass('background-cover');\n    this.initializeSelectTag();\n    $(ReactDOM.findDOMNode(this.refs.projectSelect)).on('change',this.handleProjectChange);\n    $(ReactDOM.findDOMNode(this.refs.hostSelect)).on('change',this.handleHostChange);\n    this.initializeSelectTag();\n    this.initializeSelectAll();\n  }\n\n  toggleNewProjectInput(e) {\n    $('.new-project-input').slideToggle();\n    $('.new-project-button').toggleClass('active');\n    this.setState({\n      disableProjectSelect: !this.state.disableProjectSelect\n    }, () => {\n      this.initializeSelectTag();\n    });\n  }\n\n  selectSample(e) {\n    this.setState({\n      allChecked: false,\n    })\n    // current array of options\n    const sampleList = this.state.selectedSampleIndices\n\n    let index\n\n    // check if the check box is checked or unchecked\n    if (e.target.checked) {\n      // add the numerical value of the checkbox to options array\n      sampleList.push(+e.target.id)\n    } else {\n      // or remove the value from the unchecked checkbox from the array\n      index = sampleList.indexOf(+e.target.id)\n      sampleList.splice(index, 1)\n    }\n\n    // update the state with the new array of options\n    this.setState({ selectedSampleIndices: sampleList })\n  }\n\n  initializeSelectAll() {\n    $(\".checkAll\").click((e) => {\n      const checkedStatus = e.target.checked;\n      this.setState({\n        allChecked: checkedStatus\n      }, () => {\n        $('input:checkbox').not(this).prop('checked', this.state.allChecked);\n        $(\".sample-box\").each((id, element) => {\n            let sampleList = this.state.selectedSampleIndices;\n            if (this.state.allChecked) {\n              if (sampleList.indexOf(id) === -1) {\n                sampleList.push(+id);\n              }\n            } else {\n              sampleList = []\n            }\n          this.setState({ selectedSampleIndices: sampleList })\n        });\n      })\n    });\n  }\n\n  handleUploadSubmit(e) {\n    e.preventDefault();\n    $('html, body').stop().animate({ scrollTop: 0 }, 200, 'swing', () => {\n      this.clearError();\n      if(!this.isUploadFormInvalid()) {\n        this.setState({\n          submitting: true\n        });\n        this.bulkUploadSubmit();\n      }\n    });\n  }\n\n  handleImportSubmit(e) {\n    e.preventDefault();\n    this.clearError();\n    if(!this.isImportFormInvalid()) {\n      this.setState({\n        submitting: true\n      });\n      this.bulkUploadImport()\n    }\n  }\n\n  initializeSelectTag() {\n    $('select').material_select();\n  }\n\n  clearError() {\n    this.setState({\n      invalid: false,\n      success: false\n     })\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n\n  handleProjectSubmit(e) {\n    if(e && e.preventDefault) {\n      e.preventDefault();\n    }\n    this.clearError();\n    if(!this.isProjectInvalid()) {\n      this.addProject()\n    }\n  }\n\n  addProject() {\n    var that = this;\n    axios.post('/projects.json', {\n      project: {\n        name: this.refs.new_project.value\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      var newProjectList = that.state.allProjects.slice();\n      newProjectList.push(response.data);\n      that.setState({\n        allProjects: newProjectList,\n        project: response.data.name,\n        projectId: response.data.id,\n        success: true,\n        successMessage: 'Project added successfully'\n      }, () => {\n        this.refs.new_project.value = '';\n        that.initializeSelectTag();\n      });\n    })\n    .catch((error) => {\n      that.setState({\n        invalid: true,\n        errorMessage: 'Project exists already or is invalid'\n      })\n    });\n  }\n\n  isProjectInvalid() {\n    if (this.refs.new_project.value === '' && this.state.project === 'Select a project') {\n      this.setState({\n        invalid: true,\n        errorMessage: 'Please enter valid project name'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  bulkUploadImport() {\n    var that = this;\n    axios.get('/samples/bulk_import.json', {\n      params: {\n        project_id: this.state.projectId,\n        host_genome_id: this.state.hostId,\n        bulk_path: this.state.selectedBulkPath,\n        authenticity_token: this.csrf\n      }\n    })\n    .then((response) => {\n      that.setState({\n        submitting: false,\n        success: true,\n        successMessage: 'Samples imported. Pick the ones you want to submit.',\n        samples: response.data.samples,\n        imported: true\n      });\n      that.initializeSelectTag()\n      that.initializeSelectAll()\n    })\n    .catch((error) => {\n     that.setState({\n      submitting: false,\n      invalid: true,\n      errorMessage: error.response.data.status || 'Something went wrong',\n      serverErrors: error.response.data\n     })\n    });\n  }\n\n  bulkUploadSubmit() {\n    var that = this;\n    var samples = []\n    this.state.selectedSampleIndices.map((idx) => {\n      samples.push(this.state.samples[idx])\n    })\n    axios.post('/samples/bulk_upload.json', {\n      samples: samples\n    })\n    .then((response) => {\n      that.setState({\n        success: true,\n        successMessage: 'Samples created. Redirecting...',\n        createdSampleIds: response.data.sample_ids\n      });\n      setTimeout(() => {\n        that.setState({\n          submitting: false\n        });\n        that.gotoPage(`/?ids=${that.state.createdSampleIds.join(',')}`);\n      }, 2000)\n    }).catch((error) => {\n     that.setState({\n      submitting: false,\n      invalid: true,\n      errorMessage: error.response.data.status || 'Unable to process sample(s), ' +\n      'ensure sample is not a duplicate in the selected project',\n      serverErrors: error.response.data\n     });\n    });\n  }\n\n  filePathValid(str) {\n    var regexPrefix = /s3:\\/\\//;\n    if (str.match(regexPrefix)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isImportFormInvalid() {\n    const errors = {};\n    if(this.state.project) {\n      if(this.state.project.toLowerCase() === 'select a project') {\n        errors.project = 'Please select a project';\n      }\n    } else {\n      errors.project = 'Please select a project';\n    }\n    if(this.refs.bulk_path) {\n      if (this.refs.bulk_path.value === '') {\n        errors.bulk_path = 'Please fill in the S3 bulk path';\n      } else if(!this.filePathValid(this.refs.bulk_path.value)) {\n        errors.bulk_path = 'S3 bulk path is invalid';\n      }\n    } else {\n      errors.bulk_path = 'Please fill in the S3 bulk path';\n    }\n    const errorsLength = Object.keys(errors).length;\n    this.setState({\n      invalid: errorsLength > 0,\n      errors\n    });\n    return errorsLength;\n  }\n\n  isUploadFormInvalid() {\n    if (!this.state.selectedSampleIndices.length) {\n      this.setState({\n        invalid: true,\n        errorMessage: 'Please select desired samples'\n      })\n      return true;\n    }\n    return false;\n  }\n\n  handleProjectChange(e) {\n    let projectId\n    if (e.target.selectedIndex > 0) {\n      projectId = this.state.allProjects[e.target.selectedIndex - 1].id;\n    }\n    this.setState({\n      project: e.target.value.trim(),\n      projectId: projectId\n    })\n    this.clearError();\n  }\n\n  handleProjectChangeForSample(samplesId, projectId, element) {\n    const selectedSampleElement = $(element.target);\n    selectedSampleElement.parent().prev().html(`${selectedSampleElement.text()} <i class='fa fa-caret-down right' />`);\n    // updating the label for slected project\n    const samples = this.state.samples\n    samples[samplesId].project_id = this.state.allProjects[projectId].id\n    this.setState({\n      samples: samples\n    })\n    this.clearError();\n  }\n\n  handleHostChangeForSample(samplesId, hostGenomeId, element) {\n    const selectedSampleElement = $(element.target);\n    selectedSampleElement.parent().prev().html(\n      `\n      <div>\n        <div class='genome-icon'>\n          ${SampleUpload.resolveGenomeIcon(selectedSampleElement.text(), '#59bcd6') || selectedSampleElement.text()}\n        </div>\n        <i class='fa fa-caret-down' />\n      </div>\n      `);\n    const samples = this.state.samples;\n    samples[samplesId].host_genome_id = this.state.hostGenomes[hostGenomeId].id\n    this.setState({\n      samples: samples\n    });\n    this.clearError();\n  }\n\n  displayError(failedStatus, serverError, formattedError) {\n    if (failedStatus) {\n      return (serverError instanceof Array) ? serverError.map((error, i) => {\n        return <p key={i}>{error}</p>\n      }) : <p>{formattedError}</p>\n    } else {\n      return null\n    }\n  }\n\n  handleHostChange(hostId, hostName) {\n    this.setState({ hostName, hostId });\n    this.clearError();\n  }\n\n  handleBulkPathChange(e) {\n    this.setState({\n      selectedBulkPath: e.target.value.trim()\n    })\n  }\n\n  renderBulkUploadSubmitForm() {\n    return (\n      <div id='samplesUploader' className='row'>\n        <div className='col s8 offset-s2 upload-form-container'>\n          <div className='content'>\n            <div>\n              <div className='form-title'>\n                Batch Upload\n              </div>\n              <div className='upload-info'>\n                Select which files you want to run through the pipeline.\n              </div>\n              <form className='bulkSumbitForm' ref=\"form\" onSubmit={ this.handleUploadSubmit }>\n                { this.state.success ?\n                  <div className=\"form-feedback success-message\" >\n                    <i className=\"fa fa-check-circle-o\"/> <span>{this.state.successMessage}</span>\n                  </div> : null\n                }\n                {\n                  this.state.invalid ?\n                    <div className='form-feedback error-message'>\n                      { this.displayError(this.state.invalid, this.state.serverErrors, this.state.errorMessage) }\n                    </div> : null\n                }\n                <div className='fields'>\n                  <div className=\"row\">\n                    <div className=\"row header\">\n                      <div className=\"col s5 no-padding\">\n                        <input type=\"checkbox\"\n                        checked = { this.state.allChecked } id=\"checkAll\"\n                        className=\"filled-in checkAll\" onChange={this.initializeSelectAll()}\n                        />\n                        <label htmlFor=\"checkAll\">Sample Name</label>\n                      </div>\n                      <div className=\"col s3 no-padding\">Host</div>\n                      <div className=\"col s4 no-padding\">Project</div>\n                    </div>\n                    <div className='divider'></div>\n                    <br/>\n                    { this.state.samples.map((sample, i) => {\n                      return (\n                        <div className=\"row field-row sample-row\" key={i} >\n                          <p className=\"col s5 sample-names no-padding\">\n                            <input ref=\"samples_list\" type=\"checkbox\" id={i} className=\"filled-in sample-box\" value={ this.state.selectedSampleIndices.indexOf(i) < 0? 0:1 } onChange = { this.selectSample } />\n                            <label htmlFor={i}> {sample.name}</label>\n                          </p>\n                          <div className=\"col s3 no-padding\">\n                            <div className='custom-select-dropdown select-dropdown genome-select' data-activates={`genome-dropdown${i}`}>\n                              <div>\n                                <div className='genome-icon' dangerouslySetInnerHTML={{ __html: SampleUpload.resolveGenomeIcon(this.state.hostName, '#59bcd6')}}/>\n                                 <i className='fa fa-caret-down' />\n                              </div>\n                            </div>\n                            <ul id={`genome-dropdown${i}`} className='dropdown-content genomes'>\n                              {\n                                this.state.hostGenomes.map((host_genome, j) => {\n                                  if(this.adminGenomes.indexOf(host_genome.name) < 0 || this.userDetails.admin){\n                                    return <li onClick={ (e) => { this.handleHostChangeForSample(i, j, e) }} ref=\"genome\"\n                                             key={j} value={host_genome.id}>{host_genome.name}</li>\n                                  }\n                                })\n                              }\n                              { !this.state.hostGenomes.length ? <li>No host genomes to display</li> :'' }\n                            </ul>\n                          </div>\n                          <div className=\"col s4 no-padding\">\n                            <div className='custom-select-dropdown' data-activates={`project-dropdown${i}`}>\n                            { this.state.project }\n                            <i className='fa fa-caret-down right' />\n                            </div>\n                              <ul id={`project-dropdown${i}`} className='dropdown-content'>\n                                { this.state.allProjects.length ?\n                                this.state.allProjects.map((project, j) => {\n                                  return <li onClick={ (e) => {\n                                    this.handleProjectChangeForSample(i, j, e)\n                                  }} ref= \"project\" key={j} value={project.id}>{project.name}</li>\n                                }) : <li>No projects to display</li>\n                                }\n                              </ul>\n                          </div>\n                          <div className=\"col s12\">\n                          </div>\n                        </div>\n                      )})\n                    }\n                  </div>\n                  <div className='field'>\n                    <div className='row'>\n                      <div className='col no-padding s12'>\n                        { (this.state.submitting) ?\n                          <button type='button' disabled className='new-button blue-button upload-samples-button'>\n                            <i className='fa fa-spinner fa-spin fa-lg'/>\n                          </button> :\n                          <button type='submit' onClick={ this.handleUploadSubmit } className='new-button blue-button upload-samples-button'>\n                            Run samples\n                          </button>\n                        }\n                        <button type='button' onClick={() => window.history.back()} className='new-button skyblue-button'>\n                          Cancel\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  renderBulkUploadImportForm() {\n    return (\n      <div id='samplesUploader' className='row'>\n        <div className='col s6 offset-s3 upload-form-container'>\n          <div className='content'>\n            <div>\n              <div className='form-title'>\n                Batch Upload\n              </div>\n              <div className='upload-info'>\n                Upload multiple files at one time to be processed through the IDseq pipeline.\n              </div>\n            </div>\n            <div>\n              <p className='upload-question'>\n                Only want to upload one sample? <a href='/samples/new'>Click here.</a>\n                <br/>\n                Rather use our CLI? <a href='https://github.com/chanzuckerberg/idseq-web/blob/master/README.md#submit-a-sample' target='_blank'>Read documentation here.</a>\n              </p>\n            </div>\n            { this.state.success ?\n              <div className=\"form-feedback success-message\" >\n                <i className=\"fa fa-check-circle-o\"/> <span>{this.state.successMessage}</span>\n              </div> : null\n            }\n            {\n              this.state.invalid ?\n                <div className='form-feedback error-message'>\n                  { this.state.errorMessage }\n                </div> : null\n            }\n            <form ref=\"form\" onSubmit={ this.handleUpload }>\n              <div className='fields'>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col field-title no-padding s12'>\n                      Project\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <Tipsy content='Name of experiment or project' position='top'>\n                      <div className='col project-list no-padding s8' data-delay=\"50\">\n                          <select\n                            ref=\"projectSelect\"\n                            disabled={(this.state.disableProjectSelect ? 'disabled' : '')} className=\"projectSelect\" id=\"sample\" onChange={ this.handleProjectChange } value={this.state.project}>\n                              <option disabled defaultValue>{this.state.project}</option>\n                                { this.state.allProjects.length ?\n                                this.state.allProjects.map((project, i) => {\n                                  return <option ref= \"project\" key={i} id={project.id} >{project.name}</option>\n                                }) : <option>No projects to display</option>\n                            }\n                          </select>\n                          {\n                            (this.state.errors.project) ?\n                              <div className='field-error'>\n                                {this.state.errors.project}\n                              </div> : null\n                          }\n                      </div>\n                    </Tipsy>\n                    <div className='col no-padding s4'>\n                      <Tipsy content='Add a new desired experiment or project name'\n                        placement='right'>\n                        <button\n                          type='button' onClick={this.toggleNewProjectInput}\n                          className='new-project-button new-button skyblue-button'\n                          data-delay=\"50\">\n                          <i className='fa fa-plus'/>\n                          <span>\n                            New project\n                          </span>\n                        </button>\n                      </Tipsy>\n                    </div>\n                    <div className='col no-padding s12 new-project-input hidden'>\n                      <input type='text' onBlur={ (e) => {\n                        if (e.target.value.trim().length) {\n                          this.handleProjectSubmit();\n                        }\n                        $('.new-project-button').click();\n                      }} ref='new_project' onFocus={ this.clearError } className='browser-default' placeholder='Input new project name' />\n                      {\n                        (this.state.errors.new_project) ?\n                          <div className='field-error'>\n                            {this.state.errors.new_project}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <Tipsy content='This would be subtracted by the pipeline'\n                      placement='top'>\n                      <div className='col field-title no-padding s5'\n                        data-delay=\"50\">\n                        Select host genome\n                      </div>\n                    </Tipsy>\n                    {\n                      (this.userDetails.admin) ?\n                        <div className='col s7 right-align no-padding right admin-genomes'>\n                          {\n                            this.state.hostGenomes.map((g) => {\n                              if(this.adminGenomes.indexOf(g.name) > 0 && this.userDetails.admin){\n                                 return (\n                                   <div key={g.id}\n                                     className={`${this.state.hostName ===  g.name ? 'active' : ''} genome-label`}\n                                     id={g.name} onClick={() => this.handleHostChange(g.id, g.name)}>\n                                       { g.name }\n                                   </div>\n                                 );\n                              }\n                            })\n                          }\n                        </div> : null\n                    }\n                    </div>\n                  <div className='row input-row'>\n                    <div className='col center no-padding s12'>\n                      <ul className='host-selector'>\n                        {\n                          this.state.hostGenomes.map((g) => {\n                            return (\n                              SampleUpload.resolveGenomeIcon(g.name) ?\n                              <li\n                                  key={g.id} className={ `${(this.state.hostName === g.name) ? 'active' : ''} `}\n                                  id={g.name} onClick={() => this.handleHostChange(g.id, g.name)}>\n                                  {\n                                    (this.state.hostName === g.name)?\n                                    <div className='img-container' dangerouslySetInnerHTML={{ __html: SampleUpload.resolveGenomeIcon(g.name, '#59bcd6') }} />\n                                    :\n                                    <div className='img-container' dangerouslySetInnerHTML={{ __html: SampleUpload.resolveGenomeIcon(g.name, '#95A1Ab') }} />\n                                  }\n                                <div className='genome-label'>\n                                  { g.name }\n                                </div>\n                              </li> : null\n                            );\n                          })\n                        }\n                        { this.state.hostGenomes.length ? '' :\n                          <div>\n                            <small>No host genome found!</small>\n                          </div>\n                        }\n                      </ul>\n                      {\n                        (this.state.errors.hostName) ?\n                          <div className='field-error'>\n                            {this.state.errors.hostName}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      <div className='field-title'>\n                        <div className='read-count-label'>\n                          Path to Samples Folder\n                        </div>\n                        <div className='example-link'>\n                          Example: s3://czbiohub-seqbot/fastqs/171018_NB501961_0022_AHL2TVBGX3/rawdata\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <div className='col no-padding s12'>\n                      <input onChange={ this.handleBulkPathChange } onFocus={ this.clearError }\n                        type='text' ref= \"bulk_path\" className='browser-default'\n                        placeholder='s3://aws/path-to-sample-folder' />\n                      {\n                        (this.state.errors.bulk_path) ?\n                          <div className='field-error'>\n                            {this.state.errors.bulk_path}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      { (this.state.submitting) ?\n                        <button type='button' disabled className='new-button blue-button upload-samples-button'>\n                          <i className='fa fa-spinner fa-spin fa-lg'/>\n                        </button> :\n                        <button type='submit' onClick={ this.handleImportSubmit } className='new-button blue-button upload-samples-button'>\n                          Upload samples\n                        </button>\n                      }\n                      <button type='button' onClick={() => window.history.back()} className='new-button skyblue-button'>\n                        Cancel\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        { this.state.imported ? this.renderBulkUploadSubmitForm() : null }\n        { !this.state.imported ? this.renderBulkUploadImportForm() : null }\n      </div>\n    )\n  }\n}\n\nexport default BulkUploadImport;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/BulkUploadImport.jsx","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Cookies from 'js-cookie';\nimport ReactAutocomplete from 'react-autocomplete';\nimport $ from 'jquery';\n\n/**\n @class ReportFilter\n @desc Creates react component to handle filtering in the page\n */\nclass ReportFilter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.sample_id = props.sample_id;\n    this.background_model = props.background_model || 'N/A';\n    this.backgroundModels = props.all_backgrounds || [];\n    this.all_categories = props.all_categories || [];\n    this.applyExcludedCategories = this.applyExcludedCategories.bind(this);\n    this.searchSelectedTaxon = this.searchSelectedTaxon.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.resetAllFilters = this.resetAllFilters.bind(this);\n\n    this.handleBackgroundModelChange = this.handleBackgroundModelChange.bind(this);\n    const cached_cats = Cookies.get('excluded_categories');\n    this.state = {\n      searchKey: '',\n      searchId: 0,\n      excluded_categories: (cached_cats) ? JSON.parse(cached_cats) : [] ,\n      backgroundName: Cookies.get('background_name') || this.background_model.name ,\n      backgroundParams: Cookies.get('background_id') || this.background_model.id,\n      search_items: props.search_keys_in_sample\n    };\n  }\n  componentWillReceiveProps(newProps){\n      this.setState({search_items: newProps.search_keys_in_sample})\n  }\n\n  componentDidMount() {\n    this.initializeSelectTag();\n    $(ReactDOM.findDOMNode(this.refs.background)).on('change',this.handleBackgroundModelChange);\n    // a polyfill for firefox, but disbaled for now\n    // $(window).resize(() => {\n    //   this.resizeFilterHeight();\n    // });\n  }\n\n  initializeSelectTag() {\n    $('select').material_select();\n  }\n\n  handleSearch(e) {\n    this.setState({\n      searchKey: e.target.value,\n    })\n  }\n\n  // only for background model\n  refreshPage(overrides) {\n    ReportFilter.showLoading('Fetching results for new background...');\n    const new_params = Object.assign({}, this.props.report_page_params, overrides);\n    window.location = location.protocol + '//' + location.host + location.pathname + '?' + $.param(new_params);\n  }\n\n\n  handleBackgroundModelChange(e) {\n    const backgroundName = e.target.value;\n    const backgroundParams = this.backgroundModels[e.target.selectedIndex].id;\n    this.setState({ backgroundName, backgroundParams }, () => {\n      Cookies.set('background_name', backgroundName);\n      Cookies.set('background_id', backgroundParams);\n      this.refreshPage({background_id: backgroundParams});\n    });\n  }\n\n  resizeFilterHeight() {\n    const height = window.innerHeight;\n    const subHeader = $('.sub-header-component').height();\n    const headerHeight = $('.site-header').height();\n    const newHeight = height;\n    // $('.reports-sidebar').css('min-height', newHeight);\n  }\n\n\n  static showLoading(message) {\n    $('.page-loading .spinner-label').text(message);\n    $('body').css('overflow', 'hidden');\n    $('.page-loading').css('display', 'flex');\n  }\n\n  static hideLoading() {\n    $('.page-loading .spinner-label').text();\n    $('body').css('overflow', 'scroll');\n    $('.page-loading').css('display', 'none');\n  }\n\n  applyExcludedCategories(e) {\n    //ReportFilter.showLoading('Applying category filter...');\n    let excluded_categories = this.state.excluded_categories;\n    if (e.target.checked) {\n      const ridx = excluded_categories.indexOf(e.target.value);\n      if (ridx > -1) {\n        excluded_categories.splice(ridx, 1);\n      }\n    } else {\n      excluded_categories.push(e.target.value);\n    }\n    this.setState({\n      excluded_categories: excluded_categories,\n      searchId: 0,\n      searchKey: ''\n    }, () => {\n      Cookies.set('excluded_categories', JSON.stringify(excluded_categories));\n      this.applySearchFilter(0, excluded_categories);\n      this.flash();\n    });\n  }\n\n  flash() {\n    this.props.flash()\n  }\n\n  resetAllFilters() {\n    this.setState({\n      excluded_categories: [],\n      searchId: 0,\n      searchKey: ''\n    });\n    this.props.resetAllFilters()\n  }\n\n  searchSelectedTaxon(value, item) {\n    //ReportFilter.showLoading(`Filtering for '${value}'...`);\n    let searchId = item[1];\n    this.setState({\n      searchId,\n      excluded_categories: [],\n      searchKey: item[0]\n    }, () => {\n      this.applySearchFilter(searchId, []);\n    });\n  }\n\n  applySearchFilter(searchId, excluded_categories) {\n    this.props.applySearchFilter(searchId, excluded_categories);\n    this.flash()\n  }\n\n  render() {\n    const align_right = {'textAlign': 'right'};\n    const category_filter = (\n        <div className=\"filter-controls\">\n          <div className=\"category-title\">\n            CATEGORIES\n          </div>\n          <div className=\"categories\">\n            { this.all_categories.map((category, i) => {\n              return (\n                <p key={i}>\n                  <input type=\"checkbox\" className=\"filled-in cat-filter\" id={category.name} value={category.name} onClick={this.applyExcludedCategories} onChange={(e) => {}} checked={this.state.excluded_categories.indexOf(category.name) < 0} />\n                  <label htmlFor={ category.name }>{ category.name }</label>\n                </p>\n              )\n            })}\n            { this.all_categories.length < 1 ? <p>None found</p> : '' }\n          </div>\n        </div>\n    );\n    const genus_search = (\n      <div className=\"filter-controls\">\n        <div className=\"row\">\n          <div className=\"input-field col s12 genus-search-row\">\n            <div className='genus-name-label'>SEARCH</div>\n            <div className=\"filter-values genus-autocomplete-container\">\n              <ReactAutocomplete\n                inputProps={{ placeholder: 'species, genus, family, etc' }}\n                items={this.state.search_items}\n                shouldItemRender={(item, value) => (item[0] == 'All') || (value.length > 2 && item[0].toLowerCase().indexOf(value.toLowerCase()) > -1)}\n                getItemValue={item => item[0]}\n                renderItem={(item, highlighted) =>\n                  <div\n                    key={item[1]}\n                    style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n                  >\n                    {item[0]}\n                  </div>\n                }\n                value={ this.state.searchKey }\n                onChange={this.handleSearch}\n                onSelect={this.searchSelectedTaxon}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n    return (\n      <div>\n        <div className=\"sidebar-title\">\n          Report filters\n        </div>\n        <div className=\"sidebar-tabs\">\n          <div className=\"row\">\n            <div className=\"col s12 sidebar-full-container\">\n              <div id=\"reports-pane\" className=\"pane col s12\">\n                <div className=\"sidebar-pane\">\n                  <div className=\"report-data background-model\">\n                    <div className=\"report-title\">\n                      Select background model\n                    </div>\n                      <div className=\"input-field\">\n                      <i className=\"fa fa-angle-down right\"/>\n                        <select ref=\"background\" name=\"background\" className=\"\" id=\"background\"\n                                onChange={ this.handleBackgroundModelChange }\n                                defaultValue={ this.state.backgroundName }>\n                          { this.backgroundModels.length ?\n                              this.backgroundModels.map((background, i) => {\n                                return <option ref= \"background\" key={i}  >{background.name}</option>\n                              }) : <option>No background models to display</option>\n                            }\n                        </select>\n                      </div>\n                  </div>\n                </div>\n              </div>\n              <div id=\"filters-pane\" className=\"pane col s12\">\n                {category_filter}\n                {genus_search}\n                {this.props.filter_row_stats}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReportFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/ReportFilter.jsx","import React from 'react';\nimport axios from 'axios';\n\nclass CreateUser extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.csrf = props.csrf;\n    this.user = props.selectedUser || null;\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handlePConfirmChange = this.handlePConfirmChange.bind(this);\n    this.clearError = this.clearError.bind(this)\n    this.gotoPage = this.gotoPage.bind(this);\n    this.toggleCheckBox = this.toggleCheckBox.bind(this);\n    this.selectedUser = {\n      email: this.user ? this.user.email : '',\n      name: this.user? this.user.name : '',\n      password: '',\n      id: this.user ? this.user.id : null,\n      password_confirmation: '',\n      adminStatus: this.user ? this.user.admin : null\n    }\n    this.state = {\n      submitting: false,\n      isAdmin: this.selectedUser.adminStatus ? true : false,\n      success: false,\n      showFailed: false,\n      errorMessage: '',\n      successMessage: '',\n      serverErrors: [],\n      email: this.selectedUser.email || '',\n      name: this.selectedUser.name || '',\n      password: this.selectedUser.password || '',\n      pConfirm: this.selectedUser.password_confirmation || '',\n      adminstatus: this.selectedUser.adminStatus,\n      id: this.selectedUser.id\n    }\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    if(!this.isCreateFormInvalid()) {\n      this.setState({\n        submitting: true\n      });\n      this.createUser();\n    }\n  }\n\n  handleUpdate(e) {\n    e.preventDefault();\n    if(!this.isUpdateFormValid()) {\n      this.setState({\n        submitting: true\n      });\n      this.updateUser()\n    }\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  clearError() {\n    this.setState({ showFailed: false })\n  }\n\n  toggleCheckBox(e) {\n    this.setState({\n      isAdmin: e.target.value == \"true\" ? false : true,\n      adminstatus: e.target.value == \"true\" ? false : true,\n    })\n  }\n\n  handlePasswordChange(e) {\n    this.setState({\n        password: e.target.value\n    });\n  }\n\n  handlePConfirmChange(e) {\n    this.setState({\n        pConfirm: e.target.value\n    });\n  }\n\n  handleEmailChange(e) {\n    this.setState({\n        email: e.target.value\n    });\n  }\n\n  handleNameChange(e) {\n    this.setState({\n        name: e.target.value\n    });\n  }\n\n  isCreateFormInvalid() {\n    if (this.state.email === '' && this.state.password === '' && this.state.password_confirmation === '') {\n      this.setState({\n        showFailed: true,\n        errorMessage: 'Please fill all fields'\n      })\n      return true;\n    } else if (this.state.password === '') {\n      this.setState({\n        showFailed: true,\n        errorMessage: 'Please enter password'\n      })\n      return true;\n    }\n    else if (this.state.password_confirmation === '') {\n      this.setState({\n        showFailed: true,\n        errorMessage: 'Please re-enter password'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isUpdateFormValid() {\n    if (this.state.email === '') {\n      this.setState({\n        showFailed: true,\n        errorMessage: 'Please enter valid email address'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  createUser() {\n    var that = this;\n    axios.post('/users.json', {\n       user: {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password_confirmation: this.state.password_confirmation,\n        role: this.state.isAdmin ? 1 : 0\n      }\n    },\n    { headers: { 'X-CSRF-TOKEN': this.csrf } }\n    ).then((res) => {\n      that.setState({\n        submitting: false,\n        success: true,\n        successMessage: 'User created successfully'\n      }, () => {\n        that.gotoPage('/users');\n      })\n    })\n    .catch((err) => {\n      that.setState({\n        submitting: false,\n        showFailed: true,\n        serverErrors: err.response.data\n      })\n    })\n  }\n\n  updateUser() {\n    var that = this;\n    axios.patch(`/users/${this.state.id}.json`, {\n      user: {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password_confirmation: this.state.pConfirm,\n        role: this.state.adminstatus ? 1 : 0\n      }\n    },\n    { headers: { 'X-CSRF-TOKEN': this.csrf } }\n    ).then((res) => {\n      that.setState({\n        success: true,\n        submitting: false,\n        successMessage: 'User updated successfully'\n      }, () => {\n        that.gotoPage('/users');\n      })\n    }).catch((err) => {\n      that.setState({\n        showFailed: true,\n        submitting: false,\n        serverErrors: err.response.data\n      })\n    })\n  }\n\n  displayError(failedStatus, serverError, formattedError) {\n    if (failedStatus) {\n      return serverError.length ? serverError.map((error, i) => {\n        return <p className=\"error center-align\" key={i}>{error}</p>\n      }) : <span>{formattedError}</span>\n    } else {\n      return null\n    }\n  }\n\n  renderUserForm(submitFunc, funcName) {\n    return (\n      <div className=\"user-form\">\n          <div className=\"row\">\n            <form ref=\"form\" className=\"new_user\" id=\"new_user\" onSubmit={ submitFunc }>\n              <div className=\"row title\">\n                <p className=\"col s8 signup\"> { funcName } User</p>\n              </div>\n              { this.state.success ? <div className=\"success-info\" >\n                <i className=\"fa fa-success\"></i>\n                 <span>{this.state.successMessage}</span>\n                </div> : null }\n              <div className={this.state.showFailed ? 'error-info' : ''} >{ this.displayError(this.state.showFailed, this.state.serverErrors, this.state.errorMessage) }</div>\n              <div className=\"row content-wrapper\">\n                <div className=\"input-field\">\n                  <i className=\"fa fa-envelope\" aria-hidden=\"true\"></i>\n                  <input type=\"email\" onChange = { this.handleEmailChange } className=\"\" onFocus={ this.clearError } value={ this.state.email } />\n                  <label htmlFor=\"user_email\">Email</label>\n                </div>\n                <div className=\"input-field\">\n                  <i className=\"fa fa-envelope\" aria-hidden=\"true\"></i>\n                  <input type=\"text\" onChange = { this.handleNameChange } className=\"\" onFocus={ this.clearError } value={ this.state.name } />\n                  <label htmlFor=\"user_name\">Name</label>\n                </div>\n                 <div className=\"input-field\">\n                  <i className=\"fa fa-key\" aria-hidden=\"true\"></i>\n                  <input type=\"password\" onChange = { this.handlePasswordChange } className=\"\" onFocus={ this.clearError }  value={ this.state.password } />\n                  <label htmlFor=\"user_password\">Password</label>\n                </div>\n                <div className=\"input-field\">\n                  <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\n                  <input type=\"password\" onChange = { this.handlePConfirmChange } className=\"\" onFocus={ this.clearError }  value={ this.state.pConfirm} />\n                  <label htmlFor=\"user_password_confirmation\">Confirm Password</label>\n                </div>\n                <p>\n                  <input type=\"checkbox\" id=\"admin\" className=\"filled-in\" checked = {this.state.isAdmin ? \"checked\" : \"\"} onChange={ this.toggleCheckBox } value={this.state.isAdmin } />\n                  <label htmlFor=\"admin\">Admin</label>\n                </p>\n              </div>\n              <input className=\"hidden\" type=\"submit\"/>\n              { this.state.submitting ? <div className=\"center login-wrapper disabled\"> <i className='fa fa-spinner fa-spin fa-lg'></i> </div> :\n                <div onClick={ submitFunc } className=\"center login-wrapper\">Submit</div> }\n            </form>\n          </div>\n        </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        { this.props.selectedUser ? this.renderUserForm(this.handleUpdate,'Update') : this.renderUserForm(this.handleCreate, 'Create') }\n        <div className=\"bottom\">\n          <span className=\"back\" onClick={ this.props.selectedUser ? this.gotoPage.bind(this, '/users') : this.gotoPage.bind(this, '/') } >Back</span>|\n          <span className=\"home\" onClick={ this.gotoPage.bind(this, '/')}>Home</span>\n        </div>\n      </div>\n    )\n  }\n}\nexport default CreateUser;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/CreateUser.jsx","import React from 'react';\n\nclass ForbiddenPage extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n  }\n\n  render() {\n    return (\n      <div className=\"access\">Access Denied</div>\n    )\n  }\n\n}\nexport default ForbiddenPage;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Forbidden.jsx","import React from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\n\nclass Header extends React.Component  {\n  constructor(props, context) {\n    super(props, context);\n    this.userSignedIn = this.props.userSignedIn;\n    this.userDetails = this.props.userDetails || null;\n    this.location = window.location.pathname;\n    this.sendMail = this.sendMail.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n\tcomponentDidMount() {\n   this.displayProfileMenu();\n  }\n\n  displayProfileMenu() {\n    $('.profile-dropdown').dropdown({\n      belowOrigin: true,\n      stopPropagation: false\n    });\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  signOut() {\n    axios(`${this.props.signoutEndpoint}.json`,\n          { method: \"DELETE\",  withCredentials: true }\n    ).then(\n      (res) => {\n        this.gotoPage(this.props.signInEndpoint);\n      }\n    )\n  }\n\n  sendMail() {\n    var link = \"mailto:regger@chanzuckerberg.com?Subject=Report%20Feedback\"\n    window.location.href = link;\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"page-loading\">\n          <div className=\"btn disabled\">\n            <i className=\"fa fa-spinner fa-spin\"/>\n            <span className='spinner-label'></span>\n          </div>\n        </div>\n        <div className=\"site-header\">\n          {/* Dropdown menu */}\n          <ul id=\"dropdown1\" className=\"dropdown-content\">\n            <li onClick={ this.gotoPage.bind(this, '/samples/new') }><a href=\"#!\">New sample</a></li>\n           { this.userDetails && this.userDetails.admin ? <li onClick={ this.gotoPage.bind(this, '/users/new') }><a href=\"#!\">Create user</a></li> : null }\n            <li onClick={ this.sendMail }><a href=\"#!\">Report Feedback</a></li>\n            <li className=\"divider\"></li>\n            <li onClick={this.signOut}><a href=\"#\">Logout</a></li>\n          </ul>\n\n          <div>\n            <div className=\"\">\n              <a href=\"/\" className=\"left brand-details\">\n                <div className=\"brand-short\">\n                    ID.seq\n                </div>\n\n                <div className=\"brand-long\">\n                  Infectious Disease Platform\n                </div>\n              </a>\n\n              <div className={ this.userSignedIn ? \"right hide-on-med-and-down header-right-nav\" : \"right hide-on-med-and-down header-right-nav menu\" }>\n                { this.userSignedIn ? <div className='profile-header-dropdown'><a className=\"dropdown-button profile-dropdown\" data-activates=\"dropdown1\">\n                    { this.userDetails.email } <i className=\"fa fa-angle-down\"></i>\n                    </a></div>:  (this.location === '/users/sign_in' ? null : <div className=\"login\"><span onClick={ this.gotoPage.bind(this, '/users/sign_in') }>Login</span></div>)\n                 }\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default Header;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Header.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SubHeader = (props) => {\n  const { children } = props;\n  return (\n    <div className=\"sub-header-component\">\n      <div className=\"container\">\n        <div className=\"content\">\n          { children }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSubHeader.propTypes = {\n  children: PropTypes.element\n};\n\nSubHeader.defaultProps = {\n  children: PropTypes.element\n};\n\nexport default SubHeader;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/SubHeader.jsx","import React from 'react';\nimport Samples from './Samples';\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div>\n        <Samples {...this.props}/>\n      </div>\n    )\n  }\n}\n\nexport default Home;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Home.jsx","import React from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\n\nclass Login extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.csrf = props.csrf\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.toggleCheckBox = this.toggleCheckBox.bind(this);\n    this.clearError = this.clearError.bind(this);\n    this.gotoPage = this.gotoPage.bind(this);\n    this.sendMail = this.sendMail.bind(this);\n    this.state = {\n      isChecked: false,\n      success: false,\n      showFailedLogin: false,\n      errorMessage: '',\n      successMessage: ''\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.clearError()\n    if(!this.isFormInValid()) {\n      this.login()\n    }\n  }\n\n  clearError() {\n    this.setState({\n      showFailedLogin: false,\n      success: false\n    })\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  login() {\n    var that = this\n    axios.post(`${this.props.endpoint}.json`, {\n      user: {\n        email: this.refs.email.value,\n        password: this.refs.password.value,\n        remember_me: this.refs.remember_me.value\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      that.setState({\n        success: true,\n        successMessage: 'User signed in'\n      }, () => {\n        that.gotoPage('/');\n      })\n    })\n    .catch((error) => {\n      that.setState({\n        showFailedLogin: true,\n        errorMessage: 'Invalid Email and Password'\n      })\n    });\n  }\n\n  isFormInValid() {\n    if (this.refs.email.value === '' && this.refs.password.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter email and password'\n      })\n      return true;\n    } else if (this.refs.email.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter email'\n      })\n      return true;\n    } else if (this.refs.password.value === '') {\n      this.setState({\n        showFailedLogin: true,\n        errorMessage: 'Please enter password'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  toggleCheckBox() {\n    var checkboxValue = $('#remember_me').prop('checked')\n    this.setState({\n      isChecked: checkboxValue\n    })\n    this.state.isChecked = !this.state.isChecked;\n  }\n\n  sendMail() {\n    var link = \"mailto:regger@chanzuckerberg.com?Subject=Request%20IDseq%20Access\"\n    window.location.href = link;\n  }\n\n  renderLogin() {\n    return (\n        <div className=\"login-form\">\n          <div className=\"row\">\n            <form ref=\"form\" className=\"new_user\" id=\"new_user\" onSubmit={ this.handleSubmit }>\n              <div className=\"row title\">\n                <p className=\"col s6 signup\">Login</p>\n              </div>\n              <div className=\"mail\"><p>To request access to IDseq, please email us<span onClick={ this.sendMail }> here</span></p></div>\n              { this.state.success ? <div className=\"success-info\" >\n                <i className=\"fa fa-success\"></i>\n                 <span>{this.state.successMessage}</span>\n                </div> : null }\n              { this.state.showFailedLogin ? <div className=\"error-info\" >\n                  <i className=\"fa fa-error\"></i>\n                  <span>{this.state.errorMessage}</span>\n              </div> : null }\n              <div className=\"row content-wrapper\">\n                <div className=\"input-field\">\n                  <i className=\"sample fa fa-envelope\" aria-hidden=\"true\"></i>\n                  <input ref= \"email\" type=\"email\" className=\"\" onFocus={ this.clearError }  />\n                  <label htmlFor=\"user_email\">Email</label>\n                </div>\n                <div className=\"input-field\">\n                  <i className=\"sample fa fa-key\" aria-hidden=\"true\"></i>\n                  <input ref= \"password\" type=\"password\" className=\"\" onFocus={ this.clearError }   />\n                  <label htmlFor=\"user_password\">Password</label>\n                </div>\n                <div className=\"\">\n                  <input ref=\"remember_me\" type=\"checkbox\" name=\"switch\" className=\"filled-in\" id=\"remember_me\" onChange={ this.toggleCheckBox } value={this.state.isChecked ? 1 : 0} />\n                  <label htmlFor=\"remember_me\">Remember me</label>\n                </div>\n              </div>\n              <input className=\"hidden\" type=\"submit\"/>\n              <div onClick={ this.handleSubmit } className=\"center-align login-wrapper\">Submit</div>\n            </form>\n          </div>\n        </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        { this.renderLogin() }\n      </div>\n    )\n  }\n\n}\nexport default Login;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/Login.jsx","import React from 'react';\nimport SubHeader from './SubHeader';\n\n/**\n * @class ProjectVisualization\n * @desc a component to visualize sample and their species taxonomy distribution\n */\nclass ProjectVisualization  extends React.Component {\n  constructor(props) {\n    super(props);\n    this.projectName = props.project_name;\n    this.csvRecords = props.csv_records;\n    this.totalRecords = this.csvRecords.length;\n  }\n  render () {\n    return (\n      <div id=\"project-visualization\">\n        <SubHeader>\n          <div className=\"sub-header\">\n            <div className=\"title\">\n              Project Visualization\n            </div>\n            <div className=\"sub-title\">\n              Track pathogen distribution across { this.projectName } samples\n            </div>\n          </div>\n        </SubHeader>\n        <div className=\"row visualization-content\">\n          <div className=\"col s2\" id=\"visualization-sidebar\">\n            <div className='select-pathogens genus card'>\n              <div className='selected-pathogens'>\n                <div className='title grey-text'>\n                  All Processed Samples\n                  {\n                    (this.totalRecords) ? <small>({this.totalRecords})</small> : ''\n                  }\n                </div>\n                <ul>\n                  { this.csvRecords.map((sample, i) => {\n                    return (\n                      <li key={i}>\n                        <div className='pathogen-label samples'>\n                          <div className='grey-text text-lighten-1'>\n                            { sample.name }\n                          </div>\n                        </div>\n                      </li>\n                    );\n                  })}\n                  { ((!this.totalRecords)) ?\n                    <div className='text-grey text-lighten-1 center'>-no processed samples-</div> : ''\n                  }\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s10 graphs\">\n            <div className=\"card\">\n              <div className=\"card-action top\">\n                <a href=\"#\">Heatmap</a>\n              </div>\n              <div className=\"card-content\">\n                <div className='row'>\n                  <div className='col s9 center' id=\"heat-map\">\n                    <div className='scroll-heatmap center'>\n                      <svg id='heat-map-canvas'></svg>\n                    </div>\n\n                  </div>\n                  <div className='col s3'>\n                    <div className='color-scale-info'>\n                      <svg id='color-scale'></svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default ProjectVisualization;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/ProjectVisualization.jsx","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Tipsy from 'react-tipsy';\nimport IconComponent from './IconComponent';\n\nclass SampleUpload extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.csrf = props.csrf;\n    this.project = props.projectInfo ? props.projectInfo : null;\n    this.handleProjectSubmit = this.handleProjectSubmit.bind(this);\n    this.clearError = this.clearError.bind(this);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleProjectChange = this.handleProjectChange.bind(this);\n    this.handleHostChange = this.handleHostChange.bind(this);\n    this.handleQueueChange = this.handleQueueChange.bind(this);\n    this.handleMemoryChange = this.handleMemoryChange.bind(this);\n    this.handleResultChange = this.handleResultChange.bind(this);\n    this.toggleNewProjectInput = this.toggleNewProjectInput.bind(this);\n    this.projects = props.projects || [];\n    this.project = props.projectInfo || '';\n    this.hostGenomes = props.host_genomes || [];\n    this.sample = props.selectedSample || '';\n    this.userDetails = props.loggedin_user;\n    this.updateSampleName = this.updateSampleName.bind(this);\n    const selectedHostGenomeName = (this.hostGenomes[0] && this.hostGenomes[0].name) ? this.hostGenomes[0].name : '';\n    const selectedHostGenomeId = (this.hostGenomes[0] && this.hostGenomes[0].id) ? this.hostGenomes[0].id : '';\n    const adminGenomes = this.hostGenomes.filter((g) => {\n      return g.name.toLowerCase().indexOf('test') >= 0;\n    });\n    this.selected = {\n      name: this.sample.name || '',\n      hostGenome: this.sample ? this.sample.host_genome_name : selectedHostGenomeName,\n      hostGenomeId: this.sample ? this.sample.host_genome_id : selectedHostGenomeId,\n      project: this.project ? this.project.name : 'Select a project',\n      projectId: this.project ? this.project.id : null,\n      resultPath: this.sample ? this.sample.s3_preload_result_path : '',\n      jobQueue: this.sample ? this.sample.job_queue : '',\n      memory: this.sample ? this.sample.sample_memory : '',\n      id: this.sample.id || '',\n      inputFiles: props.inputFiles && props.inputFiles.length ? props.inputFiles : [],\n      status: this.sample.status\n    };\n    this.firstInput = this.selected.inputFiles.length && this.selected.inputFiles[0] ? (this.selected.inputFiles[0].source === null ? '' : this.selected.inputFiles[0].source) : '';\n    this.secondInput = this.selected.inputFiles.length && this.selected.inputFiles[1] ? (this.selected.inputFiles[1].source === null ? '' : this.selected.inputFiles[1].source) : '';\n    this.toggleCheckBox = this.toggleCheckBox.bind(this);\n    this.state = {\n      submitting: false,\n      allProjects: this.projects || [],\n      hostGenomes: this.hostGenomes || [],\n      invalid: false,\n      errorMessage: '',\n      success: false,\n      successMessage: '',\n      serverErrors: [],\n      selectedName: this.selected.name || '',\n      selectedHostGenome: this.selected.hostGenome || '',\n      selectedHostGenomeId: this.selected.hostGenomeId || null,\n      selectedProject: this.selected.project || '',\n      selectedPId: this.selected.projectId || null,\n      selectedResultPath: this.selected.resultPath || '',\n      selectedJobQueue: this.selected.jobQueue || '',\n      selectedMemory: this.selected.memory || '',\n      id: this.selected.id,\n      errors: {},\n      adminGenomes,\n      sampleName: '',\n      disableProjectSelect: false,\n      omit_subsampling_checked: false\n    };\n  }\n\n  componentDidMount() {\n    $('body').addClass('background-cover');\n    $('.tooltipped').tooltip({ delay: 50 });\n    this.initializeSelectTag();\n    $(ReactDOM.findDOMNode(this.refs.projectSelect)).on('change',this.handleProjectChange);\n    $(ReactDOM.findDOMNode(this.refs.hostSelect)).on('change',this.handleHostChange);\n    this.initializeTooltip();\n  }\n    initializeTooltip() {\n      // only updating the tooltip offset when the component is loaded\n      $(() => {\n        const tooltipIdentifier = $(\"[rel='tooltip']\");\n        tooltipIdentifier.tooltip({\n          delay: 0,\n          html: true,\n          placement: 'top',\n          offset: '0px 50px'\n        });\n      });\n    }\n\n  handleUpload(e) {\n    e.preventDefault();\n    this.clearError();\n    if(!this.isFormInvalid()) {\n      this.createSample()\n    }\n  }\n\n  handleUpdate(e) {\n    e.preventDefault();\n    e.target.disabled = true;\n    this.clearError();\n    if(!this.isUpdateFormInvalid()) {\n      this.updateSample()\n    }\n  }\n\n  initializeSelectTag() {\n    $('select').material_select();\n  }\n\n  clearError() {\n    this.setState({\n      invalid: false,\n      success: false\n     })\n  }\n\n  gotoPage(path) {\n    location.href = `${path}`\n  }\n\n  toggleCheckBox(e) {\n    this.setState({\n      omit_subsampling_checked: e.target.value == \"true\" ? false : true,\n    })\n  }\n\n  handleProjectSubmit(e) {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    this.clearError();\n    if(!this.isProjectInvalid()) {\n      this.addProject()\n    }\n  }\n\n  addProject() {\n    var that = this;\n    axios.post('/projects.json', {\n      project: {\n        name: this.refs.new_project.value\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      var newProjectList = that.state.allProjects.slice();\n      newProjectList.push(response.data);\n      that.setState({\n        allProjects: newProjectList,\n        selectedProject: response.data.name,\n        selectedPId: response.data.id,\n        success: true,\n        successMessage: 'Project added successfully'\n      }, () => {\n        this.refs.new_project.value = '';\n        that.initializeSelectTag();\n      });\n    })\n    .catch((error) => {\n      that.setState({\n        invalid: true,\n        errors: { 'selectedProject': 'Project already exists or is invalid' },\n      })\n    });\n  }\n\n  isProjectInvalid() {\n    if (this.refs.new_project.value === '' && this.state.selectedProject === 'Select a project') {\n      this.setState({\n        invalid: true,\n        errorMessage: 'Please enter valid project name'\n      })\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  createSample() {\n    _satellite.track('uploadsample');\n    this.setState({\n      submitting: true\n    });\n    axios.post('/samples.json', {\n      sample: {\n        name: this.state.sampleName,\n        project_name: this.state.selectedProject.trim(),\n        project_id: this.state.selectedPId,\n        input_files_attributes: [{source_type: 's3', source: this.refs.first_file_source.value.trim() },\n        {source_type: 's3', source: this.refs.second_file_source.value.trim() }],\n        s3_preload_result_path: (this.userDetails.admin) ? this.refs.s3_preload_result_path.value.trim() : '',\n        job_queue: this.state.selectedJobQueue,\n        sample_memory: this.state.selectedMemory,\n        host_genome_id: this.state.selectedHostGenomeId,\n        subsample: this.state.omit_subsampling_checked ? 0 : 1,\n        status: 'created'\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      this.setState({\n        success: true,\n        submitting: false,\n        successMessage: 'Sample created successfully'\n      });\n      setTimeout(() => {\n        this.gotoPage(`/samples/${response.data.id}`);\n      }, 2000);\n    })\n    .catch((error) => {\n      this.setState({\n        invalid: true,\n        submitting: false,\n        serverErrors: error.response.data,\n        errorMessage: 'Something went wrong'\n      });\n    });\n  }\n\n\n  updateSample() {\n    var that = this;\n    that.setState({\n      submitting: true\n    })\n    axios.put(`/samples/${this.state.id}.json`, {\n      sample: {\n        name: this.state.selectedName,\n        project: this.state.selectedProject,\n        project_id: this.state.selectedPId,\n        s3_preload_result_path: this.state.selectedResultPath,\n        job_queue: this.state.selectedJobQueue,\n        sample_memory: this.state.selectedMemory,\n        host_genome_id: this.state.selectedHostGenomeId\n      },\n      authenticity_token: this.csrf\n    })\n    .then((response) => {\n      that.setState({\n        success: true,\n        submitting: false,\n        successMessage: 'Sample updated successfully'\n      });\n      setTimeout(() => {\n        that.gotoPage(`/samples/${that.state.id}`);\n      }, 2000);\n    })\n    .catch((error) => {\n     that.setState({\n      submitting: false,\n      invalid: true,\n      serverErrors: error.response.data,\n      errorMessage: 'Failed to upload sample'\n     });\n    });\n  }\n\n  filePathValid(str) {\n    const regexPrefix = /s3:\\/\\//;\n    const regexSuffix = /(\\.fastq|\\.fastq.gz|\\.fasta|\\.fasta.gz)/igm;\n    return (str.match(regexPrefix) && str.match(regexSuffix));\n  }\n\n  isUpdateFormInvalid() {\n    if (this.state.selectedName === '' && this.state.selectedProject === 'Select a Project' && this.state.selectedHostGenome === '') {\n      this.setState({\n        invalid: true,\n        errorMessage: 'Please fill in name, host genome and select a project'\n      });\n      return true;\n    } else if (this.state.selectedName === '') {\n        this.setState({\n          invalid: true,\n          errorMessage: 'Please fill in Sample name'\n        });\n        return true;\n    } else if (this.state.selectedProject === 'Select a Project') {\n        this.setState({\n          invalid: true,\n          errorMessage: 'Please select a project'\n        });\n        return true;\n    } else if (this.state.selectedHostGenome === '') {\n      this.setState({\n        invalid: true,\n        errorMessage: 'Please select a host genome'\n      });\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n  baseName(str) {\n    let base = new String(str).substring(str.lastIndexOf('/') + 1);\n    if(base.lastIndexOf(\".\") != -1) {\n      base = base.substring(0, base.lastIndexOf(\".\"));\n    }\n    return base;\n  }\n  isFormInvalid() {\n    const errors = {};\n\n    if(this.state.sampleName) {\n      if(this.state.sampleName.toLowerCase() === '') {\n        errors.sampleName = 'Please enter a sample name';\n      }\n    } else {\n      errors.sampleName = 'Please enter a sample name';\n    }\n\n    if(this.state.selectedProject) {\n      if(this.state.selectedProject.toLowerCase() === 'select a project') {\n        errors.selectedProject = 'Please select a project';\n      }\n    } else {\n      errors.selectedProject = 'Please select a project';\n    }\n\n    if(this.state.selectedHostGenome) {\n      if (this.state.selectedHostGenome === '') {\n        errors.selectedHostGenome = 'Please select a host genome';\n      }\n    } else {\n      errors.selectedHostGenome = 'Please select a host genome';\n    }\n\n    if (this.refs.first_file_source) {\n      const firstFileSourceValue = this.refs.first_file_source.value.trim();\n      if(!this.filePathValid(firstFileSourceValue)) {\n        errors.first_file_source = 'Error: invalid file path';\n      }\n    } else {\n      errors.first_file_source = 'Error: invalid file path';\n    }\n\n    if (this.refs.second_file_source) {\n      const secondFileSourceValue = this.refs.second_file_source.value.trim();\n      if(secondFileSourceValue !== '' && !this.filePathValid(secondFileSourceValue)) {\n        errors.second_file_source = 'Error: invalid file path';\n      }\n    }\n\n    if(this.userDetails.admin ) {\n      // running validations for admin inputs\n      if(this.refs.s3_preload_result_path) {\n        const preloadPath = this.refs.s3_preload_result_path.value.trim();\n        if(preloadPath !== '' && preloadPath.indexOf('s3://') < 0) {\n          errors.s3_preload_result_path = 'Error: invalid file path';\n        }\n      }\n      if(this.state.selectedMemory !== '') {\n        const memorySize = parseInt(this.state.selectedMemory, 10);\n        if(isNaN(memorySize) || memorySize < 1) {\n          errors.memory = 'Memory size is not valid';\n        }\n      }\n    }\n    const errorLength  = Object.keys(errors).length;\n    if (errorLength) {\n      this.setState({ invalid: true, errors });\n    } else {\n      this.setState({ invalid: false, errors });\n    }\n    return errorLength;\n  }\n\n  handleProjectChange(e) {\n    if(e.target.value.trim().toLowerCase() !== 'select a project') {\n      const selectedIndex = e.target.selectedIndex - 1; // because the first item is Select a project\n      this.setState({\n        selectedProject: e.target.value.trim(),\n        selectedPId: this.state.allProjects[selectedIndex].id,\n        errors: Object.assign({}, this.state.errors, {selectedProject: null})\n      });\n    }\n    this.clearError();\n  }\n\n\n  handleHostChange(hostId, hostName) {\n    this.setState({\n      selectedHostGenome: hostName,\n      selectedHostGenomeId: hostId\n    });\n    this.clearError();\n  }\n\n  handleQueueChange(e) {\n    this.setState({\n      selectedJobQueue: e.target.value.trim()\n    });\n    this.clearError();\n  }\n\n  handleMemoryChange(e) {\n    this.setState({\n      selectedMemory: e.target.value.trim()\n    });\n    this.clearError();\n  }\n\n  handleNameChange(e) {\n    this.setState({\n      selectedName: e.target.value.trim(),\n    });\n  }\n\n  handleResultChange(e) {\n    this.setState({\n      selectedResultPath: e.target.value.trim()\n    });\n  }\n\n  displayError(failedStatus, serverError, formattedError) {\n    if (failedStatus) {\n      return (serverError instanceof Array) ? serverError.map((error, i) => {\n        return <p key={i}>{error}</p>\n      }) : <p>{formattedError}</p>\n    } else {\n      return null\n    }\n  }\n\n  toggleNewProjectInput(e) {\n    $('.new-project-input').slideToggle();\n    $('.new-project-button').toggleClass('active');\n    this.setState({\n      disableProjectSelect: !this.state.disableProjectSelect\n    }, () => {\n      this.initializeSelectTag();\n    });\n  }\n\n  static resolveGenomeIcon (genomeName, color) {\n    let imgPath = '/assets/generic_genome.png';\n    if (typeof genomeName === 'undefined') {\n      return false;\n    }\n    genomeName = genomeName.toLowerCase();\n    switch (genomeName) {\n      case 'mosquito':\n        return IconComponent.mosquito(color);\n        break;\n      case 'human':\n        return IconComponent.human(color);\n        break;\n      case 'no host subtraction':\n        return IconComponent.bacteria(color);\n        break;\n      default:\n        return false;\n    }\n  }\n\n  updateSampleName(e, sampleField) {\n    if(e) {\n      let value = e.target.value.trim();\n      if((value.length && value.indexOf('/'))) {\n        if(!this.refs.sample_name.value.trim().length) {\n          let base = this.baseName(value);\n          let fastqLabel = /.fastq*$|.fasta*$|.gz*$/igm;\n          let readLabel = /_R1.*$|_R2.*$/ig;\n          base = base.replace(fastqLabel, '').replace(readLabel, '');\n          this.refs.sample_name.value = base;\n          this.setState({ sampleName: base });\n        }\n      }\n    } else if(sampleField) {\n      this.setState({ sampleName: sampleField });\n    }\n  }\n\n  renderUpdateForm() {\n    return (\n      <div className=\"form-wrapper\">\n        <form ref=\"form\" onSubmit={ this.handleUpdate } >\n          <div className=\"row title\">\n            <p className=\"col s6 signup\">Sample Update</p>\n          </div>\n          {this.state.success ? <div className=\"success-info\" >\n            <i className=\"fa fa-success\"></i>\n              <span>{this.state.successMessage}</span>\n            </div> : null }\n          <div className={this.state.invalid ? 'error-info' : ''} >{ this.displayError(this.state.invalid, this.state.serverErrors, this.state.errorMessage) }</div>\n          <div className=\"row content-wrapper\">\n            <div className=\"row field-row\">\n              <div className=\"col s6 input-field name\">\n                <input ref= \"name\" type=\"text\" className=\"\" onFocus={ this.clearError } onChange= { this.handleNameChange } value= { this.state.selectedName }  />\n              </div>\n              <div className=\"col s6 input-field genome-list\">\n                  <select ref=\"hostSelect\" name=\"host\" className=\"\" id=\"host\" onChange={ this.handleHostChange } value={this.state.selectedHostGenome}>\n                      { this.state.hostGenomes.length ?\n                          this.state.hostGenomes.map((host, i) => {\n                            return <option ref= \"host\" key={i} id={host.id} >{host.name}</option>\n                          }) : <option>No host genomes to display</option>\n                        }\n                  </select>\n                  <label>Host genomes</label>\n                </div>\n            </div>\n              <div className=\"row field-row\">\n                <div className=\"input-field col s6 project-list\">\n                   <select ref=\"projectSelect\" className=\"\" onChange={ this.handleProjectChange } value={this.state.selectedProject} id=\"sample\">\n                    <option disabled defaultValue>{this.state.selectedProject}</option>\n                   { this.state.allProjects.length ?\n                      this.state.allProjects.map((project, i) => {\n                        return <option ref= \"project\" key={i} id={project.id} >{project.name}</option>\n                      }) : <option>No projects to display</option>\n                    }\n                  </select>\n                  <label>Project list</label>\n              </div>\n                <div className=\"input-field col s6\">\n                    <div className=\"row\">\n                      <input className=\"col s11 project-input\" ref= \"new_project\" type=\"text\" onFocus={ this.clearError } placeholder=\"Add a project if desired project is not on the list\" />\n                      <input className=\"col s1 add-icon\" value=\"&#xf067;\" type=\"button\" onClick={ this.handleProjectSubmit } />\n                    </div>\n                    <label htmlFor=\"new_project\">Project</label>\n                </div>\n              </div>\n              <div className=\"field-row input-field align\">\n                <i className=\"sample fa fa-link\" aria-hidden=\"true\"></i>\n                <input ref= \"first_file_source\" type=\"text\" className=\"no-edit\" onFocus={ this.clearError } placeholder=\"Required\" value={ this.firstInput } readOnly/>\n                <label htmlFor=\"sample_first_file_source\">Read 1 fastq s3 path</label>\n              </div>\n              <div className=\"field-row input-field align\" >\n                <i className=\"sample fa fa-link\" aria-hidden=\"true\"></i>\n                <input ref= \"second_file_source\" type=\"text\" className=\"no-edit\" onFocus={ this.clearError } placeholder=\"Required\" value={ this.secondInput } readOnly/>\n                <label htmlFor=\"sample_second_file_source\">Read 2 fastq s3 path</label>\n              </div>\n              <div className=\"row field-row\">\n                <div className={ this.userDetails.admin ? \"col s4 input-field\" : \"col s12 input-field\"}>\n                  <i className=\"sample fa fa-folder\" aria-hidden=\"true\"></i>\n                  <input ref= \"s3_preload_result_path\" type=\"text\" className=\"no-edit\" onChange={ this.handleResultChange }  onFocus={ this.clearError } readOnly placeholder=\"Optional\" value={ this.state.selectedResultPath }/>\n                  <label htmlFor=\"sample_s3_preload_result_path\">Preload results path (s3 only)</label>\n                </div>\n                { this.userDetails.admin ? <div className=\"col s4 input-field\">\n                  <i className=\"sample fa fa-file\" aria-hidden=\"true\"></i>\n                  <input ref= \"job_queue\" type=\"text\" className=\"\" onFocus={ this.clearError } placeholder=\"Optional\" value={this.state.selectedJobQueue} onChange={ this.handleQueueChange } />\n                  <label htmlFor=\"sample_job_queue\">Job queue</label>\n                </div> : null }\n                { this.userDetails.admin ? <div className=\"col s4 input-field\">\n                  <i className=\"sample fa fa-file\" aria-hidden=\"true\"></i>\n                  <input ref= \"memory\" type=\"text\" className=\"\" value={this.state.selectedMemory} onFocus={ this.clearError } placeholder=\"Optional\" onChange={ this.handleMemoryChange } />\n                  <label htmlFor=\"sample_memory\">Sample memory (in mbs)</label>\n                </div> : null }\n            </div>\n        </div>\n        <input className=\"hidden\" type=\"submit\"/>\n        { this.state.submitting ? <div className=\"center login-wrapper disabled\"> <i className='fa fa-spinner fa-spin fa-lg'></i> </div> :\n          <div onClick={ this.handleUpdate } className=\"center login-wrapper\">Submit</div> }\n      </form>\n    </div>\n    )\n  }\n\n\n  renderSampleForm() {\n    return (\n      <div id='samplesUploader' className='row'>\n        <div className='col s4 valign-wrapper offset-s4 upload-form-container'>\n          <div className='content'>\n            <div>\n              <div className='form-title'>\n                Single Upload\n              </div>\n              <div className='upload-info'>\n                Upload a single sample to be processed through the IDseq pipeline.\n              </div>\n            </div>\n            <div>\n              <p className='upload-question'>\n                Want to upload multiple samples at once? <a href='/samples/bulk_new'>Click here.</a>\n                <br/>\n                Rather use our CLI? <a href='https://github.com/chanzuckerberg/idseq-web/blob/master/README.md#submit-a-sample' target='_blank'>Read documentation here.</a>\n              </p>\n            </div>\n            { this.state.success ?\n              <div className=\"form-feedback success-message\" >\n                <i className=\"fa fa-check-circle-o\"/> <span>{this.state.successMessage}</span>\n              </div> : null\n            }\n            {\n              this.state.invalid ?\n                <div className='form-feedback error-message'>\n                  { this.displayError(this.state.invalid, this.state.serverErrors, this.state.errorMessage) }\n                </div> : null\n            }\n            <form ref=\"form\" onSubmit={ this.handleUpload }>\n              <div className='fields'>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col field-title no-padding s12'>\n                      Project\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <Tipsy content='Name of experiment or project' placement='top'>\n                      <div className='col project-list no-padding s8'>\n                        <select ref=\"projectSelect\" disabled={(this.state.disableProjectSelect ? 'disabled' : '')} className=\"projectSelect\" id=\"sample\" onChange={ this.handleProjectChange } value={this.state.selectedProject}>\n                          <option disabled defaultValue>{this.state.selectedProject}</option>\n                          { this.state.allProjects.length ?\n                            this.state.allProjects.map((project, i) => {\n                              return <option ref= \"project\" key={i} id={project.id} >{project.name}</option>\n                            }) : <option>No projects to display</option>\n                          }\n                        </select>\n                        {\n                          (this.state.errors.selectedProject) ?\n                            <div className='field-error'>\n                              {this.state.errors.selectedProject}\n                            </div> : null\n                        }\n                      </div>\n                    </Tipsy>\n                    <div className='col no-padding s4'>\n                      <Tipsy content='Add a new desired experiment or project name'\n                        placement='right'>\n                        <button type='button'\n                          onClick={this.toggleNewProjectInput}\n                          className='new-project-button new-button skyblue-button'>\n                          <i className='fa fa-plus'/>\n                          <span>\n                            New project\n                          </span>\n                        </button>\n                      </Tipsy>\n                    </div>\n                    <div className='col no-padding s12 new-project-input hidden'>\n                      <input type='text' onBlur={ (e) => {\n                        if (e.target.value.trim().length) {\n                          this.handleProjectSubmit();\n                        }\n                        $('.new-project-button').click();\n                      }} ref='new_project' onFocus={ this.clearError } className='browser-default' placeholder='Input new project name' />\n                      {\n                        (this.state.errors.new_project) ?\n                          <div className='field-error'>\n                            {this.state.errors.new_project}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n\n                <div className='field'>\n                  <div className='row'>\n                    <Tipsy content='This would be subtracted by the pipeline'\n                      placement='top'>\n                      <div className='col field-title no-padding s5'\n                        data-delay=\"50\">\n                        Select host genome\n                      </div>\n                    </Tipsy>\n                    {\n                      (this.userDetails.admin) ?\n                        <div className='col s7 right-align no-padding right admin-genomes'>\n                          {\n                            this.state.adminGenomes.map((g) => {\n                              return (\n                                <div key={g.id}\n                                     className={`${this.state.selectedHostGenome ===  g.name ? 'active' : ''} genome-label`}\n                                     id={g.name} onClick={() => this.handleHostChange(g.id, g.name)}>\n                                  { g.name }\n                                  </div>\n                              );\n                            })\n                          }\n                        </div> : null\n                    }\n                    </div>\n                  <div className='row input-row'>\n                    <div className='col center no-padding s12'>\n                      <ul className='host-selector'>\n                        {\n                          this.state.hostGenomes.map((g) => {\n                            return (\n                              SampleUpload.resolveGenomeIcon(g.name) ?\n                              <li\n                                  key={g.id} className={ `${this.state.selectedHostGenome ===  g.name ? 'active' : ''} `}\n                                  id={g.name} onClick={() => this.handleHostChange(g.id, g.name)}>\n                                  {\n                                    this.state.selectedHostGenome ===  g.name ?\n                                    <div className='img-container' dangerouslySetInnerHTML={{ __html: SampleUpload.resolveGenomeIcon(g.name, '#59bcd6') }} />\n                                    :\n                                    <div className='img-container' dangerouslySetInnerHTML={{ __html: SampleUpload.resolveGenomeIcon(g.name, '#95A1Ab') }} />\n                                  }\n                                <div className='genome-label'>\n                                  { g.name }\n                                </div>\n                              </li> : null\n                            );\n                          })\n                        }\n                        { this.state.hostGenomes.length ? '' :\n                          <div>\n                            <small>No host genome found!</small>\n                          </div>\n                        }\n                      </ul>\n                      {\n                        (this.state.errors.selectedHostGenome) ?\n                          <div className='field-error'>\n                            {this.state.errors.selectedHostGenome}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      <div className='field-title'>\n                        <div className='read-count-label'>\n                          Read 1\n                        </div>\n                        <div className='validation-info'>\n                          Accepted formats: fastq, fastq.gz, fasta, fasta.gz\n                        </div>\n                        <div className='example-link'>\n                          Example: s3://czbiohub-infectious-disease/RR004/RR004_water_2_S23/RR004_water_2_S23_R1_001.fastq.gz\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <div className='col no-padding s12'>\n                      <input type='text' ref='first_file_source' onKeyUp={this.updateSampleName} onBlur={ this.clearError } className='browser-default' placeholder='aws/path-to-sample' />\n                      {\n                        (this.state.errors.first_file_source) ?\n                          <div className='field-error'>\n                            {this.state.errors.first_file_source}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      <div className='field-title'>\n                        <div className='read-count-label'>\n                          Read 2\n                        </div>\n                        <div className='validation-info'>\n                          Accepted formats: fastq, fastq.gz, fasta, fasta.gz\n                        </div>\n                        <div className='example-link'>\n                          Example: s3://czbiohub-infectious-disease/RR004/RR004_water_2_S23/RR004_water_2_S23_R2_001.fastq.gz\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <div className='col no-padding s12'>\n                      <input ref='second_file_source' onFocus={ this.clearError } type='text' className='browser-default' placeholder='aws/path-to-sample' />\n                      {\n                        (this.state.errors.second_file_source) ?\n                          <div className='field-error'>\n                            {this.state.errors.second_file_source}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      <div className='field-title'>\n                        <div className='read-count-label'>\n                          Sample name\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <div className='col no-padding s12'>\n                      <input type='text' ref='sample_name' className='browser-default'\n                      onChange={(e) => this.updateSampleName(null, e.target.value)} placeholder='sample name' />\n                      {\n                        (this.state.errors.sampleName) ?\n                          <div className='field-error'>\n                            {this.state.errors.sampleName}\n                          </div> : null\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      <div className='field-title'>\n                        <div className='read-count-label'>\n                          Subsampling\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='row input-row'>\n                    <div className='col no-padding s12'>\n                      <input ref=\"omit_subsampling_checked\" type=\"checkbox\" name=\"switch\" id=\"omit_subsampling_checked\" className=\"filled-in\" onChange={ this.toggleCheckBox } value={ this.state.omit_subsampling_checked } />\n                      <label htmlFor=\"omit_subsampling_checked\" className=\"checkbox\">Skip subsampling (not recommended)</label>\n                    </div>\n                  </div>\n                </div>\n                {\n                  this.userDetails.admin ?\n                    <div>\n                      <div className='admin-fields divider'/>\n                      <div className='admin-input-title'>\n                        Admin options\n                      </div>\n                      <div className='field'>\n                        <div className='row'>\n                          <div className='col no-padding s12'>\n                            <div className='field-title'>\n                              <div className='read-count-label'>\n                                Preload results path (s3)\n                              </div>\n                              <div className='example-link'>\n                                Example: s3://yunfang-workdir/id-rr004/RR004_water_2_S23/\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className='row input-row'>\n                          <div className='col no-padding s12'>\n                            <input type='text' ref='s3_preload_result_path' className='browser-default' placeholder='aws/path-of-results' />\n                            {\n                              (this.state.errors.s3_preload_result_path) ?\n                                <div className='field-error'>\n                                  {this.state.errors.s3_preload_result_path}\n                                </div> : null\n                            }\n                          </div>\n                        </div>\n                      </div>\n                      <div className='field'>\n                        <div className='row'>\n                          <div className='col no-padding s12'>\n                            <div className='field-title'>\n                              <div className='read-count-label' htmlFor=\"sample_job_queue\">\n                                Job queue\n                              </div>\n                              <div className='validation-info'>\n                                Example: aegea_batch_ondemand\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className='row input-row'>\n                          <div className='col no-padding s12'>\n                            <input id='sample_job_queue' ref= \"job_queue\" type='text' className='browser-default'\n                                   placeholder='queue' value={this.state.selectedJobQueue}\n                                   onChange={ this.handleQueueChange } />\n                            {\n                              (this.state.errors.job_queue) ?\n                                <div className='field-error'>\n                                  {this.state.errors.job_queue}\n                                </div> : null\n                            }\n                          </div>\n                        </div>\n                      </div>\n                      <div className='field'>\n                        <div className='row'>\n                          <div className='col no-padding s12'>\n                            <div className='field-title'>\n                              <div htmlFor=\"sample_memory\" className='read-count-label'>\n                                Sample memory (in MB)\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className='row input-row'>\n                          <div className='col no-padding s12'>\n                            <input id='sample_memory' type='text' className='browser-default' ref= \"memory\" value={this.state.selectedMemory} placeholder='240000' onChange={ this.handleMemoryChange } />\n                            {\n                              (this.state.errors.memory) ?\n                                <div className='field-error'>\n                                  {this.state.errors.memory}\n                                </div> : null\n                            }\n                          </div>\n                        </div>\n                      </div>\n                    </div> :\n                    null\n                }\n                <div className='field'>\n                  <div className='row'>\n                    <div className='col no-padding s12'>\n                      { (this.state.submitting) ?\n                        <button type='button' disabled className='new-button blue-button upload-samples-button'>\n                          <i className='fa fa-spinner fa-spin fa-lg'/>\n                        </button> :\n                        <button type='submit' onClick={ this.handleUpload } className='new-button blue-button upload-samples-button'>\n                          Upload sample\n                        </button>\n                      }\n                      <button type='button' onClick={() => window.history.back()} className='new-button skyblue-button'>\n                        Cancel\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  render() {\n    return (\n      <div>\n        { this.props.selectedSample ? this.renderUpdateForm() : this.renderSampleForm() }\n      </div>\n    )\n  }\n}\nexport default SampleUpload;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/SampleUpload.jsx","class IconComponent {\n  static mosquito(color) {\n    return (\n      `<svg fill='${color}' x=\"0px\" y=\"0px\"\n           viewBox=\"0 0 463.003 463.003\" style='enable-background : new 0 0 463.003 463.003'>\n        <path d=\"M359.418,189.996c12.73-3.407,35.161-10.159,42.347-17.101c5.774-5.578,7.161-13.759,3.62-21.351\n          c-5.167-11.076-18.691-17.164-34.458-15.502c-10.467,1.102-33.561,7.968-58.011,15.238c-20.258,6.023-44.515,13.235-57.914,15.777\n          v-7.556c0-1.22-0.094-2.419-0.274-3.589l24.98-14.988c9.434-5.66,15.294-16.01,15.294-27.011V89.579l46.932-78.219\n          c2.131-3.552,0.979-8.159-2.573-10.29c-3.552-2.131-8.159-0.98-10.29,2.572l-48,80c-0.699,1.166-1.068,2.5-1.068,3.859v26.412\n          c0,5.762-3.069,11.184-8.011,14.148l-24.203,14.522c-2.473-2.381-5.463-4.226-8.786-5.348V71.501c0-4.142-3.357-7.5-7.5-7.5\n          s-7.5,3.358-7.5,7.5v65.734c-3.322,1.122-6.313,2.966-8.786,5.348l-24.203-14.522c-4.941-2.965-8.011-8.386-8.011-14.148V87.501\n          c0-1.359-0.369-2.693-1.068-3.859l-48-80c-2.133-3.552-6.738-4.702-10.29-2.572c-3.552,2.131-4.704,6.738-2.573,10.29l46.932,78.219\n          v24.334c0,11.001,5.86,21.351,15.294,27.011l24.98,14.988c-0.18,1.171-0.274,2.369-0.274,3.589v7.556\n          c-13.399-2.542-37.656-9.754-57.914-15.777c-24.45-7.27-47.544-14.136-58.011-15.238c-15.763-1.658-29.29,4.427-34.458,15.502\n          c-3.541,7.591-2.154,15.772,3.62,21.351c7.186,6.942,29.616,13.694,42.347,17.101c21.07,5.639,41.239,9.005,53.951,9.005\n          c10.197,0,21.08-1.139,30.733-2.57l-16.829,14.024c-6.79,5.659-11.857,13.083-14.653,21.47l-19.979,59.936l-63.164,78.956\n          c-2.588,3.234-2.063,7.954,1.171,10.542c1.383,1.106,3.038,1.644,4.681,1.644c2.2,0,4.38-0.964,5.861-2.815l64-80\n          c0.553-0.691,0.979-1.474,1.259-2.313l20.401-61.205c1.913-5.738,5.38-10.818,10.026-14.69l26.957-22.464v5.356l-21.591,26.989\n          c-6.712,8.389-10.409,18.927-10.409,29.673v56.292l-63.286,134.483c-1.764,3.748-0.155,8.216,3.593,9.979\n          c1.032,0.486,2.118,0.716,3.188,0.716c2.814,0,5.513-1.593,6.791-4.309l64-136c0.47-0.999,0.714-2.089,0.714-3.193v-57.969\n          c0-7.353,2.529-14.563,7.122-20.303l9.878-12.348v26.619c0,22.519,10.103,39.5,23.5,39.5s23.5-16.981,23.5-39.5v-26.619\n          l9.878,12.348c4.593,5.74,7.122,12.95,7.122,20.302v57.969c0,1.104,0.244,2.194,0.714,3.193l64,136\n          c1.278,2.716,3.976,4.309,6.791,4.309c1.069,0,2.156-0.23,3.188-0.716c3.748-1.764,5.356-6.232,3.593-9.979l-63.286-134.483v-56.292\n          c0-10.746-3.697-21.284-10.409-29.673l-21.591-26.989v-5.356l26.957,22.464c4.646,3.872,8.113,8.952,10.026,14.689l20.401,61.205\n          c0.28,0.839,0.706,1.623,1.259,2.313l64,80c1.481,1.852,3.661,2.815,5.861,2.815c1.643,0,3.298-0.538,4.681-1.644\n          c3.234-2.587,3.759-7.307,1.171-10.542l-63.164-78.956l-19.979-59.937c-2.796-8.386-7.863-15.81-14.653-21.469l-16.829-14.024\n          c9.653,1.431,20.536,2.57,30.733,2.57C318.178,199.001,338.347,195.635,359.418,189.996z M317.19,165.658\n          c22.722-6.756,46.217-13.742,55.307-14.698c10.576-1.115,17.312,2.677,19.294,6.926c0.809,1.733,0.657,3.153-0.448,4.221\n          c-6.067,5.861-58.5,21.894-85.876,21.894c-13.068,0-27.758-2.11-38.832-4.132C279.162,176.881,296.154,171.913,317.19,165.658z\n           M223.002,200.001v-18.597c2.638,1.027,5.503,1.597,8.5,1.597s5.862-0.57,8.5-1.597v18.597H223.002z M240.002,215.001v17h-17v-17\n          H240.002z M231.502,151.001c4.687,0,8.5,3.813,8.5,8.5s-3.813,8.5-8.5,8.5s-8.5-3.813-8.5-8.5S226.815,151.001,231.502,151.001z\n           M71.661,162.107c-1.105-1.068-1.257-2.488-0.448-4.221c1.744-3.739,7.168-7.123,15.653-7.123c1.157,0,2.372,0.063,3.641,0.197\n          c9.09,0.956,32.585,7.942,55.307,14.698c21.036,6.255,38.028,11.223,50.556,14.211c-11.074,2.021-25.764,4.132-38.832,4.132\n          C130.161,184.001,77.728,167.969,71.661,162.107z M231.502,280.001c-2.116,0-8.5-8.689-8.5-24.5v-8.5h17v8.5\n          C240.002,271.312,233.618,280.001,231.502,280.001z\"/>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        </svg>`\n    );\n  }\n\n  static human(color) {\n    return (\n      `<svg fill='${color}' x=\"0px\" y=\"0px\"\n         viewBox=\"0 0 511.997 511.997\" style='enable-background : new 0 0 511.997 511.997'>\n      <g>\n        <g>\n          <path d=\"M157.897,185.906c-3.217-2.609-7.939-2.117-10.549,1.101c-3.03,3.736-7.047,5.793-11.313,5.793\n            c-4.266,0-8.283-2.058-11.313-5.793c-2.609-3.217-7.333-3.709-10.549-1.101c-3.217,2.609-3.71,7.332-1.101,10.549\n            c5.847,7.21,14.217,11.345,22.963,11.345c8.746,0,17.115-4.135,22.963-11.345C161.607,193.238,161.114,188.515,157.897,185.906z\"\n            />\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M101.759,141.386c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569\n            C109.259,144.744,105.901,141.386,101.759,141.386z\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M170.311,141.386c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.357,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569\n            C177.811,144.744,174.453,141.386,170.311,141.386z\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M406.397,228.75c-3.217-2.609-7.94-2.117-10.549,1.101c-3.03,3.735-7.048,5.793-11.313,5.793\n            c-4.266,0-8.283-2.058-11.313-5.793c-2.608-3.217-7.332-3.71-10.549-1.101c-3.217,2.609-3.709,7.332-1.1,10.549\n            c5.846,7.211,14.216,11.345,22.962,11.345c8.746,0,17.115-4.135,22.962-11.345C410.106,236.082,409.614,231.359,406.397,228.75z\"\n            />\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M350.259,184.231c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569\n            C357.759,187.589,354.401,184.231,350.259,184.231z\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M418.811,184.231c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.357,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569\n            C426.311,187.589,422.953,184.231,418.811,184.231z\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M491.126,332.545l-58.757-23.503c-0.318-0.127-0.612-0.289-0.91-0.445c40.583-9.234,59.803-24.676,60.656-25.375\n            c2.029-1.663,3.042-4.265,2.671-6.862c-0.085-0.594-8.494-60.135-8.494-118.904c0-56.11-45.649-101.759-101.759-101.759\n            c-56.11,0-101.758,45.648-101.758,101.759c0,15.374-0.698,34.178-1.834,51.979l-16.373,8.187l-48.06-24.029\n            c-0.138-0.069-0.283-0.119-0.424-0.179c2.286-6.663,3.781-13.689,4.33-20.98c10.053-3.106,17.378-12.487,17.378-23.547\n            c0-7.449-3.328-14.131-8.569-18.653v-49.9c0-13.785-6.965-26.683-18.387-34.433c-3.87-14.38-16.79-24.481-31.958-24.481h-68.552\n            c-37.21,0-67.483,30.273-67.483,67.483v41.33c-5.241,4.521-8.569,11.204-8.569,18.653c0,11.06,7.325,20.441,17.378,23.547\n            c1.894,25.179,14.87,47.302,34.036,61.54v20.73L23.664,273.31C9.51,277.557,0,290.338,0,305.116v83.701c0,4.142,3.358,7.5,7.5,7.5\n            h1.069v86.759c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-86.759h27.845v86.759c0,4.142,3.358,7.5,7.5,7.5\n            c4.142,0,7.5-3.358,7.5-7.5v-129.32c0-6.578-1.929-12.948-5.577-18.42l-12.82-19.23c-2.298-3.447-6.955-4.377-10.4-2.081\n            c-3.447,2.297-4.378,6.954-2.08,10.401l12.82,19.231c2,3,3.058,6.492,3.058,10.099v27.561H16.069H15v-76.201\n            c0-8.103,5.214-15.11,12.976-17.439l25.747-7.724c8.966,37.542,43.017,64.95,82.312,64.95c14.117,0,27.827-3.481,40.104-10.105\n            c4.487,6.121,11.724,10.105,19.878,10.105h1.069v1.069c0,25.143,13.832,47.103,34.276,58.712v12.233\n            c0,0.46-0.294,0.868-0.731,1.014l-27.977,9.326c-13.581,4.527-22.706,17.187-22.706,31.503v24.316c0,4.142,3.358,7.5,7.5,7.5\n            c4.142,0,7.5-3.358,7.5-7.5V458.76c0-7.849,5.003-14.791,12.449-17.272l8.227-2.743c10.884,16.232,29.189,26.125,48.944,26.125\n            c19.776,0,38.064-9.887,48.946-26.124l8.225,2.742c7.446,2.482,12.449,9.423,12.449,17.272v24.316c0,4.142,3.358,7.5,7.5,7.5\n            c4.142,0,7.5-3.358,7.5-7.5V458.76c0-14.316-9.125-26.976-22.706-31.502l-27.977-9.326c-0.437-0.146-0.731-0.553-0.731-1.014\n            v-12.233c15.307-8.692,26.893-23.188,31.753-40.481c14.173,14.83,33.968,23.546,55.005,23.546\n            c33.212,0,62.353-21.469,72.391-52.728l28.629,11.451c6.953,2.781,11.445,9.417,11.445,16.904v35.079h-1.069h-26.776v-9.638\n            c0-4.142-3.358-7.5-7.5-7.5c-4.142,0-7.5,3.358-7.5,7.5v94.259c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-69.621\n            h19.276v69.621c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-69.621h1.069c1.989,0,3.896-0.79,5.303-2.196\n            c1.407-1.407,2.197-3.314,2.197-5.304v-42.579C512,349.719,503.807,337.617,491.126,332.545z M297.776,157.455\n            c0-47.839,38.92-86.759,86.759-86.759c47.839,0,86.758,38.92,86.758,86.759c0,50.363,6.065,101.274,8.036,116.479\n            c-6.721,4.397-23.929,14.081-53.018,20.445v-11.935c3.984-2.258,7.798-4.835,11.384-7.733\n            c14.758-11.929,25.187-28.636,29.363-47.042c1.392-6.133,2.098-12.458,2.098-18.799c0-42.391-30.657-48.477-60.305-54.363\n            c-18.865-3.745-38.372-7.618-53.906-20.045c-2.251-1.801-5.335-2.152-7.934-0.903c-2.599,1.249-4.251,3.876-4.251,6.76\n            c0,0.199-0.327,19.933-28.595,27c-4.019,1.005-6.462,5.077-5.457,9.096c1.004,4.019,5.077,6.46,9.095,5.457\n            c23.66-5.915,33.312-19.188,37.248-29.16c16.264,9.638,34.483,13.254,50.879,16.509c31.689,6.291,48.226,10.912,48.226,39.65\n            c0,5.226-0.581,10.434-1.726,15.48c-3.435,15.134-12.016,28.876-24.165,38.696c-12.5,10.104-27.622,15.444-43.73,15.444\n            c-14.684,0-28.659-4.504-40.519-13.015c-4.345-11.859-11.324-22.709-20.533-31.649v-33.525c0-2.6-1.346-5.014-3.557-6.38\n            c-2.211-1.366-4.971-1.491-7.297-0.328l-16.193,8.096C297.324,186.071,297.776,171.221,297.776,157.455z M308.483,212.435v27.143\n            l-27.144-13.571L308.483,212.435z M220.655,212.435l27.143,13.572l-27.143,13.571V212.435z M179.948,294.558v7.123\n            c-5.37,4.637-8.569,11.423-8.569,18.583c-10.682,6.311-22.817,9.639-35.345,9.639c-32.624,0-60.849-22.958-67.91-54.27\n            l18.529-5.559c4.571,23.088,24.972,40.553,49.382,40.553c19.383,0,36.231-11.017,44.641-27.112\n            C180.195,287.157,179.948,290.845,179.948,294.558z M100.69,260.27v-17.373c10.762,4.97,22.734,7.747,35.345,7.747\n            c12.61,0,24.583-2.778,35.345-7.746v17.383c0,19.489-15.855,35.345-35.345,35.345c-19.457,0-35.29-15.804-35.343-35.249\n            C100.692,260.341,100.69,260.305,100.69,260.27z M136.035,235.644c-38.39,0-69.621-31.231-69.621-69.62c0-4.142-3.358-7.5-7.5-7.5\n            c-5.314,0-9.638-4.324-9.638-9.638c0-5.314,4.323-9.638,9.638-9.638h17.138c3.228,0,6.094-2.065,7.115-5.128l6.884-20.652\n            c17.235-0.389,70.664-2.812,100.751-17.856c3.705-1.853,5.207-6.357,3.354-10.062c-1.852-3.705-6.356-5.207-10.062-3.354\n            c-32.281,16.14-98.807,16.346-99.475,16.346c-3.228,0.001-6.094,2.066-7.114,5.129l-6.859,20.578H58.914\n            c-0.358,0-0.714,0.012-1.069,0.027V88.903c0-28.939,23.544-52.483,52.483-52.483h68.552c8.956,0,16.48,6.455,17.893,15.347\n            c0.359,2.26,1.73,4.232,3.723,5.356c8.468,4.776,13.729,13.669,13.729,23.21v43.941c-0.355-0.016-0.71-0.027-1.069-0.027h-8.569\n            c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h8.569c5.314,0,9.638,4.323,9.638,9.638s-4.323,9.638-9.638,9.638\n            c-4.142,0-7.5,3.358-7.5,7.5C205.656,204.412,174.425,235.644,136.035,235.644z M186.379,260.283v-26.31\n            c7.461-5.543,13.982-12.276,19.276-19.928v19.781c-8.399,8.154-14.946,17.895-19.329,28.543\n            C186.355,261.676,186.379,260.982,186.379,260.283z M298.548,433.756c-8.257,10.087-20.661,16.113-33.979,16.113\n            c-13.302,0-25.714-6.03-33.974-16.114l4.78-1.593c6.572-2.19,10.988-8.317,10.988-15.244v-5.978\n            c5.796,1.627,11.898,2.516,18.207,2.516c6.309,0,12.411-0.889,18.207-2.516v5.978c-0.001,6.926,4.414,13.053,10.987,15.243\n            L298.548,433.756z M324.553,329.903c-4.142,0-7.5,3.358-7.5,7.5v7.457c0,0.065-0.001,0.13,0,0.195v0.917\n            c-0.001,28.939-23.545,52.483-52.484,52.483c-28.939,0-52.482-23.544-52.482-52.483v-8.569c0-4.142-3.358-7.5-7.5-7.5h-8.569\n            c-5.314,0-9.638-4.323-9.638-9.638c0-3.42,1.81-6.515,4.841-8.279c0.677-0.394,1.266-0.893,1.776-1.457\n            c18.54-0.537,78.639-4.026,118.138-26.597c3.596-2.055,4.846-6.636,2.791-10.233c-2.055-3.597-6.638-4.846-10.233-2.791\n            c-34.602,19.772-88.974,23.731-108.744,24.522v-0.872c0-13.949,4.224-27.458,11.878-38.847c0.599,0.949,1.4,1.773,2.386,2.382\n            c1.205,0.744,2.572,1.12,3.943,1.12c1.146,0,2.295-0.263,3.354-0.792l48.06-24.03l48.06,24.03\n            c1.059,0.529,2.208,0.792,3.354,0.792c1.372,0,2.739-0.376,3.943-1.12c0.985-0.609,1.786-1.434,2.385-2.382\n            c7.654,11.389,11.878,24.898,11.878,38.847v10.946c0,2.67,1.419,5.139,3.728,6.482c3.032,1.765,4.842,4.859,4.842,8.279\n            c0,5.314-4.324,9.638-9.638,9.638H324.553z M384.535,372.748c-20.764,0-40.028-10.571-51.242-27.849\n            c13.506-0.093,24.466-11.106,24.466-24.633c0-7.16-3.199-13.947-8.569-18.584v-7.123c0-3.019-0.163-6.021-0.482-8.995\n            c11.121,5.214,23.263,7.925,35.827,7.925c9.145,0,18.189-1.515,26.776-4.379v10.983c0,10.133,6.079,19.113,15.487,22.876\n            l16.173,6.469C435.22,355.066,411.55,372.748,384.535,372.748z\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <path d=\"M286.432,357.285c-3.217-2.609-7.94-2.117-10.549,1.101c-3.031,3.736-7.048,5.793-11.313,5.793\n            c-4.265,0-8.283-2.057-11.313-5.793c-2.609-3.217-7.333-3.71-10.549-1.101c-3.217,2.609-3.71,7.332-1.101,10.549\n            c5.848,7.209,14.217,11.345,22.963,11.345c8.746,0,17.115-4.135,22.963-11.344C290.141,364.618,289.648,359.894,286.432,357.285z\"\n            />\n        </g>\n      </g>\n      <g>\n        <g>\n          <circle cx=\"239\" cy=\"328.868\" r=\"7.5\"/>\n        </g>\n      </g>\n      <g>\n        <g>\n          <circle cx=\"290\" cy=\"328.868\" r=\"7.5\"/>\n        </g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      <g>\n      </g>\n      </svg>`\n    );\n  }\n\n  static bacteria(color) {\n    return (\n      `\n      <svg fill=${color} x=\"0px\" y=\"0px\" viewBox=\"0 0 496 496\" style='enable-background : new new 0 0 496 496'>\n        <g>\n          <g>\n            <g>\n              <path d=\"M429.56,290.888l45.584-19.536l-6.296-14.704l-47.352,20.296c-7.68-11.08-17.456-20.592-28.752-27.976l22.104-36.848\n                l-13.72-8.232l-22.44,37.392C365.656,235.368,351.232,232,336,232h-2.408l33.4-60.12l-13.984-7.768l-37.144,66.864\n                c-16.384-2.512-31.128-9.976-42.672-20.864l20.464-20.464l-11.312-11.312l-19.672,19.672C253.464,184.984,248,169.128,248,152\n                c0-0.408-0.056-0.808-0.064-1.216l41.376-6.896l-2.624-15.784l-40.312,6.72c-1.816-10.008-5.128-19.496-9.792-28.176l55-27.496\n                l-7.16-14.312L227.72,93.192c-4.528-5.824-9.672-11.136-15.4-15.784l25.936-32.416l-12.504-10l-26.72,33.4\n                c-6.84-3.864-14.216-6.864-21.96-8.96l6.776-33.864l-15.688-3.136l-6.808,34.04C158.272,56.176,155.152,56,152,56\n                c-8.304,0-16.312,1.168-24,3.16V0h-16v64.84c-4.336,2-8.52,4.272-12.488,6.872l-37.36-44.84L49.848,37.128l37.08,44.496\n                c-4.68,4.328-8.92,9.096-12.664,14.272L52.44,81.344l-8.872,13.312L66,109.608c-4.072,8.216-6.984,17.064-8.552,26.392H0v16h56v8\n                c0,5.824,0.24,11.592,0.592,17.328l-34.16,6.832l3.144,15.688l32.488-6.496c1.32,11.088,3.288,21.984,5.872,32.64l-50.12,14.32\n                l4.392,15.392l49.92-14.264c2.072,6.808,4.44,13.48,7.008,20.064L20.44,288.856l7.16,14.312l53.8-26.896\n                c3.872,8.456,8.152,16.68,12.824,24.664l-42.64,28.424l8.872,13.312l42.208-28.144c5.664,8.528,11.768,16.728,18.304,24.568\n                L99.576,353.36l8.872,13.312l23.24-15.496c5.608,5.992,11.456,11.76,17.568,17.24l-35.392,42.472l12.296,10.248l35.336-42.4\n                c6.504,5.2,13.216,10.128,20.168,14.736l-36.44,58.296l13.56,8.488l36.464-58.344c9.096,5.312,18.512,10.136,28.216,14.416\n                l-15.056,45.16l15.168,5.064l14.72-44.152c10.36,3.872,21.024,7.104,31.912,9.744l-6.064,30.312l15.688,3.144l6.032-30.152\n                c8.584,1.56,17.296,2.728,26.128,3.488V496h16v-56.2c2.672,0.072,5.328,0.2,8.008,0.2c10.056,0,19.752-1.512,28.96-4.184\n                l19.88,39.768l14.312-7.16l-19.16-38.32c6.504-3.056,12.624-6.752,18.312-11.032L417.6,444.8l12.8-9.592l-20.008-26.672\n                c4.664-4.784,8.864-10.008,12.552-15.616l44.624,29.744l8.872-13.312l-45.776-30.52c3.824-8.408,6.512-17.408,7.976-26.824H496\n                v-16h-56C440,319.824,436.176,304.56,429.56,290.888z M336,424C190.432,424,72,305.568,72,160v-8c0-44.112,35.888-80,80-80\n                s80,35.888,80,80c0,52.936,43.064,96,96,96h8c48.52,0,88,39.48,88,88C424,384.52,384.52,424,336,424z\"/>\n              <path d=\"M160,192c26.472,0,48-21.528,48-48s-21.528-48-48-48s-48,21.528-48,48S133.528,192,160,192z M160,112\n                c17.648,0,32,14.352,32,32s-14.352,32-32,32s-32-14.352-32-32S142.352,112,160,112z\"/>\n              <path d=\"M144,232c-13.232,0-24,10.768-24,24s10.768,24,24,24s24-10.768,24-24S157.232,232,144,232z M144,264\n                c-4.416,0-8-3.584-8-8c0-4.416,3.584-8,8-8s8,3.584,8,8C152,260.416,148.416,264,144,264z\"/>\n              <path d=\"M224,312c-17.648,0-32,14.352-32,32s14.352,32,32,32s32-14.352,32-32S241.648,312,224,312z M224,360\n                c-8.824,0-16-7.176-16-16c0-8.824,7.176-16,16-16c8.824,0,16,7.176,16,16C240,352.824,232.824,360,224,360z\"/>\n              <path d=\"M272,248c-13.232,0-24,10.768-24,24s10.768,24,24,24s24-10.768,24-24S285.232,248,272,248z M272,280\n                c-4.416,0-8-3.584-8-8c0-4.416,3.584-8,8-8c4.416,0,8,3.584,8,8C280,276.416,276.416,280,272,280z\"/>\n              <path d=\"M352,304c-17.648,0-32,14.352-32,32s14.352,32,32,32s32-14.352,32-32S369.648,304,352,304z M352,352\n                c-8.824,0-16-7.176-16-16c0-8.824,7.176-16,16-16c8.824,0,16,7.176,16,16C368,344.824,360.824,352,352,352z\"/>\n              <path d=\"M480,96v-1.896c0-5.584-0.616-11.032-1.736-16.288l13.312-6.656l-7.16-14.312l-11.192,5.6\n                c-3.456-7.752-8.16-14.816-13.824-21L484.8,22.4l-9.6-12.8l-28,21c-4.256-3.048-8.808-5.68-13.64-7.832l5.6-11.192l-14.312-7.16\n                l-6.656,13.312C412.928,16.616,407.488,16,401.896,16H400V0h-16v16.808c-4.408,0.896-8.464,2.656-12.216,4.872l-4.632-9.256\n                l-14.312,7.16l6.648,13.288c-2.816,3.944-4.864,8.416-6.104,13.24l-23.448-5.872l-3.872,15.52l26.584,6.648\n                c0.744,4.592,2.304,8.864,4.48,12.792l-15.656,5.216l5.064,15.168l22.016-7.336c3.08,2.248,6.488,4,10.136,5.304l-9.344,14.016\n                l13.312,8.872l12.976-19.456c2.56,1.328,4.368,3.928,4.368,7.016c0,5.328,1.096,10.4,2.992,15.056l-15.432,10.288l8.872,13.312\n                l15.416-10.28c3.48,3.448,7.6,6.24,12.144,8.232V176h16v-32c6.032,0,11.704-1.44,16.84-3.848l17.504,17.504l11.312-11.312\n                l-15.888-15.888c4.6-5.168,7.992-11.432,9.424-18.456H496V96H480z M464,104c0,13.232-10.768,24-24,24s-24-10.768-24-24\n                s-10.768-24-24-24s-24-10.768-24-24s10.768-24,24-24h9.896C436.144,32,464,59.856,464,94.104V104z\"/>\n            </g>\n          </g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n        <g>\n        </g>\n      </svg>`\n    );\n  }\n}\n\nexport default IconComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./app/assets/src/components/IconComponent.js"],"sourceRoot":""}