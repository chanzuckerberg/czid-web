<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @project.name %>
</p>

<p>
  <% if @project.users.count == 0 %>
    <strong>Users:</strong> none
  <% elsif @project.users.count == 1 %>
    <strong>User:</strong>
    <%= link_to @project.users.last.name, @project.users.last %>
  <% else %>
    <strong>Users:</strong>
    <% @project.users[0...-1].each do |u| %>
      <%= link_to u.name, u if u %>,
    <% end %>
    <%= link_to @project.users.last.name, @project.users.last %>
  <% end %>
</p>

<p>
  <strong>Date created:</strong>
  <%= @project.created_at %>
</p>

<p>
  <strong>Samples:</strong>
</p>

<% if @project.samples.count == 0 %>
  No samples yet.
<% else %>
  <table class="table table-condensed">
    <thead>
      <tr>
        <th>Sample</th>
        <th>Pipeline runs</th>
        <th colspan="1"></th>
      </tr>
    </thead>
    <tbody>
      <% @project.samples.each do |sample| %>
        <tr>
          <td><%= link_to sample.name, sample %></td>
          <td><%= sample.pipeline_outputs.count %></td>
          <td><%= link_to 'Show', sample %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<p>
<%= link_to 'Edit', edit_project_path(@project) %> |
<%= link_to 'See all projects', projects_path %> |
<%= link_to 'Front portal', root_path %>
</p>
