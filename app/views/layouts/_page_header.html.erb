<div id="page_header">
  <% if current_user && current_user.id && !@show_blank_header %>
    <%= javascript_tag do %>
      react_component('Header', {
        adminUser: <%= current_user.admin %>,
        email: "help@idseq.net",
        demoUser: <%= current_user.demo_user? %>,
        signInEndpoint: '<%=new_user_session_path%>',
        signOutEndpoint: '<%=destroy_user_session_path%>',
        userName: '<%= current_user.name %>',
        userSignedIn: true,
        disableNavigation: <%= @disable_header_navigation %>,
      }, 'page_header', JSON.parse('<%= raw escape_json(user_context)%>'))


      <% if ENV["SEGMENT_JS_ID"] %>
        <!-- Associate user ID with Segment -->
        analytics.identify(
          <%= current_user.id %>,
          <%= raw escape_json(current_user.traits_for_segment) %>);
      <% end %>
    <% end %>
  <% else %>
    <%= javascript_tag do %>
      react_component('Header', {
        userSignedIn: false,
        showBlank: <%= !!@show_blank_header %>
      }, 'page_header')
    <% end %>
  <% end %>
</div>
